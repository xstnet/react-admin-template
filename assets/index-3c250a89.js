import{r as g,D as F,a as e,R as G,j as r,T as m,f as W,h as X,i as J,k as Q,n as k,F as B}from"./index-03fa6030.js";import{ax as v,ay as p,L as Z,aj as ee,r as l,c as S,a0 as te,az as ae,B as ne,a2 as oe,S as se,aA as ie,a1 as re,v as de,R as ce,a7 as le,l as M,X as ue,ah as he,aB as K,aC as pe,aD as me,aE as fe,aF as ge,aG as O,aH as ye,ab as x,ac as h,aI as T,aJ as A,aK as Te,aL as ve,aM as be}from"./vendor-8a659f1c.js";const ke=()=>{const a=[{title:"昵称",dataIndex:"nickname",key:"nickname"},{title:"登录IP",dataIndex:"loginIp",key:"loginIp"},{title:"登录时间",dataIndex:"create_time",key:"create_time",render:o=>e(G,{time:o})}],t=Array(5).fill({id:g(10,1e5),userId:1,loginIp:"127.0.0.1",nickname:"admin",create_time:v().subtract(3,"second").format(F.second)});return e(p,{title:"登录历史",extra:e(Z,{to:"/",children:"查看更多"}),children:e(ee,{rowKey:()=>g(10,1e5),pagination:!1,size:"small",columns:a,dataSource:t})})},xe=({onAdd:a})=>{const t=l.useRef(null),[o,i]=l.useState(!1),[n,d]=l.useState(""),u=()=>{if(!n)return;const s=v().format("YYYY-MM-DD HH:MM:SS"),f={name:n,status:m.incomplete,id:g(100,1e9),create_time:s,update_time:s};a(f),d("")};return l.useEffect(()=>{var s,f;o?(s=t.current)==null||s.focus():(f=t.current)==null||f.blur()},[o]),r(S.Compact,{style:{width:"100%",marginBottom:"16px"},children:[e(te,{ref:t,autoComplete:"off",value:n,onFocus:()=>i(!0),onBlur:()=>i(!1),onChange:s=>d(s.target.value),placeholder:"Add Todo",suffix:o?e(ae,{style:{opacity:.5},color:"red"}):e("span",{}),onPressEnter:u}),e(ne,{onClick:u,type:"primary",icon:e(oe,{})})]})};const Ae=e(ie,{spin:!0}),Ce=({loading:a,delay:t=150})=>e(se,{delay:t,spinning:a,indicator:Ae}),C=(a,t,o)=>{const i={manual:!0,debounceWait:50},n=t?{...i,options:t}:i;return re(a,n,o)},Se=de.Text,Ie=a=>{const[t,o]=l.useState(!1),[i,n]=l.useState(!1),{colorError:d,colorPrimary:u}=W(),[s,f]=l.useState(a.todo),{loading:I,runAsync:j}=C(X),{loading:L,runAsync:H}=C(J),{loading:D,runAsync:Y}=C(Q),{id:w,status:E,name:_}=s,R=E===m.completed,b=I||L||D,$=t&&!b&&E===m.incomplete,N=c=>{if(I)return;const q=c.target.checked?m.completed:m.incomplete,z={...s,status:q};j(s).then(()=>f(z)).catch(k)},U=async c=>{L||(n(!1),H(s).then(()=>f({...s,name:c})).catch(k))},V=c=>{c.stopPropagation(),c.preventDefault(),!D&&Y({id:w}).then(()=>a.deleteTodo(s)).catch(k)};return e(le,{className:"todo-item",onChange:N,checked:R,children:e(Se,{type:R?"secondary":void 0,delete:!0,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),editable:i?{editing:i,text:_,onChange:U}:!1,children:r(S,{children:[_,b&&e(Ce,{loading:b}),$&&(()=>r(B,{children:[e(M,{title:"编辑",children:e(ue,{style:{color:u},onClick:c=>{c.stopPropagation(),c.preventDefault(),n(!0)}})}),e(M,{title:"删除",children:e(he,{onClick:V,style:{color:d}})})]}))()]})})},w)},Le=ce.memo(Ie),y=()=>v().format(F.second),De=()=>{const[a,t]=l.useState([{id:g(100,1e9),name:"全局搜索",status:m.incomplete,create_time:y(),update_time:y()},{id:g(100,1e9),name:"多tab布局支持",status:m.completed,create_time:y(),update_time:y()},{id:1,name:"这是一个todo例子",status:m.completed,create_time:y(),update_time:y()}]),o=n=>{t(d=>d.filter(u=>u.id!==n.id))};return e(p,{title:"待办事项",children:r(S,{direction:"vertical",style:{width:"100%"},children:[e(xe,{onAdd:n=>{t([n,...a])}}),a.map(n=>e(Le,{deleteTodo:o,todo:n},n.id))]})})},we=()=>{const[a,t]=l.useState("pv"),o=[{tab:"访问量",key:"pv"},{tab:"IP",key:"ip"}],i={pv:{stroke:"#8884d8",fill:"#b5b1e6"},ip:{stroke:"#00b96b",fill:"#82ca9d"}},n=Array.from({length:7}).map((d,u)=>({name:v().subtract(u+1,"day").format("MM-DD"),pv:g(1e3,1e4),ip:g(100,1e3)})).reverse();return e(p,{activeTabKey:a,onTabChange:d=>t(d),tabList:o,children:e(K,{width:"100%",height:300,children:r(pe,{data:n,children:[e(me,{strokeDasharray:"3 3"}),e(fe,{dataKey:"name"}),e(ge,{}),e(O,{wrapperStyle:{outline:"none"}}),e(ye,{type:"monotone",strokeWidth:2,dataKey:a,stroke:i[a].stroke,fill:i[a].fill})]})})})},P=[{name:"视频类",value:400},{name:"图文类",value:300},{name:"资讯类",value:300}],Pe=()=>e(B,{children:r("div",{children:[r(x,{gutter:24,children:[e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"今日销售额",value:126560,precision:2,prefix:"$"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,prefix:e(A,{}),suffix:"%"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,prefix:e(A,{}),suffix:"%"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,valueStyle:{color:"#3f8600"},prefix:e(A,{}),suffix:"%"})})})]}),e("br",{}),r(x,{gutter:16,children:[e(h,{span:18,style:{height:300},children:e(we,{})}),e(h,{span:6,children:e(p,{title:"内容占比",children:e(K,{width:"100%",height:300,children:r(Te,{width:400,height:400,children:[e(ve,{data:P,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:P.map((a,t)=>e(be,{fill:["#0088FE","#00C49F","#FFBB28"][t%3]},`cell-${t}`))}),e(O,{wrapperStyle:{outline:"none"}})]})})})})]}),e("br",{}),r(x,{gutter:16,children:[e(h,{span:12,children:e(De,{})}),e(h,{span:12,children:e(ke,{})})]})]})});export{Pe as default};
