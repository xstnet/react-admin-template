import{p as x,u as v,a as e,j as r,F as g,b as I,C as F,g as P}from"./index-0bb38a0c.js";import{r as o,a1 as A,J as k,aw as C,c as u,ag as j,B as n,ah as D,L as h,X as O,v as T,a2 as z,ai as B,aj as L}from"./vendor-8a659f1c.js";const E=()=>{console.log("render ArticleIndexPage");const t=o.useRef(new Map),{runAsync:p}=A(x,{manual:!0,debounceWait:100}),[s]=k.useForm(),{refresh:c,tableProps:m,search:b}=v(P,{form:s}),f=a=>{var i;(i=t==null?void 0:t.current)==null||i.set(a,!0),p({id:a}).then(c).finally(()=>{var l;return(l=t==null?void 0:t.current)==null?void 0:l.delete(a)})},y=o.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"封面",dataIndex:"cover",render:a=>e(C,{width:80,height:45,style:{borderRadius:4},src:a})},{title:"标题",dataIndex:"title"},{title:"简介",dataIndex:"description"},{title:"作者",dataIndex:"author"},{title:"发布时间",dataIndex:"create_time",sorter:!0},{title:"操作",key:"operation",fixed:"right",render:(a,i)=>{var d;const{id:l}=i;return r(u,{children:[e(j,{title:"确认要删除这条数据吗?",onConfirm:()=>f(l),children:e(n,{loading:(d=t==null?void 0:t.current)==null?void 0:d.has(l),icon:e(D,{}),size:"small",danger:!0,children:"删除"})}),e(h,{to:`/article/update/${l}`,children:e(n,{icon:e(O,{}),size:"small",children:"编辑"})})]})}}],[]);return r(g,{children:[e(I,{search:b,form:s,fields:[{type:"input",label:"标题",name:"title"},{type:"input",label:"作者",name:"author"},{type:"input",label:"简介",name:"desc"},{type:"radio",label:"单选",name:"radio",fieldProps:{options:[{label:"1111",value:"222"},{label:"2222",value:"333"}]}},{type:"checkbox",label:"多选",name:"checkbox",fieldProps:{options:[{label:"1111",value:"2223452"},{label:"1111",value:"2222"},{label:"1111",value:"222"}]}},{type:"select",label:"状态",name:"status",fieldProps:{options:[{label:"已发布",value:"published"},{label:"草稿",value:"draft"}]}},{type:"dateRange",label:"发布时间",name:"create_time"}],title:"查询"}),e("br",{}),r(F,{children:[r("div",{className:"table-header",children:[e("div",{className:"left",children:e(T.Title,{level:5,children:"文章列表"})}),e("div",{className:"right",children:r(u,{size:"middle",children:[e(h,{to:"/article/create",children:e(n,{type:"primary",icon:e(z,{}),children:"发布文章"})}),e(n,{type:"link",title:"点击刷新",onClick:c,icon:e(B,{})})]})})]}),e(L,{rowKey:"id",columns:y,...m})]})]})};export{E as default};
