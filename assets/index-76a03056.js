import{j as Ce,r as o,C as it,z as dt,t as G,u as De,a as J,b as H,m as $,d as ut,S as ze,n as je,c as O,B as S,e as Ve,R as D,f as ne,g as se,h as ce,L as ge,H as mt,i as ht,k as pt,T as qe,l as de,o as ft,F as He,p as Ke,q as gt,s as w,G as yt,v as R,w as bt,x as kt,y as Z,A as ve,U as Ye,D as q,E as ye,P as Ct,I as vt,J as v,K as xe,M as xt,N as V,O as ae,Q as St,V as Tt,W as It,X as Ge,Y as Pt,Z as Mt,_ as Nt,$ as Lt,a0 as M,a1 as X,a2 as Se,a3 as We,a4 as wt,a5 as At,a6 as Rt,a7 as $t,a8 as Ne,a9 as Te,aa as Ft,ab as Ie,ac as ee,ad as Ot,ae as Ut,af as Le,ag as we,ah as Et,ai as _t,aj as Bt,ak as Dt,al as Je,am as zt,an as Qe,ao as jt,ap as Vt,aq as qt,ar as T,as as F,at as Ae,au as Ht}from"./vendor-c05c7121.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();const U=Ce.Fragment,t=Ce.jsx,f=Ce.jsxs,_={pageTitle:"åŽå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿",pageTitlePrefix:"åŽå°ç®¡ç†",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/react-admin-template/api",iconFontUrl:"//at.alicdn.com/t/c/font_3917407_68ll5mr3jkf.js"};function Kt(e,n){localStorage.setItem(e,typeof n=="object"?JSON.stringify(n):n)}function Yt(e){localStorage.setItem(_.tokenKey,typeof e=="object"?JSON.stringify(e):e)}function Ze(e){return localStorage.getItem(e)}function Gt(e){const n=localStorage.getItem(e);if(n!==null)return Number(n)}function Wt(e){const n=localStorage.getItem(e);if(n!==null)return n==="true"}function Jt(e){const n=localStorage.getItem(e);if(n!==null)return JSON.parse(n)}function Qt(e){return Ze(e)!==null}function Zt(e){localStorage.removeItem(e)}function Xt(){localStorage.removeItem(_.tokenKey)}function en(){localStorage.clear()}const L={set:Kt,setToken:Yt,has:Qt,getString:Ze,getObject:Jt,getBoolean:Wt,getNumber:Gt,remove:Zt,removeToken:Xt,clear:en},Xe=()=>{const[e,n]=o.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return o.useEffect(()=>{const r=s=>{console.log("chage",s.matches),s.matches?n(!0):n(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",r)}},[]),[e?"dark":"light"]},tn=void 0,nn=o.createContext(tn),an=({children:e})=>{const{settings:{primaryColor:n,theme:a,compactMode:r,followSystemTheme:s}}=o.useContext(K),[l]=Xe(),d={},i=()=>{const u=[];return s?u.push(l==="light"?G.defaultAlgorithm:G.darkAlgorithm):u.push(a==="light"?G.defaultAlgorithm:G.darkAlgorithm),r&&u.push(G.compactAlgorithm),u};return t(nn.Provider,{value:d,children:t(it,{locale:dt,theme:{algorithm:i(),token:{colorPrimary:n},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:e})})},rn=void 0,K=o.createContext(rn),on=({children:e})=>{const n=o.useMemo(()=>({theme:"light",compactMode:!1,followSystemTheme:!0,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#00b96b",...L.getObject("settings")||{}}),[]),[a,r]=o.useState(n),s=o.useCallback(d=>{const i={...a,...d};r(i),L.set("settings",i)},[a]),l={settings:a,setSetting:s};return t(K.Provider,{value:l,children:t(an,{children:e})})},sn=void 0,Y=o.createContext(sn),ln=({children:e})=>{const[n,a]=o.useState(!1),[r,{toggleFullscreen:s}]=De(document.body),[l,d]=o.useState(null),i=o.useMemo(()=>({isLogin:n,setIsLogin:a,userInfo:l,setUserInfo:d,fullScreen:r,setFullScreen:s}),[n,l,r]);return t(Y.Provider,{value:i,children:t(on,{children:e})})},cn="modulepreload",dn=function(e){return"/react-admin-template/"+e},Re={},le=function(n,a,r){if(!a||a.length===0)return n();const s=document.getElementsByTagName("link");return Promise.all(a.map(l=>{if(l=dn(l),l in Re)return;Re[l]=!0;const d=l.endsWith(".css"),i=d?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const g=s[h];if(g.href===l&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const c=document.createElement("link");if(c.rel=d?"stylesheet":cn,d||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),d)return new Promise((h,g)=>{c.addEventListener("load",h),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())},un=({to:e})=>{const n=J();return o.useEffect(()=>{n(e)},[]),null};var be=(e=>(e[e.success=0]="success",e[e.noLogin=-10001]="noLogin",e[e.loginExpired=-10002]="loginExpired",e))(be||{}),et=(e=>(e[e.male=1]="male",e[e.female=2]="female",e))(et||{}),oe=(e=>(e[e.incomplete=1]="incomplete",e[e.completed=2]="completed",e[e.deleted=10]="deleted",e))(oe||{}),mn=(e=>(e.day="YYYY-MM-DD",e.second="YYYY-MM-DD HH:mm:ss",e.minute="YYYY-MM-DD HH:mm",e.hour="YYYY-MM-DD HH",e))(mn||{});function W(){}function $e(e,n){return Math.floor(Math.random()*(n-e+1))+e}function tt(e,n){const{roles:a=[]}=n||{};return e?typeof e=="string"||typeof e=="number"?a.includes(e):Array.isArray(e)?e.some(r=>a.includes(r)):typeof e=="function"?e(n):!1:!0}function hn(e){var a;const{config:n}=e;console.group(`${(a=n.method)==null?void 0:a.toLocaleUpperCase()} ${n.url}`),console.log("Path:",n.url),console.log("Method:",n.method),console.log("Params:",n.params),console.log("Body:",n.data),console.log("StatusCode:",e.status),console.log("Response:",typeof e.data=="object"?Object.assign(Object.create(null),e.data):e.data),console.groupEnd()}const pn=10*1e3;H.defaults.baseURL=_.apiBaseUrl;H.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";H.defaults.timeout=pn;H.interceptors.request.use(e=>(e.headers.Authorization=`Bearer ${L.getString(_.tokenKey)}`,e),e=>Promise.reject(e));H.interceptors.response.use(e=>{hn(e);const n=e.data;return typeof n.code!="number"?($.error("ç³»ç»Ÿé”™è¯¯",2),console.warn("apiè°ƒç”¨å¤±è´¥, æœªæ­£å¸¸è¿”å›žæ•°æ®, url:",e.config.url,"data:",n,"response:",e),Promise.reject(e)):n.code===0?(e.config.method==="post"&&typeof e.data.message=="string"&&e.data.message.length>0&&$.success(e.data.message),e):n.code===be.noLogin?($.error("æ‚¨è¿˜æ²¡æœ‰ç™»å½•, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢, è¯·ç¨åŽ..."),L.remove(_.tokenKey),location.reload(),Promise.reject(n)):n.code===be.loginExpired?($.error("ç™»å½•å·²å¤±æ•ˆ, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢..."),L.remove(_.tokenKey),location.reload(),Promise.reject(n)):($.error(n.message),Promise.reject(e))},e=>(typeof e.message=="string"&&e.message==="Network Error"?$.error("ç½‘ç»œé”™è¯¯, è¯·ç¨åŽå†è¯•!"):$.error("è¯·æ±‚å¤±è´¥, è¯·ç¨åŽå†è¯•"),console.log("Request error",e),Promise.reject(e)));const fn=(e,n,a)=>{const r=a||{};return r.params=n,H.get(e,r).then(s=>s.data.data).catch(s=>Promise.reject(s))},gn=(e,n,a)=>H.post(e,n,a).then(r=>r.data.data).catch(r=>Promise.reject(r)),yn=e=>H.request(e),P={get:fn,post:gn,request:yn},Fa=e=>P.post("/login",e),bn=e=>P.get("/user/info",e),kn=()=>P.post("/user/logout"),Cn=(e,n)=>P.get("/user/list",{...e,...n}),vn=e=>P.post("/user/create",e),xn=e=>P.post("/user/update",e),Sn=e=>P.post("/user/delete",e),Oa=(e,n)=>P.get("/article/list",{...e,...n}),Tn=e=>P.get("/article/detail",e),In=e=>P.post("/article/create",e),Pn=e=>P.post("/article/update",e),Ua=e=>P.post("/article/delete",e),Ea=e=>P.get("/todo/list",e),_a=e=>P.post("/todo/changeStatus",e),Ba=e=>P.post("/todo/delete",e),Da=e=>P.post("/todo/update",e),za=e=>P.post("/todo/create",e);function Mn(e){const n=e.split(".")[1];if(n)try{return JSON.parse(ut(n))}catch(a){console.warn("Parse Token Error: ",a);return}}function Fe(){var a;const e=L.getString(_.tokenKey);if(!e)return!1;const n=Mn(e);return n!==void 0&&((a=n==null?void 0:n.data)==null?void 0:a.uid)>0&&n.exp>new Date().getTime()/1e3}const Pe=({loading:e=!0,title:n="é¡µé¢åŠ è½½ä¸­",delay:a=50})=>{const{settings:{theme:r}}=o.useContext(K);return t(ze,{size:"large",spinning:e,tip:n,delay:a,wrapperClassName:`page-loading-spin-${r}`,children:t("div",{style:{height:"100%",width:"100%"}})})},Nn=()=>{const[e,n]=je.useNotification(),a=L.getBoolean("dontShowCompactModeNotify"),{setSetting:r,settings:{compactMode:s}}=o.useContext(K),l=()=>{const d=`open${Date.now()}`,i=f(O,{children:[t(S,{type:"link",size:"small",onClick:()=>e.destroy(),children:"ä¸å†æç¤º"}),t(S,{type:"primary",size:"small",onClick:()=>{r({compactMode:!0}),e.destroy(d)},children:"å¼€å¯"})]});e.info({message:"å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼",description:"æ£€æµ‹åˆ°æ‚¨çš„å±å¹•å°ºå¯¸è¿‡å°, æ˜¯å¦å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼? æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯",btn:i,key:d,onClose:()=>L.set("dontShowCompactModeNotify",!0)})};return o.useEffect(()=>{!a&&!s&&window.innerWidth<=1440&&l()},[]),n},Ln=[{label:"æŽ§åˆ¶å°",icon:"icon-dashboard",path:"/dashboard",permission:"admin"},{label:"ç¤ºä¾‹é¡µé¢",path:"/example",icon:"icon-example",children:[{label:"åˆ—è¡¨é¡µ",icon:"icon-list",path:"/example/userList",permission:["admin","guest"]},{label:"æƒé™æµ‹è¯•é¡µ",icon:"icon-list",path:"/example/permission",children:[{label:"èœå•æƒé™",icon:"icon-list",path:"/example/permission/menu"},{label:"æŒ‰é’®æƒé™",icon:"icon-list",path:"/example/permission/button"}]},{label:"å¤šçº§èœå•",icon:"icon-list",path:"/multilevel/menu",children:[{label:"äºŒçº§èœå•",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"ä¸‰çº§èœå•",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"Tabsæ ‡ç­¾é¡µ",icon:"icon-list",path:"/example/tabs",children:[{label:"æ ‡ç­¾ç®¡ç†",icon:"icon-list",path:"/example/tabs/manage"}]},{label:"ç©ºç™½é¡µ",icon:"icon-example",path:"/blank"},{label:"404",icon:"icon-example",path:"/404"}]},{label:"å¾½æ ‡ç¤ºä¾‹",path:"/badge",icon:"icon-example",children:[{label:"çº¢ç‚¹å¾½æ ‡",icon:"icon-list",badge:"dot",path:"/badge/dot"},{label:"æ•°å­—å¾½æ ‡",icon:"icon-example",badge:98,path:"/badge/count"}]},{path:"/article",label:"æ–‡ç« ç®¡ç†",icon:"icon-article",permission:"admin",children:[{path:"/article/list",label:"æ–‡ç« åˆ—è¡¨",icon:"icon-article"},{path:"/article/create",label:"å‘å¸ƒæ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"æ›´æ–°æ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"åˆ†ç±»ç®¡ç†",icon:"icon-list"}]},{path:"/iframe",label:"å¤–éƒ¨é¡µé¢",icon:"icon-href",permission:"admin",children:[{path:"https://ant-design.antgroup.com/components/overview-cn",label:"antdæ–‡æ¡£(å¤–é“¾)",icon:"icon-document",type:"url"},{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å†…åµŒ)",icon:"icon-document",type:"iframe"},{path:"https://www.xstnet.com",label:"åšå®¢ä¸»é¡µ(å†…åµŒ)",icon:"icon-document",type:"iframe"},{path:"https://baidu.com",label:"ç™¾åº¦",icon:"icon-document",type:"iframe"}]},{path:"/document",label:"æ–‡æ¡£",hideInMenu:!0,icon:"icon-document",children:[{path:"/document/start",label:"å¼€å§‹ä½¿ç”¨",icon:"icon-document"},{path:"/document/package.json",label:"Packageæ–‡ä»¶è¯´æ˜Ž",icon:"icon-document"}]},{path:"/user/center",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-user-permissions",permission:e=>e.roles.includes("admin"),children:[{path:"/user/center/index",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-example"},{path:"/user/center/update",label:"ä¿®æ”¹ä¿¡æ¯",icon:"icon-document"}]}],wn=async e=>Ln;function nt(e){return!!(typeof e.children>"u"||Array.isArray(e.children)&&e.children.length===0)}function me(e){return pe(e)?!1:!!(typeof e.children<"u"&&Array.isArray(e.children)&&e.children.length>0)}function he(e){return typeof e.path=="string"&&typeof e.label=="string"}function pe(e){return typeof e.type<"u"&&e.type==="group"}function An(e){return typeof e.type<"u"&&e.type==="divider"}const Rn=void 0,B=o.createContext(Rn),$n=({children:e})=>{const{userInfo:n}=o.useContext(Y),[a,r]=o.useState([]),[s,l]=o.useState(!1);o.useEffect(()=>{async function c(){try{const h=await wn(n);r([...h])}catch(h){console.warn("èŽ·å–èœå•æ•°æ®å¤±è´¥",h)}}c()},[n]);const{mapPathToMenu:d,processedMenuList:i}=o.useMemo(()=>(()=>{const h=new Map,g=y=>{he(y)&&(y.key=(y==null?void 0:y.key)||y.path);const{permission:I,...p}=y;return p},C=y=>y.map(p=>{var x;const{permission:m=void 0}=p;if(!tt(m,n))return null;const k=g(p);return(me(k)||pe(k))&&(k.children=C(k.children||[]),!k.children||!((x=k.children)!=null&&x.length))?null:(he(k)&&h.set(k.path,k),k)}).filter(p=>p);return{processedMenuList:C(a),mapPathToMenu:h}})(),[a]),u=o.useMemo(()=>({menuList:i,setMenuList:r,menuCollapsed:s,setMenuCollapsed:l,mapPathToMenu:d}),[a,s]);return a.length===0?t(B.Provider,{value:u,children:t(Pe,{})}):t(B.Provider,{value:u,children:e})},Fn={addTab:W,removeTab:W,tabs:[],openTab:W,hasTab:()=>!1,setTabs:W,activeTab:"",whiteList:[],tabEvent:Ve(),addTabWithNavigate:W},fe=o.createContext(Fn),On=({children:e})=>{const[n,a]=o.useState([]),[r,s]=o.useState(""),l=o.useMemo(()=>Ve(),[]),d=J(),i=o.useCallback(()=>{const g=p=>{p&&p!==r&&s(p)},C=p=>n.findIndex(m=>m.key===p)>-1,b=(p,m=!0)=>{C(p.key)||a(k=>[...k,{...p}]),m&&r!==p.key&&g(p.key)};return{openTab:g,addTab:b,removeTab:p=>{const m=n.findIndex(x=>x.key===p);if(m===-1)return;const k=n[m===0?1:m-1];a(x=>x.filter(N=>N.key!==p)),r===p&&k&&d(k.key),console.log("tabs",n)},hasTab:C,addTabWithNavigate:p=>{b(p,!0);const m=n.find(x=>x.key===p.key)||p;if(!m){console.log("æ ‡ç­¾é¡µä¸å­˜åœ¨");return}const k=m.key+(m.queryString||"");d(k)}}},[n,r]),u=o.useMemo(()=>i(),[i]),c=["/"],h=o.useMemo(()=>({tabs:n,setTabs:a,activeTab:r,tabEvent:l,whiteList:c,...u}),[n,r]);return t(fe.Provider,{value:h,children:e})},te=()=>{const{token:e}=G.useToken();return e},E="/iframe",at=e=>`${E}?url=${e}`;const ue=new Map,ke=e=>{e.map(n=>{he(n)&&(n==null?void 0:n.type)==="url"||(pe(n)&&ke(n.children||[]),(me(n)||nt(n))&&(n.path&&ue.set(n.path,n.label),n.children&&ke(n.children||[])))})},Un=()=>{const{menuList:e}=o.useContext(B),n=o.useMemo(()=>(ue.clear(),ke(e),ue),[e]),a=ne(),[r]=se(),s=()=>{if(a.pathname===E){const i=r.get("url");if(i&&ue.has(i))return[t(ce.Item,{children:t(ge,{style:{color:"inherit"},to:at(i),children:n.get(i)})},i)]}return[]},l=o.useMemo(()=>{const i=a.pathname.split("/").filter(u=>u);return i.map((u,c)=>{const h=`/${i.slice(0,c+1).join("/")}`;return n.has(h)?t(ce.Item,{children:c===i.length-1?t(ge,{style:{color:"inherit"},to:h,children:n.get(h)}):n.get(h)},h):null})},[a]),d=[t(ce.Item,{children:t(mt,{})},"home"),...l,...s()];return t(ce,{className:"breadcrumb",children:d})},rt=D.memo(Un);function En({freeze:e,children:n}){const a=o.useRef({}).current;if(e&&!a.promise)throw a.promise=new Promise(r=>{a.resolve=r}),a.promise;if(e)throw a.promise;return a.promise&&(a.resolve(),a.promise=void 0),t(o.Fragment,{children:n})}function _n({freeze:e,children:n,placeholder:a=null}){return t(o.Suspense,{fallback:a,children:t(En,{freeze:e,children:n})})}const Bn=({active:e,children:n,id:a,parentRef:r})=>{const[s]=o.useState(()=>document.createElement("div")),l=o.useRef(!0),d=a.indexOf(E)===0,i=o.useMemo(()=>ht.createPortal(n,s),[]);return o.useEffect(()=>{const u=()=>{var h,g;if(e&&s.setAttribute("id",a),d)return c();if(e)(h=r.current)==null||h.appendChild(s);else try{(g=r.current)==null||g.removeChild(s)}catch{}},c=()=>{var h;l.current&&((h=r.current)==null||h.appendChild(s)),s.style.display=e?"block":"none",l.current=!1};u()},[e,s,l.current]),o.useEffect(()=>()=>{var u;try{(u=r.current)==null||u.removeChild(s)}catch{}},[]),d?t(_n,{freeze:!e,children:i}):i};let Oe=1;const Dn=()=>{const e=pt(),{pathname:n,search:a}=ne(),r=n===E?n+a:n,{tabs:s,tabEvent:l,whiteList:d}=o.useContext(fe),i=o.useRef(null),[u,c]=o.useState([]);return o.useEffect(()=>{const h=l.on("reload",g=>{console.log("åˆ·æ–°é¡µé¢:",g),c(u.map(C=>C.id!==g?C:{...C,key:++Oe}))});return()=>{h()}},[u]),o.useEffect(()=>{if(!r||d.includes(r))return;const h=s.map(g=>g.key);c(g=>(g.find(b=>b.id===r)||g.push({id:r,element:e,key:++Oe}),g.filter(b=>h.includes(b.id))))},[s]),d.includes(r)?e:f(U,{children:[t("div",{ref:i,className:"keep-alive"}),u.map(({id:h,element:g,key:C})=>t(Bn,{active:h===r,parentRef:i,id:h,children:g},C))]})};const zn=()=>{const{pathname:e}=ne(),{tabs:n,activeTab:a,removeTab:r,tabEvent:s,addTabWithNavigate:l}=o.useContext(fe),{colorPrimary:d}=te(),[i,u]=o.useState(!1),{colorBgLayout:c}=te(),h=p=>{p&&p!==e&&l({key:p,label:""})},g=(p,m)=>{m==="remove"&&r(p)},C=()=>{s.emit("reload",e)},b=p=>{const m=p;u(m),s.emit("fullScreen",m)},y=()=>f(O,{size:0,children:[t(de,{title:"åˆ·æ–°å½“å‰é¡µé¢",children:t(S,{onClick:C,type:"link",style:{color:d},icon:t(ft,{})})}),(()=>i?t(de,{title:"é€€å‡ºå…¨å±",children:t(S,{onClick:()=>b(!1),type:"link",style:{color:d},icon:t(He,{})})}):t(de,{title:"å…¨å±",children:t(S,{onClick:()=>b(!0),type:"link",style:{color:d},icon:t(Ke,{})})}))()]}),I={backgroundColor:c,left:i?0:void 0};return t(qe,{className:"tabs-wrapper",type:"editable-card",hideAdd:!0,activeKey:a,items:[...n],onChange:h,onEdit:g,tabBarExtraContent:t(y,{}),style:I})};const jn=({children:e})=>{const{pathname:n,search:a}=ne(),{addTab:r,hasTab:s,openTab:l,tabs:d,tabEvent:i,whiteList:u}=o.useContext(fe),{mapPathToMenu:c}=o.useContext(B),h=o.useRef(null),[g,{toggleFullscreen:C}]=De(h),{colorBgLayout:b}=te(),[y]=se(),I=gt(),p=k=>{var z;let x="";const N=k.split("/").filter(j=>j);for(let j=0;j<N.length;j++){const Me=`/${N.slice(0,j+1).join("/")}`;c.has(Me)&&(x=((z=c.get(Me))==null?void 0:z.label)||x)}return x},m=()=>{if(u.includes(n))return;let k=n;n===E&&(k=y.get("url")||"");const x=c.get(k),N=x?n===E?n+a:x.key:n;if(s(N)){l(N);return}if(!x||!x.path){let z=p(k);if(!z)z="404",n===E&&(z="Iframe é¡µé¢");else{const{params:{id:j=void 0}}=I.pop()||{params:{id:void 0}};j&&(z+=": "+j)}r({label:z,key:N,queryString:a,children:null});return}r({label:x.label,key:N,queryString:n===E?"":a,children:null})};return o.useEffect(()=>{m()},[n,a]),o.useEffect(()=>{},[a]),o.useEffect(()=>{const k=i.on("fullScreen",x=>{C()});return()=>{k()}},[]),f(w.Content,{className:"content",ref:h,style:{backgroundColor:b},children:[d.length?t(zn,{}):null,d.length?t(rt,{}):null,t(Dn,{})]})},Vn=D.memo(jn),ot=()=>{const{settings:{showFooter:e}}=o.useContext(K),{Text:n,Link:a}=R;return e?f(w.Footer,{style:{textAlign:"center",paddingBottom:4},children:[f(n,{type:"secondary",children:["React Admin Template",t(a,{href:"https://github.com/xstnet/react-admin-template",target:"_blank",style:{color:"inherit",marginLeft:5},children:t(yt,{})})]}),t("br",{}),t(a,{href:"https://github.com/xstnet",target:"_blank",children:t(n,{type:"secondary",children:"é†‰ä¸¶æ˜¥é£Ž"})}),f(n,{type:"secondary",children:["Â©2023 Created by",t(a,{target:"_blank",href:"https://ant-design.antgroup.com/index-cn",style:{margin:"0 6px",color:"inherit"},children:"Ant Design"}),"V5"]})]}):null};const A=bt({scriptUrl:_.iconFontUrl,extraCommonProps:{}}),qn=()=>{const{fullScreen:e,setFullScreen:n}=o.useContext(Y),a=()=>{$.success(e?"å·²é€€å‡ºå…¨å±æ¨¡å¼":"è¿›å…¥å…¨å±æ¨¡å¼"),n(!e)};return e?t(He,{title:"é€€å‡ºå…¨å±æ¨¡å¼",className:"action-icon",onClick:a}):t(Ke,{title:"è¿›å…¥å…¨å±æ¨¡å¼",className:"action-icon",onClick:a})},Hn=()=>t(R.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/xstnet/react-admin-template",children:t(kt,{})}),Kn=[[2,1,"åˆšåˆš"],[60,1,"%dç§’å‰"],[3600,60,"%dåˆ†é’Ÿå‰"],[86400,3600,"%då°æ—¶å‰"],[86400*30,3600*24,"%då¤©å‰"],[86400*30*12,3600*24*30,"%dæœˆå‰"],[1/0,3600*24*30*12,"%då¹´å‰"]],Yn=[[-60,1,"%dç§’åŽ"],[-3600,60,"%dåˆ†é’ŸåŽ"],[-86400,3600,"%då°æ—¶åŽ"],[-(86400*30),3600*24,"%då¤©åŽ"],[-(86400*30*12),3600*24*30,"%dæœˆåŽ"],[-1/0,3600*24*30*12,"%då¹´åŽ"]],Gn=({time:e,...n})=>{const a=Math.floor(new Date().getTime()/1e3),r=Math.floor(new Date(e).getTime()/1e3),s=a-r;if(isNaN(r))return t(U,{children:"time"});const l=s<-1?Yn:Kn;let d="";for(const[i,u,c]of l)if(Math.abs(s)<Math.abs(i)){const h=Math.floor(Math.abs(s)/u);d=c.replace("%d",String(h));break}return t(de,{title:e,children:t("span",{...n,children:d})})},Wn=()=>t(Z,{size:"small",itemLayout:"horizontal",dataSource:[{title:"å¼ ä¸‰ è¯„è®ºäº†ä½ ",desc:"è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹",createTime:"2023-04-06 15:39:00"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",desc:"è®¢å•1,è®¢å•2,è®¢å•3",createTime:"2023-04-05 15:39:00"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",desc:"",createTime:"2023-04-01 12:08:00"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",createTime:"2023-03-02 10:55:00",desc:"è¯´æ˜Ž"}],renderItem:n=>t(Z.Item,{children:t(Z.Item.Meta,{avatar:t(ve,{size:48,icon:t(Ye,{})}),title:t("a",{href:"https://ant.design",children:n.title}),description:f("div",{children:[n.desc,n.desc&&t("br",{}),t(R.Text,{children:t(Gn,{style:{fontSize:12},time:n.createTime})})]})})})}),Jn=()=>t(Z,{size:"small",itemLayout:"horizontal",dataSource:[{title:"æ‚¨æœ‰ä¸€å°æ–°çš„é‚®ä»¶",type:"mail"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",type:"payment"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",type:"workflow"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",type:"common"}],renderItem:n=>t(Z.Item,{children:t(Z.Item.Meta,{avatar:t(A,{style:{fontSize:30},type:`icon-${n.type}`}),title:t("a",{href:"https://ant.design",children:n.title}),description:"3å¤©å‰"})})}),Qn=()=>f(U,{children:[t(qe,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"é€šçŸ¥(3)",children:t(Jn,{})},{key:"message",label:"æ¶ˆæ¯(4)",children:t(Wn,{})}],onChange:void 0,tabBarExtraContent:t(S,{type:"link",style:{marginRight:10},children:"æ¸…ç©º"})}),t(q,{style:{margin:"8px 0"}}),f(O,{split:t(q,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[t(S,{type:"link",children:"å…¨éƒ¨å·²è¯»"}),t(S,{type:"link",children:"æŸ¥çœ‹æ›´å¤š"})]})]}),Zn=e=>t(ye,{count:98,children:t(Ct,{arrow:!1,content:t(Qn,{}),placement:"bottomRight",trigger:"click",children:t(A,{title:"é€šçŸ¥æé†’",type:"icon-notify",className:"action-icon"})})}),Xn=()=>t(A,{title:"æœç´¢",type:"icon-search",className:"action-icon"}),ea=()=>{const{settings:{theme:e},setSetting:n}=o.useContext(K),a=()=>{n({followSystemTheme:!1,theme:e==="light"?"dark":"light"})};return e==="dark"?t(A,{onClick:a,title:"ä¸»é¢˜-æ·±è‰²æ¨¡å¼",type:"icon-theme-dark",className:"action-icon"}):t(A,{onClick:a,title:"ä¸»é¢˜-æ˜Žäº®æ¨¡å¼",type:"icon-theme-light",className:"action-icon"})};const ta=e=>{const n=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:a,presetColors:r=n,defaultSelectedColor:s=""}=e,{value:l=s}=e,[d,i]=o.useState(l),u=c=>{i(c),a==null||a(c)};return t("div",{className:"theme-color-wrap",children:r.map(c=>t("div",{onClick:()=>u(c),className:"theme-color-item",style:{backgroundColor:c},title:c,children:d===c&&t(vt,{className:"checked-icon"})},c))})},na=e=>{const{open:n,onClose:a=W}=e,{settings:r,setSetting:s}=o.useContext(K),[l]=v.useForm(),[d]=Xe(),i=o.useMemo(()=>({...r,theme:r.followSystemTheme?"followSystem":r.theme}),[r]),u=(c,h)=>{const g={...c},{theme:C,fixedMenu:b,fixedHeader:y}=g;C&&(console.log("themeee",C),g.followSystemTheme=!1,C==="followSystem"&&(g.followSystemTheme=!0,g.theme=d)),b&&(g.fixedHeader=!0),y===!1&&(g.fixedMenu=!1),s(g),console.log("chage",c,h)};return xe(()=>{l==null||l.setFieldsValue(i)},[i]),t(xt,{title:"åå¥½è®¾ç½®",onClose:a,open:n,children:f(v,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...i},autoComplete:"off",onValuesChange:u,form:l,children:[t(v.Item,{label:"å¤–è§‚",name:"theme",children:f(V.Group,{buttonStyle:"solid",children:[f(V.Button,{value:"light",children:[t(A,{type:"icon-theme-light"})," æµ…è‰²"]}),f(V.Button,{value:"dark",children:[t(A,{type:"icon-theme-dark"})," æ·±è‰²"]}),f(V.Button,{value:"followSystem",children:[t(A,{type:"icon-followSystem"})," è·Ÿéšç³»ç»Ÿ"]})]})}),t(v.Item,{label:"ç´§å‡‘æ¨¡å¼",valuePropName:"checked",name:"compactMode",children:t(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),t(v.Item,{label:"ä¸»é¢˜è‰²",name:"primaryColor",children:t(ta,{defaultSelectedColor:r.primaryColor})}),t(q,{children:"å¸ƒå±€"}),t(v.Item,{label:"å¤šæ ‡ç­¾é¡µ",valuePropName:"checked",name:"multitabMode",children:t(ae,{checkedChildren:"å¯ç”¨",unCheckedChildren:"å…³é—­"})}),t(v.Item,{label:"å›ºå®šå¤´éƒ¨",valuePropName:"checked",name:"fixedHeader",children:t(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),t(v.Item,{help:"å›ºå®šèœå•å¯ç”¨æ—¶, å¤´éƒ¨ä¹Ÿä¼šåŒæ­¥å›ºå®š",label:"å›ºå®šèœå•",valuePropName:"checked",name:"fixedMenu",children:t(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),t(v.Item,{valuePropName:"checked",label:"æ˜¾ç¤ºåº•éƒ¨",name:"showFooter",children:t(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})})]})})},aa=e=>{const[n,a]=o.useState(!1);return f("div",{children:[t(na,{open:n,onClose:()=>{a(!1)}}),t(A,{onClick:()=>{a(!0)},title:"è®¾ç½®",type:"icon-setting",className:"action-icon"})]})},ra=()=>{const{userInfo:e,setUserInfo:n,setIsLogin:a}=o.useContext(Y),{menuCollapsed:r,setMenuCollapsed:s}=o.useContext(B),{token:{colorBgContainer:l}}=G.useToken(),d=J(),i=()=>f("div",{className:"left",children:[f("div",{className:"logo",children:[t(A,{type:"icon-react",className:"logo-img"}),t("span",{className:"logo-text",children:"React Admin Template"})]}),t("div",{children:D.createElement(r?St:Tt,{onClick:()=>s(!r)})})]}),u=()=>{const c=()=>f(U,{children:[t(Xn,{}),t(Zn,{}),t(qn,{}),t(Hn,{}),t(ea,{}),t(aa,{})]}),h=[{label:t("a",{children:"ä¸ªäººä¸­å¿ƒ"}),icon:t(Ye,{}),key:"userCenter"},{label:t("a",{children:"ä¿®æ”¹èµ„æ–™"}),key:"update",icon:t(Ge,{})},{type:"divider"},{label:"é€€å‡º",icon:t(Pt,{}),key:"logout",onClick:()=>{kn().then(()=>{L.removeToken(),a(!1),n(null),d("/login")})}}];return t("div",{className:"right",children:f(O,{size:"middle",children:[c(),t(It,{menu:{items:h},children:f(O,{className:"pointer",children:[t("span",{children:e==null?void 0:e.nickname}),t(ve,{src:e==null?void 0:e.avatar})]})})]})})};return t(w.Header,{className:"header",style:{background:l},children:f(U,{children:[i(),u()]})})},st=D.memo(ra),oa=()=>{const e=J(),{pathname:n}=ne(),[a,r]=o.useState(),{menuList:s,mapPathToMenu:l}=o.useContext(B);let d="/dashboard",i=[],u=!1;const[c]=se();xe(()=>{let C=l.get(n);if(!C){let b="";l.forEach(({path:y})=>{n.startsWith(y)&&y.length>b.length&&(b=y)}),b&&(C=l.get(b))}C&&(C!=null&&C.hideInMenu?r([C.parent]):r([n]))},[n]);const h=C=>{const b=l.get(C.key);if(console.log("clicked menu",C,b),!b){console.warn("æœªèŽ·å–åˆ°èœå•ä¿¡æ¯");return}if(b.path!==n){if((b==null?void 0:b.type)==="url"){window.open(b.path,"_blank");return}if(document.title=`${_.pageTitlePrefix} - ${b.label}`,(b==null?void 0:b.type)==="iframe"){console.log("æ‰“å¼€iframeé¡µé¢"),e(at(b.path));return}e(b.path)}},g=o.useMemo(()=>{const C=y=>y.badge?y.badge==="dot"?t(ye,{className:"menu-item-badge",offset:[6,0],dot:!0,children:y.label}):t(ye,{className:"menu-item-badge",offset:[15,0],count:y.badge,children:y.label}):y.label,b=(y,I)=>{const p=[];return!u&&I&&i.push(I.key),y.map(m=>{if(he(m)&&(m.parent&&n.indexOf(m.path)===0&&(console.log("ccccccccccccccccccccc",m.parent),d=m.parent,u=!0),m.type==="iframe"&&(c.get("url")||"")===m.path&&(u=!0,d=m.key),m.hideInMenu))return;let k;if(An(m))k={...m};else if(pe(m))k={...m},m.children&&m.children.length>0&&(k.children=b(m.children));else if(me(m)||nt(m)){let{icon:x}=m;typeof x=="string"&&x.includes("icon-")&&(x=t(A,{type:x})),k={key:"",...m,icon:x,label:C(m),children:me(m)?b(m.children,m):void 0},!u&&m.path===n&&(d=m.key,u=!0)}k&&(k.key=k.key,p.push(k))}),!u&&i.pop(),p};return b(s)},[s]);return t(Mt,{style:{height:"100%"},onClick:h,mode:"inline",defaultSelectedKeys:[d],selectedKeys:a,items:g,defaultOpenKeys:i})},sa=D.memo(oa);const lt=()=>{const{menuCollapsed:e}=o.useContext(B),{colorBgContainer:n}=te();return t(w.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:e,children:t(sa,{})})};const la=()=>{console.log("MultitabLayout render...");const{menuCollapsed:e}=o.useContext(B);return t(On,{children:f(w,{className:"multitab-layout","data-menu-collapsed":e?1:0,children:[t(st,{}),f(w,{children:[t(lt,{}),f(w,{className:"content-layout",children:[t(Vn,{}),t(ot,{})]})]})]})})},ca=D.memo(la);const ia=({children:e})=>t(w.Content,{className:"content",children:e}),da=D.memo(ia);const ua=()=>{console.log("SingleLaylut render...");const{menuCollapsed:e}=o.useContext(B);return f(w,{className:"single-tab-layout","data-menu-collapsed":e?1:0,children:[t(st,{}),f(w,{children:[t(lt,{}),f(w,{className:"content-layout",children:[t(rt,{}),t(da,{children:t(Nt,{})}),t(ot,{})]})]})]})};const ma=()=>{const[e,n]=o.useState(!0),{setIsLogin:a,setUserInfo:r}=o.useContext(Y),{colorBgContainer:s}=te(),{settings:{multitabMode:l,fixedMenu:d,fixedHeader:i,theme:u}}=o.useContext(K),c=J(),[h]=se();return console.log("global layout render..."),o.useEffect(()=>{if(!Fe()){c("/login");return}bn().then(g=>{if(n(!1),a(!0),r(g),h.has("ghpage")){const C=decodeURIComponent(h.get("ghpage"));c(C);return}}).catch(g=>{g instanceof Lt&&je.error({message:"ç½‘ç»œé”™è¯¯",description:"èŽ·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥, æ— æ³•æ‰“å¼€é¡µé¢",duration:null,closeIcon:null})})},[]),xe(()=>{Fe()||($.error("ç™»å½•çŠ¶æ€å·²å¤±æ•ˆ, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢..."),setTimeout(()=>{c("/login")},500))}),e?t(Pe,{title:"é¡µé¢åŠ è½½ä¸­",loading:e}):t($n,{children:f("div",{"data-fixed-menu":d?1:0,"data-fixed-header":i?1:0,style:{background:s},className:`global-layout theme-${u}`,children:[l?t(ca,{}):t(ua,{}),t(Nn,{})]})})},ha=D.memo(ma),Ue=()=>t("span",{children:"UserCenterPage"}),pa=()=>t("span",{children:"UserCenterUpdatePage"});const ct=o.forwardRef(({state:e},n)=>{const[a]=v.useForm(),r=o.useRef(null);return o.useImperativeHandle(n,()=>({form:a,input:r.current}),[a,r]),t("div",{children:f(v,{form:a,labelCol:{span:3},name:"userForm",initialValues:e||void 0,children:[t(v.Item,{name:"username",label:"è´¦å·",rules:[{required:!0,message:"è¯·è¾“å…¥è´¦å·"}],children:t(M,{placeholder:"è¯·è¾“å…¥è´¦å·",ref:r})}),t(v.Item,{name:"password",label:"å¯†ç ",rules:[{required:!e,message:"è¯·è¾“å…¥å¯†ç "}],children:t(M.Password,{placeholder:e?"ä¸ä¿®æ”¹å¯†ç è¯·ç•™ç©º!":"è¯·è¾“å…¥å¯†ç "})}),t(v.Item,{name:"nickname",label:"æ˜µç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ˜µç§°"}],children:t(M,{placeholder:"è¯·è¾“å…¥æ˜µç§°"})}),t(v.Item,{name:"gender",label:"æ€§åˆ«",children:f(V.Group,{children:[t(V,{value:1,children:"ç”·"}),t(V,{value:2,children:"å¥³"})]})}),t(v.Item,{name:"mobile",label:"æ‰‹æœºå·",children:t(M,{placeholder:"è¯·è¾“å…¥æ‰‹æœºå·"})}),t(v.Item,{name:"email",label:"é‚®ç®±",children:t(M,{placeholder:"è¯·è¾“å…¥é‚®ç®±"})})]})})}),fa=({refreshList:e})=>{const[n,a]=o.useState(!1),{run:r,loading:s}=X(vn,{manual:!0,debounceWait:100,onSuccess:()=>{var i;a(!1),(i=l.current)==null||i.form.resetFields(),e==null||e()}}),l=o.useRef(null);return f("div",{children:[t(S,{type:"primary",icon:t(Se,{}),onClick:()=>{a(!0),setTimeout(()=>{var i,u;(u=(i=l.current)==null?void 0:i.input)==null||u.focus()},100)},children:"æ–°å¢žç”¨æˆ·"}),t(We,{open:n,title:"æ·»åŠ ç”¨æˆ·",okText:"æ·»åŠ ",cancelText:"å–æ¶ˆ",confirmLoading:s,onCancel:()=>a(!1),onOk:()=>{var i;(i=l.current)==null||i.form.validateFields().then(u=>{r(u)}).catch(u=>console.log(u))},children:t(ct,{ref:l})})]})},ga=(e,n)=>{const a=wt(e,n),{tableProps:r}=a,s={...r.pagination,showTotal:(i,u)=>`ç¬¬${u[0]}-${u[1]} æ¡/å…± ${i} æ¡`,hideOnSinglePage:!0};r.pagination=s;const l=r.onChange,d=(...i)=>{var I;let[u,c,h,g]=i,C=u,b,y;Object.keys(h).length>0&&(Array.isArray(h)?(y={},h.map(p=>{var m;y[(m=p.column)==null?void 0:m.dataIndex]=p.order})):y={[(I=h.column)==null?void 0:I.dataIndex]:h.order}),Object.keys(c).length>0&&(b=c,console.log("filterrrrrrrrrrrrr",c)),l(C,b,y)};return r.onChange=d,a.tableProps.size="small",a},ya=({state:e,refreshList:n})=>{const[a,r]=o.useState(!1),{runAsync:s,loading:l}=X(xn,{manual:!0,debounceWait:100}),d=o.useRef(null);return f(U,{children:[t(S,{icon:t(Ge,{}),size:"small",onClick:()=>{r(!0),setTimeout(()=>{var u,c;(c=(u=d.current)==null?void 0:u.input)==null||c.focus()},100)},children:"ç¼–è¾‘"}),t(We,{open:a,title:"æ›´æ–°ç”¨æˆ·ä¿¡æ¯",okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",confirmLoading:l,onCancel:()=>r(!1),onOk:()=>{var u;(u=d.current)==null||u.form.validateFields().then(c=>{s({...c,id:e.id}).then(()=>{var h;r(!1),(h=d.current)==null||h.form.resetFields(),n==null||n()}).catch(W)}).catch(c=>console.log(c))},children:t(ct,{ref:d,state:e})})]})};const Q=e=>{const{children:n,className:a="",style:r={},...s}=e,{colorBgContainer:l}=te(),d="content-box",i={backgroundColor:l};return t("div",{className:`${d} ${a}`,style:{...i,...r},...s,children:n})},ba=e=>{const{search:n,form:a,onSearch:r,onReset:s,fields:l,title:d="æœç´¢",...i}=e,u=o.useCallback((y,I,p)=>{switch(typeof I=="string"&&["input","number","select"].includes(y)&&(p.placeholder=(p==null?void 0:p.placeholder)||I),y){case"input":return t(M,{...p});case"number":return t(Ft,{...p});case"select":return t(Te,{...p});case"radio":return t(V.Group,{...p});case"date":return t(Ne,{...p});case"dateRange":return t(Ne.RangePicker,{...p});case"checkbox":return t($t.Group,{...p});case"cascader":return t(Rt,{...p});case"treeSelect":return t(At,{...p});default:return t(U,{})}},[]),c=async()=>{await a.validateFields().catch(y=>console.warn(y)),r==null||r(a),n.submit()},h=()=>{s==null||s(a),n.reset()},g={labelCol:{span:5},style:{paddingTop:16}},C=({type:y,name:I,label:p,fieldProps:m={},itemProps:k={}})=>t(ee,{span:6,children:t(v.Item,{name:I,label:p,...k,children:u(y,p,m)})},`${I}-${p}`),b=()=>{const y=n.type==="simple"?0:18-l.length%4*6;return f(ee,{span:6,offset:y,style:{textAlign:"right"},children:[t(S,{onClick:h,children:"é‡ç½®"}),t(S,{style:{margin:"0 8px"},type:"primary",onClick:c,children:"æŸ¥è¯¢"}),l.length>3&&f("a",{style:{fontSize:12},onClick:n.changeType,children:[n.type==="advance"?t(Ot,{}):t(Ut,{}),n.type==="advance"?"æ”¶èµ·":"å±•å¼€"]})]})};return l.length===0?null:f(Q,{children:[t("div",{children:t(R.Title,{level:5,children:d})}),t(v,{form:a,...g,...i,children:f(Ie,{gutter:24,children:[n.type==="advance"?l.map(C):l.slice(0,3).map(C),b()]})})]})},ka=()=>{var p;console.log("render ExampleUserListPage");const[e]=v.useForm(),[n,a]=o.useState([]),r=o.useRef();o.useEffect(()=>{r.current=new Map},[]);const{runAsync:s,loading:l}=X(Sn,{manual:!0,debounceWait:100}),{refresh:d,tableProps:i,search:u}=ga(Cn,{form:e}),c=()=>{u.reset(),u.submit()},h=m=>{var k;typeof m=="number"&&((k=r==null?void 0:r.current)==null||k.set(m,!0)),s({id:m}).then(()=>{typeof m=="object"&&a([]),d()}).finally(()=>{var x;return typeof m=="number"&&((x=r==null?void 0:r.current)==null?void 0:x.delete(m))})},g=o.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"è´¦å·",dataIndex:"username",render:(m,{avatar:k,username:x})=>f(U,{children:[" ",t(ve,{src:k})," ",x]})},{title:"æ˜µç§°",dataIndex:"nickname"},{title:"æ€§åˆ«",dataIndex:"gender",render:m=>m===et.male?t(Le,{color:"blue",children:"ç”·"}):t(Le,{color:"error",children:"å¥³"})},{title:"é‚®ç®±",dataIndex:"email"},{title:"æ‰‹æœºå·",dataIndex:"mobile",sorter:!0},{title:"æ³¨å†Œæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(m,k)=>{var N;const{id:x}=k;return f(O,{children:[t(we,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>h(x),children:t(S,{loading:(N=r==null?void 0:r.current)==null?void 0:N.has(x),icon:t(Et,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),t(ya,{state:k,refreshList:d})]})}}],[]),b={selectedRowKeys:n,onChange:m=>{console.log("selectedRowKeys changed: ",m),a(m)}},y=n.length>0;return f(U,{children:[t(ba,{form:e,search:u,fields:[{type:"input",label:"è´¦å·",name:"username"},{type:"input",label:"æ‰‹æœºå·",name:"mobile"},{type:"input",label:"é‚®ç®±",name:"email"},{type:"select",label:"æ€§åˆ«",name:"gender",fieldProps:{options:[{label:"ç”·",value:"1"},{label:"å¥³",value:"2"}]}}]}),t("br",{}),f(Q,{children:[f("div",{className:"table-header",children:[t("div",{className:"left",children:t(R.Title,{level:5,children:"ç”¨æˆ·åˆ—è¡¨"})}),t("div",{className:"right",children:f(O,{size:"middle",children:[t(we,{title:`ç¡®å®šè¦åˆ é™¤è¿™${n.length}æ¡æ•°æ®å—?`,onConfirm:()=>h(n),children:t(S,{type:"primary",danger:!0,disabled:!y,loading:l&&((p=r.current)==null?void 0:p.size)===0,children:"æ‰¹é‡åˆ é™¤"})}),t(fa,{refreshList:c}),t(S,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:d,icon:t(_t,{})})]})})]}),t(Bt,{rowKey:"id",rowSelection:b,columns:g,...i})]})]})},ie=({title:e="ç©ºç™½é¡µ"})=>{const[n,a]=o.useState(0);return se(),console.log("BlankPage: è¢«è°ƒç”¨"),o.useEffect(()=>(console.log("BlankPage: åˆæ¬¡æ¸²æŸ“"),()=>{console.log("BlankPage: è¢«å¸è½½äº†")}),[]),f(Q,{style:{height:"500px"},children:[t(R.Title,{level:4,children:e}),f(R.Text,{children:["Count: ",n]}),t("br",{}),t(S,{onClick:r=>a(s=>s+1),children:"add"})]})},Ca=()=>{const{pathname:e}=ne();return t(Dt,{status:"404",title:"404",subTitle:`é¡µé¢ä¸å­˜åœ¨, å½“å‰è·¯ç”±: ${e}`,extra:t(S,{type:"primary",children:t(ge,{to:"/",children:"è¿”å›žé¦–é¡µ"})})})};const va=()=>{const[e]=v.useForm(),n=J(),a="articleDraft",{loading:r,run:s}=X(In,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{L.remove(a),n("/article/list")},200)}),l=L.getObject(a)||{},d=async()=>{const c=await e.validateFields();s(c)},i=()=>{const{cover:c,...h}=e.getFieldsValue();L.set(a,h),$.success("å·²ä¿å­˜åˆ°è‰ç¨¿ç®±")},u=c=>(console.log("Upload event:",c),Array.isArray(c)?c:c&&c.fileList);return f(Q,{children:[t(R.Title,{level:3,children:"å‘å¸ƒæ–‡ç« "}),t(q,{}),t(v,{form:e,name:"createForm",labelCol:{span:3},initialValues:l,children:f(Ie,{gutter:36,children:[f(ee,{span:16,children:[t(v.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:t(M,{})}),t(v.Item,{label:"ç®€ä»‹",name:"description",children:t(M,{})}),t(v.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:t(M.TextArea,{rows:20})}),t(v.Item,{wrapperCol:{offset:3},children:f(O,{children:[t(S,{icon:t(Je,{}),onClick:d,loading:r,type:"primary",children:"å‘å¸ƒæ–‡ç« "}),t(S,{icon:t(zt,{}),onClick:i,children:"ä¿å­˜ä¸ºè‰ç¨¿"})]})})]}),f(ee,{span:8,children:[t(v.Item,{label:"å°é¢",name:"cover",getValueFromEvent:u,valuePropName:"fileList",children:t(Qe,{maxCount:1,listType:"picture-card",children:f("div",{children:[t(Se,{}),t("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),t(v.Item,{label:"æ ‡ç­¾",name:"tags",children:t(Te,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),t(v.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:t(M,{})})]})]})})]})},xa=()=>{const[e]=v.useForm(),n=J(),a=jt(),{loading:r,run:s}=X(Tn,{manual:!0,debounceWait:10,onSuccess:c=>e.setFieldsValue(c)});o.useEffect(()=>{s({id:a.id})},[a.id]);const{loading:l,run:d}=X(Pn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{n("/article/list")},200)}),i=async()=>{const c=await e.validateFields();d(c)},u=c=>(console.log("Upload event:",c),Array.isArray(c)?c:c&&c.fileList);return f(Q,{children:[t(R.Title,{level:3,children:"æ›´æ–°æ–‡ç« "}),t(q,{}),t(ze,{spinning:r,children:t(v,{form:e,name:"createForm",labelCol:{span:3},children:f(Ie,{gutter:36,children:[f(ee,{span:16,children:[t(v.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:t(M,{})}),t(v.Item,{label:"ç®€ä»‹",name:"description",children:t(M,{})}),t(v.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:t(M.TextArea,{rows:20})}),t(v.Item,{wrapperCol:{offset:3},children:t(O,{children:t(S,{icon:t(Je,{}),onClick:i,loading:l,type:"primary",children:"ä¿å­˜"})})})]}),f(ee,{span:8,children:[t(v.Item,{label:"å°é¢",name:"cover",getValueFromEvent:u,valuePropName:"fileList",children:t(Qe,{maxCount:1,listType:"picture-card",children:f("div",{children:[t(Se,{}),t("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),t(v.Item,{label:"æ ‡ç­¾",name:"tags",children:t(Te,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),t(v.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:t(M,{})})]})]})})})]})},Sa=()=>t("span",{children:"åˆ†ç±»ç®¡ç†é¡µé¢"}),Ta=()=>{const{userInfo:e,setUserInfo:n}=o.useContext(Y),a=r=>{n({...e,roles:[r]})};return f(Q,{children:[f(R.Text,{children:["å½“å‰æƒé™: ",JSON.stringify(e==null?void 0:e.roles)]}),t(q,{}),f(S.Group,{children:[t(S,{type:"primary",onClick:()=>a("admin"),children:"åˆ‡æ¢ä¸º Admin"}),t(S,{onClick:()=>a("guest"),children:"åˆ‡æ¢ä¸º Guest"})]})]})},Ee=({children:e,role:n})=>{const{userInfo:a}=o.useContext(Y);return tt(n,a)?t(U,{children:e}):null},Ia=()=>{const{userInfo:e,setUserInfo:n}=o.useContext(Y),a=r=>{n({...e,roles:[r]})};return f(Q,{children:[f(R.Text,{children:["å½“å‰æƒé™: ",JSON.stringify(e==null?void 0:e.roles)]}),t(q,{}),f(S.Group,{children:[t(S,{type:"primary",onClick:()=>a("admin"),children:"åˆ‡æ¢ä¸º Admin"}),t(S,{onClick:()=>a("guest"),children:"åˆ‡æ¢ä¸º Guest"})]}),t(q,{}),f(O,{children:[t(Ee,{role:"admin",children:t(S,{type:"primary",children:"Admin menu"})}),t(Ee,{role:"guest",children:t(S,{children:"Guest menu"})})]})]})},Pa=o.lazy(()=>le(()=>import("./index-365e7c17.js"),["assets/index-365e7c17.js","assets/vendor-c05c7121.js"])),_e=o.lazy(()=>le(()=>import("./index-b4a269a6.js"),["assets/index-b4a269a6.js","assets/vendor-c05c7121.js"])),Ma=o.lazy(()=>le(()=>import("./index-47f0cfa2.js"),["assets/index-47f0cfa2.js","assets/vendor-c05c7121.js","assets/index-5c0cb4e1.css"])),Na=o.lazy(()=>le(()=>import("./index-b0bf5f14.js"),["assets/index-b0bf5f14.js","assets/vendor-c05c7121.js","assets/index-19ead691.css"])),La=o.lazy(()=>le(()=>import("./index-e3daba76.js"),["assets/index-e3daba76.js","assets/vendor-c05c7121.js","assets/index-c11d3a46.css"])),re=({children:e})=>t(D.Suspense,{fallback:t(Pe,{}),children:e});function wa(){return[{path:"/login",element:t(re,{children:t(Ma,{})})},{path:"/",element:t(ha,{}),children:[{path:"/",element:t(un,{to:"/dashboard"})},{path:"/dashboard",element:t(re,{children:t(Na,{})})},{path:"/user",children:[{index:!0,element:t(Ue,{})},{path:"/user/center/index",element:t(Ue,{})},{path:"/user/center/update",element:t(pa,{})}]},{path:"/example",children:[{path:"/example/userList",element:t(ka,{})},{path:"/example/tabs/manage",element:t(re,{children:t(Pa,{})})},{path:"/example/permission",children:[{path:"/example/permission/menu",element:t(Ta,{})},{path:"/example/permission/button",element:t(Ia,{})}]}]},{path:"/article",children:[{index:!0,element:t(re,{children:t(_e,{})})},{path:"/article/list",element:t(_e,{})},{path:"/article/category",element:t(Sa,{})},{path:"/article/create",element:t(va,{})},{path:"/article/update/:id",element:t(xa,{})}]},{path:"/blank",element:t(ie,{})},{path:"/badge/dot",element:t(ie,{title:"çº¢ç‚¹å¾½æ ‡"})},{path:"/badge/count",element:t(ie,{title:"æ•°å­—å¾½æ ‡"})},{path:E,element:t(re,{children:t(La,{})})},{path:"/multilevel/menu/2/3",element:t(ie,{title:"ä¸‰çº§èœå•"})},{path:"*",element:t(Ca,{})}]}]}const Aa=Vt(wa(),{basename:"/react-admin-template/"});function Ra(){return o.useEffect(()=>{},[]),t(ln,{children:t(qt,{router:Aa})})}function Be(e){const n=JSON.stringify({type:"JWT",alg:"HS256"}),a=Number((new Date().getTime()/1e3).toFixed(0)),r=JSON.stringify({iss:"github.com/xstnet",sub:"react-admin",iat:a,exp:a+86400*14,data:e}),s="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Ae(n)}.${Ae(r)}.${s}`}T.mock(/api\/login/,"post",({body:e})=>{const{username:n,password:a}=JSON.parse(e);return n==="admin"?a!=="123456"?{code:-1,message:"å¯†ç é”™è¯¯"}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Be({uid:1})}}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Be({uid:F.Random.natural(2,1e4)})}}});T.setup({timeout:100});T.mock(/api\/user\/info/,"get",e=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"é†‰ä¸¶æ˜¥é£Ž",avatar:"https://www.xstnet.com/static/images/head.gif",password:"",gender:F.Random.natural(1,2),email:"shantongxu@qq.com",mobile:"133xxxx3333",roles:["admin"]}}));T.mock(/api\/user\/logout/,"post",e=>({code:0,message:"é€€å‡ºæˆåŠŸ"}));T.mock(/api\/user\/list/,"get",e=>{const n=new URLSearchParams(e.url);let a=Number(n.has("pageSize")?n.get("pageSize"):10);const r={code:0,message:"ok",data:{total:100,[`list|${a}`]:[{"id|+1":a,username:"@first@last",nickname:"@cname",avatar:()=>F.Random.dataImage("200x200"),email:"@email",mobile:()=>T.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(r)});T.mock(/api\/user\/create/,"post",e=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:F.Random.natural(100,9999)}}));T.mock(/api\/user\/update/,"post",e=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/user\/delete/,"post",e=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));T.setup({timeout:100});T.mock(/api\/article\/detail/,"get",e=>(console.log("ðŸš€ ~ file: article.ts:7 ~ Mock.mock ~ options:",e),{code:0,message:"ok",data:{id:1,title:"ä¸»é¢˜",description:"é†‰ä¸¶æ˜¥é£Ž",author:"é†‰ä¸¶æ˜¥é£Ž",tags:[1,2],content:"content",create_time:F.Random.datetime()}}));T.mock(/api\/article\/list/,"get",e=>{const n=new URLSearchParams(e.url);let a=Number(n.has("pageSize")?n.get("pageSize"):10);const r={code:0,message:"ok",data:{total:100,[`list|${a}`]:[{"id|+1":a,author:"@first@last",title:()=>T.Random.ctitle(5,20),description:"@cname",cover:()=>F.Random.dataImage("480x270","å°é¢"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(r)});T.mock(/api\/article\/create/,"post",e=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:F.Random.natural(100,9999)}}));T.mock(/api\/article\/update/,"post",e=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/article\/delete/,"post",e=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));T.setup({timeout:100});T.mock(/api\/todo\/list/,"get",e=>{const n={code:0,message:"",data:{total:3,list:[{id:$e(100,1e9),name:"å…¨å±€æœç´¢",status:oe.incomplete,create_time:"2023-04-20",update_time:"2023-04-20"},{id:$e(100,1e9),name:"å¤štabå¸ƒå±€æ”¯æŒ",status:oe.completed,create_time:"2023-04-15",update_time:"2023-04-215"},{id:1,name:"è¿™æ˜¯ä¸€ä¸ªtodoä¾‹å­",status:oe.completed,create_time:"2023-04-10",update_time:"2023-04-10"}]}};return T.mock(n)});T.mock(/api\/todo\/create/,"post",e=>{const n=JSON.parse(e.body);return{code:0,message:"",data:{id:F.Random.natural(100,9999),name:n.name,status:oe.incomplete,create_time:F.Random.now(),update_time:F.Random.now()}}});T.mock(/api\/todo\/update/,e=>({code:0,message:""}));T.mock(/api\/todo\/changeStatus/,"post",e=>({code:0,message:""}));T.mock(/api\/todo\/delete/,"post",e=>({code:0,message:""}));Ht.createRoot(document.getElementById("root")).render(t(Ra,{}));export{Q as C,mn as D,U as F,fe as M,Gn as R,K as S,oe as T,t as a,ba as b,_ as c,L as d,Fa as e,za as f,Oa as g,te as h,_a as i,f as j,Da as k,Ba as l,Ea as m,W as n,B as o,Ua as p,$e as r,ga as u,Fe as v};
