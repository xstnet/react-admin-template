import{j as ke,r as s,C as st,z as lt,t as V,u as Fe,a as z,m as $,d as ct,S as Ee,n as _e,b as O,B as S,c as De,e as X,R as _,f as ee,g as ue,h as ae,L as ge,H as it,i as dt,k as ut,T as Be,l as le,o as mt,F as qe,p as ze,q as ht,s as A,G as pt,v as U,w as gt,x as ft,y as J,A as ve,U as je,D as ne,E as fe,P as bt,I as yt,J as b,K as Ce,M as kt,N as K,O as te,Q as vt,V as Ct,W as xt,X as Ve,Y as St,Z as Tt,_ as It,$ as Mt,a0 as M,a1 as Q,a2 as xe,a3 as He,a4 as Se,a5 as q,a6 as Pt,a7 as Ie,a8 as Me,a9 as Nt,aa as Lt,ab as At,ac as wt,ad as Ke,ae as $t,af as Ye,ag as We,ah as Rt,ai as Ot,aj as Ut,ak as I,al as Y,am as Pe,an as Ft}from"./vendor-697186c6.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();const F=ke.Fragment,e=ke.jsx,h=ke.jsxs,Ne=[{label:"控制台",type:"group",children:[{label:"控制台",icon:"icon-dashboard",path:"/dashboard"}]},{label:"示例页面",type:"group",children:[{label:"列表页",icon:"icon-list",path:"/example/userList"},{label:"多级菜单",icon:"icon-list",path:"/multilevel/menu",children:[{label:"二级菜单",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"三级菜单",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"Tabs标签页",icon:"icon-list",path:"/example/tabs",children:[{label:"标签管理",icon:"icon-list",path:"/example/tabs/manage"}]},{label:"空白页",icon:"icon-example",path:"/blank"},{label:"404",icon:"icon-example",path:"/404"}]},{label:"徽标示例",type:"group",children:[{label:"红点徽标",icon:"icon-list",badge:"dot",path:"/badge/dot"},{label:"数字徽标",icon:"icon-example",badge:98,path:"/badge/count"}]},{type:"divider"},{path:"/article",label:"文章管理",icon:"icon-article",children:[{path:"/article/list",label:"文章列表",icon:"icon-article"},{path:"/article/create",label:"发布文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"更新文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"分类管理",icon:"icon-list"}]},{path:"/iframe",label:"外部页面",icon:"icon-href",children:[{path:"https://ant-design.antgroup.com/components/overview-cn",label:"antd文档(外链)",icon:"icon-document",key:"webpage-antd-document",type:"url"},{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antd文档(内嵌)",icon:"icon-document",type:"iframe"},{path:"https://www.xstnet.com",label:"博客主页(内嵌)",icon:"icon-document",type:"iframe"},{path:"https://baidu.com",label:"百度",icon:"icon-document",type:"iframe"}]},{path:"/document",label:"文档",icon:"icon-document",children:[{path:"/document/start",label:"开始使用",icon:"icon-document"},{path:"/document/package.json",label:"Package文件说明",icon:"icon-document"}]},{type:"divider"},{path:"/user/center",label:"个人中心",icon:"icon-user-permissions",children:[{path:"/user/center/index",label:"个人中心",icon:"icon-example"},{path:"/user/center/update",label:"修改信息",icon:"icon-document"}]}];function Ge(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function ie(t){return me(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function de(t){return typeof t.path=="string"&&typeof t.label=="string"}function me(t){return typeof t.type<"u"&&t.type==="group"}function Et(t){return typeof t.type<"u"&&t.type==="divider"}const _t=void 0,W=s.createContext(_t),Dt=({children:t})=>{const n=s.useMemo(()=>Ne,[Ne]),[o,r]=s.useState(n),[a,l]=s.useState(!1),{mapPathToMenu:c,processedMenuList:i}=s.useMemo(()=>(()=>{const m=new Map,v=C=>(de(C)&&(C.key=(C==null?void 0:C.key)||C.path),{...C}),k=C=>C.map(f=>{const g=v(f);return(ie(g)||me(g))&&(g.children=k(g.children||[])),de(g)&&m.set(g.path,g),g});return{processedMenuList:k(o),mapPathToMenu:m}})(),[o]),u=s.useMemo(()=>({menuList:i,setMenuList:r,menuCollapsed:a,setMenuCollapsed:l,mapPathToMenu:c}),[o,a]);return e(W.Provider,{value:u,children:t})},E={pageTitle:"后台管理系统模板",pageTitlePrefix:"后台管理",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/react-admin-template/api",iconFontUrl:"//at.alicdn.com/t/c/font_3917407_68ll5mr3jkf.js"};function Bt(t,n){localStorage.setItem(t,typeof n=="object"?JSON.stringify(n):n)}function qt(t){localStorage.setItem(E.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function Je(t){return localStorage.getItem(t)}function zt(t){const n=localStorage.getItem(t);if(n!==null)return Number(n)}function jt(t){const n=localStorage.getItem(t);if(n!==null)return n==="true"}function Vt(t){const n=localStorage.getItem(t);if(n!==null)return JSON.parse(n)}function Ht(t){return Je(t)!==null}function Kt(t){localStorage.removeItem(t)}function Yt(){localStorage.removeItem(E.tokenKey)}function Wt(){localStorage.clear()}const P={set:Bt,setToken:qt,has:Ht,getString:Je,getObject:Vt,getBoolean:jt,getNumber:zt,remove:Kt,removeToken:Yt,clear:Wt},Qe=()=>{const[t,n]=s.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return s.useEffect(()=>{const r=a=>{console.log("chage",a.matches),a.matches?n(!0):n(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",r)}},[]),[t?"dark":"light"]},Gt=void 0,Jt=s.createContext(Gt),Qt=({children:t})=>{const{settings:{primaryColor:n,theme:o,compactMode:r,followSystemTheme:a}}=s.useContext(j),[l]=Qe(),c={},i=()=>{const u=[];return a?u.push(l==="light"?V.defaultAlgorithm:V.darkAlgorithm):u.push(o==="light"?V.defaultAlgorithm:V.darkAlgorithm),console.log("algorighm",o,u),r&&u.push(V.compactAlgorithm),u};return e(Jt.Provider,{value:c,children:e(st,{locale:lt,theme:{algorithm:i(),token:{colorPrimary:n},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},Zt=void 0,j=s.createContext(Zt),Xt=({children:t})=>{const n=s.useMemo(()=>{const c=P.getObject("settings")||{};return console.log("settingsCache",c),{theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#00b96b",...c}},[]),[o,r]=s.useState(n),a=s.useCallback(c=>{const i={...o,...c};r(i),P.set("settings",i)},[o]),l={settings:o,setSetting:a};return e(j.Provider,{value:l,children:e(Qt,{children:t})})},en=void 0,he=s.createContext(en),tn=({children:t})=>{const[n,o]=s.useState(!1),[r,{toggleFullscreen:a}]=Fe(document.body),[l,c]=s.useState(null),i=s.useMemo(()=>({isLogin:n,setIsLogin:o,userInfo:l,setUserInfo:c,fullScreen:r,setFullScreen:a}),[n,l,r]);return e(he.Provider,{value:i,children:e(Xt,{children:e(Dt,{children:t})})})},nn="modulepreload",on=function(t){return"/react-admin-template/"+t},Le={},re=function(n,o,r){if(!o||o.length===0)return n();const a=document.getElementsByTagName("link");return Promise.all(o.map(l=>{if(l=on(l),l in Le)return;Le[l]=!0;const c=l.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const v=a[m];if(v.href===l&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":nn,c||(d.as="script",d.crossOrigin=""),d.href=l,document.head.appendChild(d),c)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};var be=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(be||{}),Ze=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(Ze||{}),rn=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(rn||{}),an=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(an||{});function H(){}function bo(t,n){return Math.floor(Math.random()*(n-t+1))+t}function sn(t){var o;const{config:n}=t;console.group(`${(o=n.method)==null?void 0:o.toLocaleUpperCase()} ${n.url}`),console.log("Path:",n.url),console.log("Method:",n.method),console.log("Params:",n.params),console.log("StatusCode:",t.status),console.log("Response:",typeof t.data=="object"?Object.assign(Object.create(null),t.data):t.data),console.groupEnd()}const ln=10*1e3;z.defaults.baseURL=E.apiBaseUrl;z.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";z.defaults.timeout=ln;z.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${P.getString(E.tokenKey)}`,t),t=>Promise.reject(t));z.interceptors.response.use(t=>{sn(t);const n=t.data;return typeof n.code!="number"?($.error("系统错误",2),console.warn("api调用失败, 未正常返回数据, url:",t.config.url,"data:",n,"response:",t),Promise.reject(t)):n.code===0?(t.config.method==="post"&&$.success(t.data.message),t):n.code===be.noLogin?($.error("您还没有登录, 即将跳转到登录页面, 请稍后..."),P.remove(E.tokenKey),location.reload(),Promise.reject(n)):n.code===be.loginExpired?($.error("登录已失效, 即将跳转到登录页面..."),P.remove(E.tokenKey),location.reload(),Promise.reject(n)):($.error(n.message),Promise.reject(t))},t=>(typeof t.message=="string"&&t.message==="Network Error"?$.error("网络错误, 请稍后再试!"):$.error("请求失败, 请稍后再试"),console.log("Request error",t),console.groupEnd(),Promise.reject(t)));const cn=(t,n,o)=>{const r=o||{};return r.params=n,z.get(t,r)},dn=(t,n,o)=>z.post(t,n,o),un=t=>z.request(t),N={get:cn,post:dn,request:un},L=t=>t.then(n=>Promise.resolve(n.data.data)).catch(n=>Promise.reject(n)),yo=t=>{const n=N.post("/login",t);return L(n)},mn=t=>L(N.get("/user/info",t)),hn=t=>L(N.post("/user/logout",t)),pn=(t,n)=>L(N.get("/user/list",{...t,...n})),gn=t=>L(N.post("/user/create",t)),fn=t=>L(N.post("/user/update",t)),bn=t=>L(N.post("/user/delete",t)),ko=(t,n)=>L(N.get("/article/list",{...t,...n})),yn=t=>L(N.get("/article/detail",t)),kn=t=>L(N.post("/article/create",t)),vn=t=>L(N.post("/article/update",t)),vo=t=>L(N.post("/article/delete",t));function Cn(t){const n=t.split(".")[1];if(n)try{return JSON.parse(ct(n))}catch(o){console.warn("Parse Token Error: ",o);return}}function Ae(){var o;const t=P.getString(E.tokenKey);if(!t)return!1;const n=Cn(t);return n!==void 0&&((o=n==null?void 0:n.data)==null?void 0:o.uid)>0&&n.exp>new Date().getTime()/1e3}const Xe=({loading:t=!0,title:n="页面加载中",delay:o=50})=>{const{settings:{theme:r}}=s.useContext(j);return e(Ee,{size:"large",spinning:t,tip:n,delay:o,wrapperClassName:`page-loading-spin-${r}`,children:e("div",{style:{height:"100%",width:"100%"}})})},xn=()=>{const[t,n]=_e.useNotification(),o=P.getBoolean("dontShowCompactModeNotify"),{setSetting:r,settings:{compactMode:a}}=s.useContext(j),l=()=>{const c=`open${Date.now()}`,i=h(O,{children:[e(S,{type:"link",size:"small",onClick:()=>t.destroy(),children:"不再提示"}),e(S,{type:"primary",size:"small",onClick:()=>{r({compactMode:!0}),t.destroy(c)},children:"开启"})]});t.info({message:"开启紧凑布局模式",description:"检测到您的屏幕尺寸过小, 是否开启紧凑布局模式? 或者您也可以选择在设置中手动开启",btn:i,key:c,onClose:()=>P.set("dontShowCompactModeNotify",!0)})};return s.useEffect(()=>{!o&&!a&&window.innerWidth<=1440&&l()},[]),n},Sn={addTab:H,removeTab:H,tabs:[],openTab:H,hasTab:()=>!1,setTabs:H,activeTab:"",tabEvent:De(),addTabWithNavigate:H},pe=s.createContext(Sn),Tn=({children:t})=>{const[n,o]=s.useState([]),[r,a]=s.useState(""),l=s.useMemo(()=>De(),[]),c=X(),i=s.useCallback(()=>{const m=f=>{f&&f!==r&&a(f)},v=f=>n.findIndex(g=>g.key===f)>-1,k=(f,g=!0)=>{v(f.key)||o(p=>[...p,{...f}]),g&&r!==f.key&&m(f.key)};return{openTab:m,addTab:k,removeTab:f=>{const g=n.findIndex(x=>x.key===f);if(g===-1)return;const p=n[g===0?1:g-1];o(x=>x.filter(T=>T.key!==f)),r===f&&p&&c(p.key),console.log("tabs",n)},hasTab:v,addTabWithNavigate:f=>{k(f,!0);const g=n.find(x=>x.key===f.key)||f;if(!g){console.log("标签页不存在");return}const p=g.key+(g.queryString||"");c(p)}}},[n,r]),u=s.useMemo(()=>i(),[i]),d=s.useMemo(()=>({tabs:n,setTabs:o,activeTab:r,tabEvent:l,...u}),[n,r]);return e(pe.Provider,{value:d,children:t})},Z=()=>{const{token:t}=V.useToken();return t},R="/iframe",et=t=>`${R}?url=${t}`;const ce=new Map,ye=t=>{t.map(n=>{de(n)&&(n==null?void 0:n.type)==="url"||(me(n)&&ye(n.children||[]),(ie(n)||Ge(n))&&(n.path&&ce.set(n.path,n.label),n.children&&ye(n.children||[])))})},In=()=>{const{menuList:t}=s.useContext(W),n=s.useMemo(()=>(ce.clear(),ye(t),ce),[t]),o=ee(),[r]=ue(),a=()=>{if(o.pathname===R){const i=r.get("url");if(i&&ce.has(i))return[e(ae.Item,{children:e(ge,{style:{color:"inherit"},to:et(i),children:n.get(i)})},i)]}return[]},l=s.useMemo(()=>{const i=o.pathname.split("/").filter(u=>u);return i.map((u,d)=>{const m=`/${i.slice(0,d+1).join("/")}`;return n.has(m)?e(ae.Item,{children:d===i.length-1?e(ge,{style:{color:"inherit"},to:m,children:n.get(m)}):n.get(m)},m):null})},[o]),c=[e(ae.Item,{children:e(it,{})},"home"),...l,...a()];return e(ae,{className:"breadcrumb",children:c})},tt=_.memo(In),Mn=({active:t,children:n,id:o,parentRef:r})=>{const[a]=s.useState(()=>document.createElement("div")),l=s.useRef(!1);return l.current=l.current||t,s.useEffect(()=>{var c,i;if(t)(c=r.current)==null||c.appendChild(a);else try{(i=r.current)==null||i.removeChild(a)}catch{}},[t,r,a]),s.useEffect(()=>{a.setAttribute("id",o)},[o,a]),s.useEffect(()=>()=>{var c;try{(c=r.current)==null||c.removeChild(a)}catch{}},[]),e(F,{children:l.current&&dt.createPortal(n,a)})};let we=1;const Pn=()=>{const t=ut(),{pathname:n,search:o}=ee(),r=n===R?n+o:n,{tabs:a,tabEvent:l}=s.useContext(pe),c=s.useRef(null),[i,u]=s.useState([]);return s.useEffect(()=>{const d=l.on("reload",m=>{console.log("刷新页面:",m),u(i.map(v=>v.id!==m?v:{...v,key:++we}))});return()=>{d()}},[i]),s.useEffect(()=>{if(console.log("chage",r,a),!r)return;const d=a.map(m=>m.key);u(m=>(m.find(k=>k.id===r)||m.push({id:r,element:t,key:++we}),m.filter(k=>d.includes(k.id)))),console.log("tabs",a,i)},[a]),h(F,{children:[e("div",{ref:c,className:"keep-alive"}),i.map(({id:d,element:m,key:v})=>e(Mn,{active:d===r,parentRef:c,id:d,children:m},v))]})};const Nn=()=>{const{pathname:t}=ee(),{tabs:n,activeTab:o,removeTab:r,tabEvent:a,addTabWithNavigate:l}=s.useContext(pe),{colorPrimary:c}=Z(),[i,u]=s.useState(!1),{colorBgLayout:d}=Z(),m=f=>{f&&f!==t&&l({key:f,label:""})},v=(f,g)=>{g==="remove"&&r(f)},k=()=>{a.emit("reload",t)},y=f=>{const g=f;u(g),a.emit("fullScreen",g)},C=()=>h(O,{size:0,children:[e(le,{title:"刷新当前页面",children:e(S,{onClick:k,type:"link",style:{color:c},icon:e(mt,{})})}),(()=>i?e(le,{title:"退出全屏",children:e(S,{onClick:()=>y(!1),type:"link",style:{color:c},icon:e(qe,{})})}):e(le,{title:"全屏",children:e(S,{onClick:()=>y(!0),type:"link",style:{color:c},icon:e(ze,{})})}))()]});return e(Be,{className:"tabs-wrapper",type:"editable-card",hideAdd:!0,activeKey:o,items:[...n],onChange:m,onEdit:v,tabBarExtraContent:e(C,{}),style:{backgroundColor:d,left:i?0:200}})};const Ln=({children:t})=>{console.log("multitab Content render...");const{pathname:n,search:o}=ee(),{addTab:r,hasTab:a,openTab:l,tabs:c,tabEvent:i}=s.useContext(pe),{mapPathToMenu:u}=s.useContext(W),d=s.useRef(null),[m,{toggleFullscreen:v}]=Fe(d),{colorBgLayout:k}=Z(),[y]=ue(),C=ht(),f=p=>{var D;console.log("eeeeeeee",u);let x="";const T=p.split("/").filter(B=>B);for(let B=0;B<T.length;B++){const Te=`/${T.slice(0,B+1).join("/")}`;u.has(Te)&&(x=((D=u.get(Te))==null?void 0:D.label)||x)}return x},g=()=>{console.log("handleAddTab");let p=n;n===R&&(p=y.get("url")||"");const x=u.get(p),T=x?n===R?n+o:x.key:n;if(a(T)){l(T);return}if(!x||!x.path){let D=f(p);if(!D)D="404",n===R&&(D="Iframe 页面");else{const{params:{id:B=void 0}}=C.pop()||{params:{id:void 0}};B&&(D+=": "+B)}r({label:D,key:T,queryString:o,children:null});return}r({label:x.label,key:T,queryString:n===R?"":o,children:null})};return s.useEffect(()=>{if(n===R){g();return}g(),console.log("addddd",n)},[n,o]),s.useEffect(()=>{console.log("qqqqqqq",o)},[o]),s.useEffect(()=>{const p=i.on("fullScreen",x=>{v()});return()=>{p()}},[]),h(A.Content,{className:"content",ref:d,style:{backgroundColor:k},children:[c.length?e(Nn,{}):null,c.length?e(tt,{}):null,e(Pn,{})]})},An=_.memo(Ln),nt=()=>{const{settings:{showFooter:t}}=s.useContext(j),{Text:n,Link:o}=U;return t?h(A.Footer,{style:{textAlign:"center",paddingBottom:4},children:[h(n,{type:"secondary",children:["React Admin Template",e(o,{href:"https://github.com/xstnet/react-admin-template",target:"_blank",style:{color:"inherit",marginLeft:5},children:e(pt,{})})]}),e("br",{}),e(o,{href:"https://github.com/xstnet",target:"_blank",children:e(n,{type:"secondary",children:"醉丶春风"})}),h(n,{type:"secondary",children:["©2023 Created by",e(o,{target:"_blank",href:"https://ant-design.antgroup.com/index-cn",style:{margin:"0 6px",color:"inherit"},children:"Ant Design"}),"V5"]})]}):null};const w=gt({scriptUrl:E.iconFontUrl,extraCommonProps:{}}),wn=()=>{const{fullScreen:t,setFullScreen:n}=s.useContext(he),o=()=>{$.success(t?"已退出全屏模式":"进入全屏模式"),n(!t)};return t?e(qe,{title:"退出全屏模式",className:"action-icon",onClick:o}):e(ze,{title:"进入全屏模式",className:"action-icon",onClick:o})},$n=()=>e(U.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/xstnet/react-admin-template",children:e(ft,{})}),Rn=[[2,1,"刚刚"],[60,1,"%d秒前"],[3600,60,"%d分钟前"],[86400,3600,"%d小时前"],[86400*30,3600*24,"%d天前"],[86400*30*12,3600*24*30,"%d月前"],[1/0,3600*24*30*12,"%d年前"]],On=[[-60,1,"%d秒后"],[-3600,60,"%d分钟后"],[-86400,3600,"%d小时后"],[-(86400*30),3600*24,"%d天后"],[-(86400*30*12),3600*24*30,"%d月后"],[-1/0,3600*24*30*12,"%d年后"]],Un=({time:t,...n})=>{const o=Math.floor(new Date().getTime()/1e3),r=Math.floor(new Date(t).getTime()/1e3),a=o-r;if(isNaN(r))return e(F,{children:"time"});const l=a<-1?On:Rn;let c="";for(const[i,u,d]of l)if(Math.abs(a)<Math.abs(i)){const m=Math.floor(Math.abs(a)/u);c=d.replace("%d",String(m));break}return e(le,{title:t,children:e("span",{...n,children:c})})},Fn=()=>e(J,{size:"small",itemLayout:"horizontal",dataSource:[{title:"张三 评论了你",desc:"评论内容评论内容评论内容",createTime:"2023-04-06 15:39:00"},{title:"您有3个订单待支付",desc:"订单1,订单2,订单3",createTime:"2023-04-05 15:39:00"},{title:"张三 的请假申请需要您的审批",desc:"",createTime:"2023-04-01 12:08:00"},{title:"本周周报待填写",createTime:"2023-03-02 10:55:00",desc:"说明"}],renderItem:n=>e(J.Item,{children:e(J.Item.Meta,{avatar:e(ve,{size:48,icon:e(je,{})}),title:e("a",{href:"https://ant.design",children:n.title}),description:h("div",{children:[n.desc,n.desc&&e("br",{}),e(U.Text,{children:e(Un,{style:{fontSize:12},time:n.createTime})})]})})})}),En=()=>e(J,{size:"small",itemLayout:"horizontal",dataSource:[{title:"您有一封新的邮件",type:"mail"},{title:"您有3个订单待支付",type:"payment"},{title:"张三 的请假申请需要您的审批",type:"workflow"},{title:"本周周报待填写",type:"common"}],renderItem:n=>e(J.Item,{children:e(J.Item.Meta,{avatar:e(w,{style:{fontSize:30},type:`icon-${n.type}`}),title:e("a",{href:"https://ant.design",children:n.title}),description:"3天前"})})}),_n=()=>h(F,{children:[e(Be,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"通知(3)",children:e(En,{})},{key:"message",label:"消息(4)",children:e(Fn,{})}],onChange:void 0,tabBarExtraContent:e(S,{type:"link",style:{marginRight:10},children:"清空"})}),e(ne,{style:{margin:"8px 0"}}),h(O,{split:e(ne,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[e(S,{type:"link",children:"全部已读"}),e(S,{type:"link",children:"查看更多"})]})]}),Dn=t=>e(fe,{count:98,children:e(bt,{arrow:!1,content:e(_n,{}),placement:"bottomRight",trigger:"click",children:e(w,{title:"通知提醒",type:"icon-notify",className:"action-icon"})})}),Bn=()=>e(w,{title:"搜索",type:"icon-search",className:"action-icon"}),qn=()=>{const{settings:{theme:t},setSetting:n}=s.useContext(j),o=()=>{n({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e(w,{onClick:o,title:"主题-深色模式",type:"icon-theme-dark",className:"action-icon"}):e(w,{onClick:o,title:"主题-明亮模式",type:"icon-theme-light",className:"action-icon"})};const zn=t=>{const n=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:o,presetColors:r=n,defaultSelectedColor:a=""}=t,{value:l=a}=t,[c,i]=s.useState(l),u=d=>{i(d),o==null||o(d)};return e("div",{className:"theme-color-wrap",children:r.map(d=>e("div",{onClick:()=>u(d),className:"theme-color-item",style:{backgroundColor:d},title:d,children:c===d&&e(yt,{className:"checked-icon"})},d))})},jn=t=>{const{open:n,onClose:o=H}=t,{settings:r,setSetting:a}=s.useContext(j),[l]=b.useForm(),[c]=Qe(),i=s.useMemo(()=>({...r,theme:r.followSystemTheme?"followSystem":r.theme}),[r]),u=(d,m)=>{const v={...d},{theme:k,fixedMenu:y,fixedHeader:C}=v;k&&(console.log("themeee",k),v.followSystemTheme=!1,k==="followSystem"&&(v.followSystemTheme=!0,v.theme=c)),y&&(v.fixedHeader=!0),C===!1&&(v.fixedMenu=!1),a(v),console.log("chage",d,m)};return Ce(()=>{l==null||l.setFieldsValue(i)},[i]),e(kt,{title:"偏好设置",onClose:o,open:n,children:h(b,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...i},autoComplete:"off",onValuesChange:u,form:l,children:[e(b.Item,{label:"外观",name:"theme",children:h(K.Group,{buttonStyle:"solid",children:[h(K.Button,{value:"light",children:[e(w,{type:"icon-theme-light"})," 浅色"]}),h(K.Button,{value:"dark",children:[e(w,{type:"icon-theme-dark"})," 深色"]}),h(K.Button,{value:"followSystem",children:[e(w,{type:"icon-followSystem"})," 跟随系统"]})]})}),e(b.Item,{label:"紧凑模式",valuePropName:"checked",name:"compactMode",children:e(te,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(b.Item,{label:"主题色",name:"primaryColor",children:e(zn,{defaultSelectedColor:r.primaryColor})}),e(ne,{children:"布局"}),e(b.Item,{label:"多标签页",valuePropName:"checked",name:"multitabMode",children:e(te,{checkedChildren:"启用",unCheckedChildren:"关闭"})}),e(b.Item,{label:"固定头部",valuePropName:"checked",name:"fixedHeader",children:e(te,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(b.Item,{help:"固定菜单启用时, 头部也会同步固定",label:"固定菜单",valuePropName:"checked",name:"fixedMenu",children:e(te,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(b.Item,{valuePropName:"checked",label:"显示底部",name:"showFooter",children:e(te,{checkedChildren:"开启",unCheckedChildren:"关闭"})})]})})},Vn=t=>{const[n,o]=s.useState(!1);return h("div",{children:[e(jn,{open:n,onClose:()=>{o(!1)}}),e(w,{onClick:()=>{o(!0)},title:"设置",type:"icon-setting",className:"action-icon"})]})},Hn=()=>{const{userInfo:t,setUserInfo:n,setIsLogin:o}=s.useContext(he),{menuCollapsed:r,setMenuCollapsed:a}=s.useContext(W),{token:{colorBgContainer:l}}=V.useToken(),c=X(),i=()=>h("div",{className:"left",children:[h("div",{className:"logo",children:[e(w,{type:"icon-react",className:"logo-img"}),e("span",{className:"logo-text",children:"React Admin Template"})]}),e("div",{children:_.createElement(r?vt:Ct,{onClick:()=>a(!r)})})]}),u=()=>{const d=()=>h(F,{children:[e(Bn,{}),e(Dn,{}),e(wn,{}),e($n,{}),e(qn,{}),e(Vn,{})]}),m=[{label:e("a",{children:"个人中心"}),icon:e(je,{}),key:"userCenter"},{label:e("a",{children:"修改资料"}),key:"update",icon:e(Ve,{})},{type:"divider"},{label:"退出",icon:e(St,{}),key:"logout",onClick:()=>{hn().then(()=>{P.removeToken(),o(!1),n(null),c("/login")})}}];return e("div",{className:"right",children:h(O,{size:"middle",children:[d(),e(xt,{menu:{items:m},children:h(O,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e(ve,{src:t==null?void 0:t.avatar})]})})]})})};return e(A.Header,{className:"header",style:{background:l},children:h(F,{children:[i(),u()]})})},ot=_.memo(Hn),Kn=()=>{const t=X(),{pathname:n}=ee(),[o,r]=s.useState(),{menuList:a,mapPathToMenu:l}=s.useContext(W);let c="/dashboard",i=[],u=!1;const[d]=ue();Ce(()=>{let k=l.get(n);if(!k){let y="";l.forEach(({path:C})=>{n.startsWith(C)&&C.length>y.length&&(y=C)}),y&&(k=l.get(y))}k&&(k!=null&&k.hideInMenu?r([k.parent]):r([n]))},[n]);const m=k=>{const y=l.get(k.key);if(console.log("clicked menu",k,y),!y){console.warn("未获取到菜单信息");return}if(y.path!==n){if((y==null?void 0:y.type)==="url"){window.open(y.path,"_blank");return}if(document.title=`${E.pageTitlePrefix} - ${y.label}`,(y==null?void 0:y.type)==="iframe"){console.log("打开iframe页面"),t(et(y.path));return}t(y.path)}},v=s.useMemo(()=>{const k=C=>C.badge?C.badge==="dot"?e(fe,{className:"menu-item-badge",offset:[6,0],dot:!0,children:C.label}):e(fe,{className:"menu-item-badge",offset:[15,0],count:C.badge,children:C.label}):C.label,y=(C,f)=>{const g=[];return!u&&f&&i.push(f.key),C.map(p=>{if(de(p)&&(p.parent&&n.indexOf(p.path)===0&&(console.log("ccccccccccccccccccccc",p.parent),c=p.parent,u=!0),p.type==="iframe"&&(d.get("url")||"")===p.path&&(u=!0,c=p.key),p.hideInMenu))return;let x;if(Et(p))x={...p};else if(me(p))x={...p},p.children&&p.children.length>0&&(x.children=y(p.children));else if(ie(p)||Ge(p)){let{icon:T}=p;typeof T=="string"&&T.includes("icon-")&&(T=e(w,{type:T})),x={key:"",...p,icon:T,label:k(p),children:ie(p)?y(p.children,p):void 0},!u&&p.path===n&&(c=p.key,u=!0)}x&&(x.key=x.key,g.push(x))}),!u&&i.pop(),g};return y(a)},[a]);return e(Tt,{style:{height:"100%"},onClick:m,mode:"inline",defaultSelectedKeys:[c],selectedKeys:o,items:v,defaultOpenKeys:i})},Yn=_.memo(Kn);const rt=()=>{const{menuCollapsed:t}=s.useContext(W),{colorBgContainer:n}=Z();return e(A.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(Yn,{})})};const Wn=()=>(console.log("MultitabLayout render..."),e(Tn,{children:h(A,{className:"multitab-layout",children:[e(ot,{}),h(A,{children:[e(rt,{}),h(A,{className:"content-layout",children:[e(An,{}),e(nt,{})]})]})]})})),Gn=_.memo(Wn);const Jn=({children:t})=>(console.log("Tab Wrap Content render..."),e(A.Content,{className:"content",children:t})),Qn=_.memo(Jn);const Zn=()=>(console.log("SingleLaylut render..."),h(A,{className:"single-tab-layout",children:[e(ot,{}),h(A,{children:[e(rt,{}),h(A,{className:"content-layout",children:[e(tt,{}),e(Qn,{children:e(It,{})}),e(nt,{})]})]})]}));const Xn=()=>{const[t,n]=s.useState(!0),{setIsLogin:o,setUserInfo:r}=s.useContext(he),{colorBgContainer:a}=Z(),{settings:{multitabMode:l,fixedMenu:c,fixedHeader:i,theme:u}}=s.useContext(j),{menuCollapsed:d}=s.useContext(W),m=X(),[v]=ue();return console.log("global layout render..."),s.useEffect(()=>{if(!Ae()){m("/login");return}console.log("effect validateToken"),mn().then(k=>{if(n(!1),o(!0),r(k),v.has("ghpage")){const y=decodeURIComponent(v.get("ghpage"));m(y);return}}).catch(k=>{k instanceof Mt&&_e.error({message:"网络错误",description:"获取用户信息失败, 无法打开页面",duration:null,closeIcon:null})})},[]),Ce(()=>{Ae()||m("/login")}),t?e(Xe,{title:"页面加载中",loading:t}):h("div",{"data-fixed-menu":c?1:0,"data-menu-collapsed":d?1:0,"data-fixed-header":i?1:0,style:{background:a},className:`global-layout theme-${u}`,children:[l?e(Gn,{}):e(Zn,{}),e(xn,{})]})},eo=_.memo(Xn),$e=()=>e("span",{children:"UserCenterPage"}),to=()=>e("span",{children:"UserCenterUpdatePage"});const at=s.forwardRef(({state:t},n)=>{const[o]=b.useForm(),r=s.useRef(null);return s.useImperativeHandle(n,()=>({form:o,input:r.current}),[o,r]),e("div",{children:h(b,{form:o,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(b.Item,{name:"username",label:"账号",rules:[{required:!0,message:"请输入账号"}],children:e(M,{placeholder:"请输入账号",ref:r})}),e(b.Item,{name:"password",label:"密码",rules:[{required:!t,message:"请输入密码"}],children:e(M.Password,{placeholder:t?"不修改密码请留空!":"请输入密码"})}),e(b.Item,{name:"nickname",label:"昵称",rules:[{required:!0,message:"请输入昵称"}],children:e(M,{placeholder:"请输入昵称"})}),e(b.Item,{name:"gender",label:"性别",children:h(K.Group,{children:[e(K,{value:1,children:"男"}),e(K,{value:2,children:"女"})]})}),e(b.Item,{name:"mobile",label:"手机号",children:e(M,{placeholder:"请输入手机号"})}),e(b.Item,{name:"email",label:"邮箱",children:e(M,{placeholder:"请输入邮箱"})})]})})}),no=({refreshList:t})=>{const[n,o]=s.useState(!1),{run:r,loading:a}=Q(gn,{manual:!0,debounceWait:100,onSuccess:()=>{var i;o(!1),(i=l.current)==null||i.form.resetFields(),t==null||t()}}),l=s.useRef(null);return h("div",{children:[e(S,{type:"primary",icon:e(xe,{}),onClick:()=>{o(!0),setTimeout(()=>{var i,u;(u=(i=l.current)==null?void 0:i.input)==null||u.focus()},100)},children:"新增用户"}),e(He,{open:n,title:"添加用户",okText:"添加",cancelText:"取消",confirmLoading:a,onCancel:()=>o(!1),onOk:()=>{var i;(i=l.current)==null||i.form.validateFields().then(u=>{r(u)}).catch(u=>console.log(u))},children:e(at,{ref:l})})]})},oo=({search:t,form:n})=>e(b,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:r=>{console.log("Received values of form: ",r)},children:h(Se,{gutter:24,children:[e(q,{span:6,children:e(b.Item,{name:"username",label:"账号",children:e(M,{placeholder:"账号"})})}),e(q,{span:6,children:e(b.Item,{name:"mobile",label:"手机号",children:e(M,{placeholder:"手机号"})})}),e(q,{span:6,children:e(b.Item,{name:"email",label:"邮箱",children:e(M,{placeholder:"邮箱"})})}),h(q,{span:6,style:{textAlign:"right"},children:[e(S,{onClick:t.reset,children:"重置"}),e(S,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"查询"})]})]})}),ro=(t,n)=>{const o=Pt(t,n),{tableProps:r}=o,a={...r.pagination,showTotal:(i,u)=>`第${u[0]}-${u[1]} 条/共 ${i} 条`,hideOnSinglePage:!0};r.pagination=a;const l=r.onChange,c=(...i)=>{var f;let[u,d,m,v]=i,k=u,y,C;Object.keys(m).length>0&&(Array.isArray(m)?(C={},m.map(g=>{var p;C[(p=g.column)==null?void 0:p.dataIndex]=g.order})):C={[(f=m.column)==null?void 0:f.dataIndex]:m.order}),Object.keys(d).length>0&&(y=d,console.log("filterrrrrrrrrrrrr",d)),l(k,y,C)};return r.onChange=c,o.tableProps.size="small",o},ao=({state:t,refreshList:n})=>{const[o,r]=s.useState(!1),{runAsync:a,loading:l}=Q(fn,{manual:!0,debounceWait:100}),c=s.useRef(null);return h(F,{children:[e(S,{icon:e(Ve,{}),size:"small",onClick:()=>{r(!0),setTimeout(()=>{var u,d;(d=(u=c.current)==null?void 0:u.input)==null||d.focus()},100)},children:"编辑"}),e(He,{open:o,title:"更新用户信息",okText:"保存",cancelText:"取消",confirmLoading:l,onCancel:()=>r(!1),onOk:()=>{var u;(u=c.current)==null||u.form.validateFields().then(d=>{a({...d,id:t.id}).then(()=>{var m;r(!1),(m=c.current)==null||m.form.resetFields(),n==null||n()}).catch(H)}).catch(d=>console.log(d))},children:e(at,{ref:c,state:t})})]})};const oe=t=>{const{children:n,className:o="",style:r={},...a}=t,{colorBgContainer:l}=Z(),c="content-box",i={backgroundColor:l};return e("div",{className:`${c} ${o}`,style:{...i,...r},...a,children:n})},so=()=>{var f;console.log("render ExampleUserListPage");const[t]=b.useForm(),[n,o]=s.useState([]),r=s.useRef();s.useEffect(()=>{r.current=new Map},[]);const{runAsync:a,loading:l}=Q(bn,{manual:!0,debounceWait:100}),{refresh:c,tableProps:i,search:u}=ro(pn,{form:t}),d=()=>{u.reset(),u.submit()},m=g=>{var p;typeof g=="number"&&((p=r==null?void 0:r.current)==null||p.set(g,!0)),a({id:g}).then(()=>{typeof g=="object"&&o([]),c()}).finally(()=>{var x;return typeof g=="number"&&((x=r==null?void 0:r.current)==null?void 0:x.delete(g))})},v=s.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"账号",dataIndex:"username",render:(g,{avatar:p,username:x})=>h(F,{children:[" ",e(ve,{src:p})," ",x]})},{title:"昵称",dataIndex:"nickname"},{title:"性别",dataIndex:"gender",render:g=>g===Ze.male?e(Ie,{color:"blue",children:"男"}):e(Ie,{color:"error",children:"女"})},{title:"邮箱",dataIndex:"email"},{title:"手机号",dataIndex:"mobile",sorter:!0},{title:"注册时间",dataIndex:"create_time",sorter:!0},{title:"操作",key:"operation",fixed:"right",render:(g,p)=>{var T;const{id:x}=p;return h(O,{children:[e(Me,{title:"确认要删除这条数据吗?",onConfirm:()=>m(x),children:e(S,{loading:(T=r==null?void 0:r.current)==null?void 0:T.has(x),icon:e(Nt,{}),size:"small",danger:!0,children:"删除"})}),e(ao,{state:p,refreshList:c})]})}}],[]),y={selectedRowKeys:n,onChange:g=>{console.log("selectedRowKeys changed: ",g),o(g)}},C=n.length>0;return h(F,{children:[h(oe,{children:[e("div",{children:e(U.Title,{level:5,children:"搜索"})}),e(oo,{search:u,form:t})]}),e("br",{}),h(oe,{children:[h("div",{className:"table-header",children:[e("div",{className:"left",children:e(U.Title,{level:5,children:"用户列表"})}),e("div",{className:"right",children:h(O,{size:"middle",children:[e(Me,{title:`确定要删除这${n.length}条数据吗?`,onConfirm:()=>m(n),children:e(S,{type:"primary",danger:!0,disabled:!C,loading:l&&((f=r.current)==null?void 0:f.size)===0,children:"批量删除"})}),e(no,{refreshList:d}),e(S,{type:"link",title:"点击刷新",onClick:c,icon:e(Lt,{})})]})})]}),e(At,{rowKey:"id",rowSelection:y,columns:v,...i})]})]})},se=({title:t="空白页"})=>{const[n,o]=s.useState(0);return h(oe,{style:{height:"500px"},children:[e(U.Title,{level:4,children:t}),h(U.Text,{children:["Count: ",n]}),e("br",{}),e(S,{onClick:r=>o(a=>a+1),children:"add"})]})},lo=()=>{const{pathname:t}=ee();return e(wt,{status:"404",title:"404",subTitle:`页面不存在, 当前路由: ${t}`,extra:e(S,{type:"primary",children:e(ge,{to:"/",children:"返回首页"})})})};const co=()=>{const[t]=b.useForm(),n=X(),o="articleDraft",{loading:r,run:a}=Q(kn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{P.remove(o),n("/article/list")},200)}),l=P.getObject(o)||{},c=async()=>{const d=await t.validateFields();a(d)},i=()=>{const{cover:d,...m}=t.getFieldsValue();P.set(o,m),$.success("已保存到草稿箱")},u=d=>(console.log("Upload event:",d),Array.isArray(d)?d:d&&d.fileList);return h(oe,{children:[e(U.Title,{level:3,children:"发布文章"}),e(ne,{}),e(b,{form:t,name:"createForm",labelCol:{span:3},initialValues:l,children:h(Se,{gutter:36,children:[h(q,{span:16,children:[e(b.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(M,{})}),e(b.Item,{label:"简介",name:"description",children:e(M,{})}),e(b.Item,{label:"内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:e(M.TextArea,{rows:20})}),e(b.Item,{wrapperCol:{offset:3},children:h(O,{children:[e(S,{icon:e(Ke,{}),onClick:c,loading:r,type:"primary",children:"发布文章"}),e(S,{icon:e($t,{}),onClick:i,children:"保存为草稿"})]})})]}),h(q,{span:8,children:[e(b.Item,{label:"封面",name:"cover",getValueFromEvent:u,valuePropName:"fileList",children:e(Ye,{maxCount:1,listType:"picture-card",children:h("div",{children:[e(xe,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(b.Item,{label:"标签",name:"tags",children:e(We,{mode:"tags",placeholder:"文章标签"})}),e(b.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(M,{})})]})]})})]})},io=()=>{const[t]=b.useForm(),n=X(),o=Rt(),{loading:r,run:a}=Q(yn,{manual:!0,debounceWait:10,onSuccess:d=>t.setFieldsValue(d)});s.useEffect(()=>{a({id:o.id})},[o.id]);const{loading:l,run:c}=Q(vn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{n("/article/list")},200)}),i=async()=>{const d=await t.validateFields();c(d)},u=d=>(console.log("Upload event:",d),Array.isArray(d)?d:d&&d.fileList);return h(oe,{children:[e(U.Title,{level:3,children:"更新文章"}),e(ne,{}),e(Ee,{spinning:r,children:e(b,{form:t,name:"createForm",labelCol:{span:3},children:h(Se,{gutter:36,children:[h(q,{span:16,children:[e(b.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(M,{})}),e(b.Item,{label:"简介",name:"description",children:e(M,{})}),e(b.Item,{label:"内容",name:"content",rules:[{required:!0,message:"请输入内容"}],children:e(M.TextArea,{rows:20})}),e(b.Item,{wrapperCol:{offset:3},children:e(O,{children:e(S,{icon:e(Ke,{}),onClick:i,loading:l,type:"primary",children:"保存"})})})]}),h(q,{span:8,children:[e(b.Item,{label:"封面",name:"cover",getValueFromEvent:u,valuePropName:"fileList",children:e(Ye,{maxCount:1,listType:"picture-card",children:h("div",{children:[e(xe,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(b.Item,{label:"标签",name:"tags",children:e(We,{mode:"tags",placeholder:"文章标签"})}),e(b.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(M,{})})]})]})})})]})},uo=s.lazy(()=>re(()=>import("./index-6b795670.js"),["assets/index-6b795670.js","assets/vendor-697186c6.js"])),Re=s.lazy(()=>re(()=>import("./index-5b0a6e39.js"),["assets/index-5b0a6e39.js","assets/vendor-697186c6.js"])),mo=s.lazy(()=>re(()=>import("./index-706e0f77.js"),["assets/index-706e0f77.js","assets/vendor-697186c6.js","assets/index-5c0cb4e1.css"])),Oe=s.lazy(()=>re(()=>import("./index-2f761527.js"),["assets/index-2f761527.js","assets/vendor-697186c6.js"])),ho=s.lazy(()=>re(()=>import("./index-2467ebcc.js"),["assets/index-2467ebcc.js","assets/vendor-697186c6.js","assets/index-c11d3a46.css"])),G=({children:t})=>e(_.Suspense,{fallback:e(Xe,{}),children:t});function po(){return[{path:"/login",element:e(G,{children:e(mo,{})})},{path:"/",element:e(eo,{}),children:[{path:"/",element:e(G,{children:e(Oe,{})})},{path:"/dashboard",element:e(G,{children:e(Oe,{})})},{path:"/user",children:[{index:!0,element:e($e,{})},{path:"/user/center/index",element:e($e,{})},{path:"/user/center/update",element:e(to,{})}]},{path:"/example",children:[{path:"/example/userList",element:e(so,{})},{path:"/example/tabs/manage",element:e(G,{children:e(uo,{})})}]},{path:"/article",children:[{index:!0,element:e(G,{children:e(Re,{})})},{path:"/article/list",element:e(Re,{})},{path:"/article/create",element:e(co,{})},{path:"/article/update/:id",element:e(io,{})}]},{path:"/blank",element:e(se,{})},{path:"/badge/dot",element:e(se,{title:"红点徽标"})},{path:"/badge/count",element:e(se,{title:"数字徽标"})},{path:R,element:e(G,{children:e(ho,{})})},{path:"/multilevel/menu/2/3",element:e(se,{title:"三级菜单"})},{path:"*",element:e(lo,{})}]}]}function go(){s.useEffect(()=>{},[]);const t=Ot(po(),{basename:"/react-admin-template/"});return e(tn,{children:e(Ut,{router:t})})}function Ue(t){const n=JSON.stringify({type:"JWT",alg:"HS256"}),o=Number((new Date().getTime()/1e3).toFixed(0)),r=JSON.stringify({iss:"github.com/xstnet",sub:"react-admin",iat:o,exp:o+86400*14,data:t}),a="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Pe(n)}.${Pe(r)}.${a}`}I.mock(/api\/login/,"post",({body:t})=>{const{username:n,password:o}=JSON.parse(t);return n==="admin"?o!=="123456"?{code:-1,message:"密码错误"}:{code:0,message:"登录成功",data:{token:Ue({uid:1})}}:{code:0,message:"登录成功",data:{token:Ue({uid:Y.Random.natural(2,1e4)})}}});I.setup({timeout:100});I.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"醉丶春风",avatar:"https://www.xstnet.com/static/images/head.gif",password:"",gender:Y.Random.natural(1,2),email:"shantongxu@qq.com",mobile:"133xxxx3333"}}));I.mock(/api\/user\/logout/,"post",t=>({code:0,message:"退出成功"}));I.mock(/api\/user\/list/,"get",t=>{const n=new URLSearchParams(t.url);let o=Number(n.has("pageSize")?n.get("pageSize"):10);const r={code:0,message:"ok",data:{total:100,[`list|${o}`]:[{"id|+1":o,username:"@first@last",nickname:"@cname",avatar:()=>Y.Random.dataImage("200x200"),email:"@email",mobile:()=>I.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return I.mock(r)});I.mock(/api\/user\/create/,"post",t=>({code:0,message:"创建成功",data:{id:Y.Random.natural(100,9999)}}));I.mock(/api\/user\/update/,"post",t=>({code:0,message:"更新成功"}));I.mock(/api\/user\/delete/,"post",t=>({code:0,message:"删除成功"}));I.setup({timeout:100});I.mock(/api\/article\/detail/,"get",t=>(console.log("🚀 ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"主题",description:"醉丶春风",author:"醉丶春风",tags:[1,2],content:"content",create_time:Y.Random.datetime()}}));I.mock(/api\/article\/list/,"get",t=>{const n=new URLSearchParams(t.url);let o=Number(n.has("pageSize")?n.get("pageSize"):10);const r={code:0,message:"ok",data:{total:100,[`list|${o}`]:[{"id|+1":o,author:"@first@last",title:()=>I.Random.ctitle(5,20),description:"@cname",cover:()=>Y.Random.dataImage("480x270","封面"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return I.mock(r)});I.mock(/api\/article\/create/,"post",t=>({code:0,message:"创建成功",data:{id:Y.Random.natural(100,9999)}}));I.mock(/api\/article\/update/,"post",t=>({code:0,message:"更新成功"}));I.mock(/api\/article\/delete/,"post",t=>({code:0,message:"删除成功"}));Ft.createRoot(document.getElementById("root")).render(e(go,{}));export{oe as C,an as D,F,pe as M,Un as R,j as S,rn as T,e as a,E as b,P as c,yo as d,Z as e,W as f,ko as g,h as j,vo as p,bo as r,ro as u,Ae as v};
