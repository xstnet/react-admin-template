import{j as ke,r as c,C as He,z as at,t as H,u as ot,c as lt,R as ee,a as E,b as ve,d as se,M as it,B as pe,L as z,e as q,m as R,F as st,f as ct,T as N,G as dt,D as ce,P as ut,g as mt,h,i as ht,k as pt,l as j,S as ne,n as gt,o as ft,p as L,q as yt,A as Ke,U as bt,E as Ce,s as kt,v as Z,w as K,x as G,y as xe,I as S,H as M,J as te,K as _e,N as vt,O as Se,Q as Ye,V as Ct,W as xt,X as St,Y as It,Z as qe,_ as Mt,$ as _,a0 as x,a1 as re,a2 as he,a3 as Pt,a4 as Tt,a5 as Nt,a6 as Y,a7 as Ve,a8 as wt,a9 as we,aa as ge,ab as je,ac as Lt,ad as At,ae as ze,af as Ft,ag as Ee,ah as We,ai as Ut,aj as Ie,ak as $t,al as Ot,am as ae,an as Dt,ao as Rt,ap as Je,aq as Bt,ar as Ht,as as Kt,at as Le,au as T,av as W,aw as Ae,ax as _t,ay as Yt}from"./vendor-9b22cd09.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();const $=ke.Fragment,e=ke.jsx,s=ke.jsxs,Fe=[{label:"æ§åˆ¶å°",type:"group",children:[{label:"æ§åˆ¶å°",icon:"icon-dashboard",path:"/dashboard"}]},{label:"ç¤ºä¾‹é¡µé¢",type:"group",children:[{label:"åˆ—è¡¨é¡µ",icon:"icon-list",path:"/example/userList"},{label:"å¤šçº§èœå•",icon:"icon-list",path:"/multilevel/menu",children:[{label:"äºŒçº§èœå•",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"ä¸‰çº§èœå•",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"ç©ºç™½é¡µ",icon:"icon-example",path:"/blank"},{label:"404",icon:"icon-example",path:"/404"}]},{label:"å¾½æ ‡ç¤ºä¾‹",type:"group",children:[{label:"çº¢ç‚¹å¾½æ ‡",icon:"icon-list",badge:"dot",path:"/blank"},{label:"æ•°å­—å¾½æ ‡",icon:"icon-example",badge:98,path:"/blank"}]},{type:"divider"},{path:"/article",label:"æ–‡ç« ç®¡ç†",icon:"icon-article",children:[{path:"/article/list",label:"æ–‡ç« åˆ—è¡¨",icon:"icon-article"},{path:"/article/create",label:"å‘å¸ƒæ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"æ›´æ–°æ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"åˆ†ç±»ç®¡ç†",icon:"icon-list"}]},{path:"/iframe",label:"å¤–éƒ¨é¡µé¢",icon:"icon-href",children:[{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å¤–é“¾)",icon:"icon-document",key:"webpage-antd-document",type:"url"},{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å†…åµŒ)",icon:"icon-document",type:"iframe"},{path:"https://www.xstnet.com",label:"åšå®¢ä¸»é¡µ(å†…åµŒ)",icon:"icon-document",type:"iframe"}]},{path:"/document",label:"æ–‡æ¡£",icon:"icon-document",children:[{path:"/document/start",label:"å¼€å§‹ä½¿ç”¨",icon:"icon-document"},{path:"/document/package.json",label:"Packageæ–‡ä»¶è¯´æ˜",icon:"icon-document"}]},{type:"divider"},{path:"/user/center",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-user-permissions",children:[{path:"/user/center/index",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-example"},{path:"/user/center/update",label:"ä¿®æ”¹ä¿¡æ¯",icon:"icon-document"}]}];function Ge(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function ie(t){return de(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function Me(t){return typeof t.path=="string"&&typeof t.label=="string"}function de(t){return typeof t.type<"u"&&t.type==="group"}function qt(t){return typeof t.type<"u"&&t.type==="divider"}const Vt=void 0,X=c.createContext(Vt),jt=({children:t})=>{let n=0;const r=c.useMemo(()=>Fe,[Fe]),[a,l]=c.useState(r),[o,u]=c.useState(!1),{mapPathToMenu:i,mapKeyToMenu:m,processedMenuList:d}=c.useMemo(()=>(()=>{const k=new Map,v=new Map,y=P=>(P.key||(P.key=String(++n)),{...P}),I=P=>P.map(f=>{const b=y(f);return(ie(b)||de(b))&&(b.children=I(b.children||[])),Me(b)&&v.set(b.path,b),b!=null&&b.key&&k.set(b.key,b),b});return{processedMenuList:I(a),mapKeyToMenu:k,mapPathToMenu:v}})(),[a]),p=c.useMemo(()=>({menuList:d,setMenuList:l,menuCollapsed:o,setMenuCollapsed:u,mapPathToMenu:i,mapKeyToMenu:m}),[a,o]);return e(X.Provider,{value:p,children:t})},O={pageTitle:"åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿",pageTitlePrefix:"åå°ç®¡ç†",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/react-admin-template/api",iconFontUrl:"//at.alicdn.com/t/c/font_3917407_mbe0msm5zy9.js"};function zt(t,n){localStorage.setItem(t,typeof n=="object"?JSON.stringify(n):n)}function Et(t){localStorage.setItem(O.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function Qe(t){return localStorage.getItem(t)}function Wt(t){const n=localStorage.getItem(t);if(n!==null)return Number(n)}function Jt(t){const n=localStorage.getItem(t);if(n!==null)return n==="true"}function Gt(t){const n=localStorage.getItem(t);if(n!==null)return JSON.parse(n)}function Qt(t){return Qe(t)!==null}function Xt(t){localStorage.removeItem(t)}function Zt(){localStorage.removeItem(O.tokenKey)}function en(){localStorage.clear()}const w={set:zt,setToken:Et,has:Qt,getString:Qe,getObject:Gt,getBoolean:Jt,getNumber:Wt,remove:Xt,removeToken:Zt,clear:en},Xe=()=>{const[t,n]=c.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return c.useEffect(()=>{const a=l=>{console.log("chage",l.matches),l.matches?n(!0):n(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",a)}},[]),[t?"dark":"light"]},tn=void 0,nn=c.createContext(tn),rn=({children:t})=>{const{settings:{primaryColor:n,theme:r,compactMode:a,followSystemTheme:l}}=c.useContext(V),[o]=Xe(),u={},i=()=>{const m=[];return l?m.push(o==="light"?H.defaultAlgorithm:H.darkAlgorithm):m.push(r==="light"?H.defaultAlgorithm:H.darkAlgorithm),console.log("algorighm",r,m),a&&m.push(H.compactAlgorithm),m};return e(nn.Provider,{value:u,children:e(He,{locale:at,theme:{algorithm:i(),token:{colorPrimary:n},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},an=void 0,V=c.createContext(an),on=({children:t})=>{const n=c.useMemo(()=>{const u=w.getObject("settings")||{};return console.log("settingsCache",u),{theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,primaryColor:"#00b96b",...u}},[]),[r,a]=c.useState(n),l=c.useCallback(u=>{const i={...r,...u};a(i),w.set("settings",i)},[r]),o={settings:r,setSetting:l};return e(V.Provider,{value:o,children:e(rn,{children:t})})},ln=void 0,ue=c.createContext(ln),sn=({children:t})=>{const[n,r]=c.useState(!1),[a,{toggleFullscreen:l}]=ot(document.body),[o,u]=c.useState(null),i=c.useMemo(()=>({isLogin:n,setIsLogin:r,userInfo:o,setUserInfo:u,fullScreen:a,setFullScreen:l}),[n,o,a]);return e(ue.Provider,{value:i,children:e(on,{children:e(jt,{children:t})})})},U=lt({scriptUrl:O.iconFontUrl,extraCommonProps:{}}),Pe="/iframe",Ze=t=>`${Pe}?url=${t}`,cn=()=>{var k;const t=E(),n=ve(),{menuList:r,mapKeyToMenu:a,mapPathToMenu:l}=c.useContext(X);let o=((k=l.get("/dashboard"))==null?void 0:k.key)||"",u=[],i=!1;const{pathname:m}=n,[d]=se(),p=v=>{const y=a.get(v.key);if(console.log("mapKeyToMenu",a),console.log("clicked menu",v,y),!y){console.warn("æœªè·å–åˆ°èœå•ä¿¡æ¯");return}if(y.path!==m){if((y==null?void 0:y.type)==="url"){window.open(y.path,"_blank");return}if(document.title=`${O.pageTitlePrefix} - ${y.label}`,(y==null?void 0:y.type)==="iframe"){console.log("æ‰“å¼€iframeé¡µé¢"),t(Ze(y.path));return}t(y.path)}},g=c.useMemo(()=>{const v=I=>I.badge?I.badge==="dot"?e(pe,{className:"menu-item-badge",offset:[6,0],dot:!0,children:I.label}):e(pe,{className:"menu-item-badge",offset:[15,0],count:I.badge,children:I.label}):I.label,y=(I,C)=>{const P=[];return!i&&C&&u.push(C.key),I.map(f=>{var Ne;if(Me(f)&&(f.parent&&m.indexOf(f.path)===0&&(o=((Ne=l.get(f.parent))==null?void 0:Ne.key)||"",i=!0),f.type==="iframe"&&(d.get("url")||"")===f.path&&(i=!0,o=f.key),f.hideInMenu))return;let b;if(qt(f))b={...f};else if(de(f))b={...f},f.children&&f.children.length>0&&(b.children=y(f.children));else if(ie(f)||Ge(f)){let{icon:J}=f;typeof J=="string"&&J.includes("icon-")&&(J=e(U,{type:J})),b={key:"",...f,icon:J,label:v(f),children:ie(f)?y(f.children,f):void 0},!i&&f.path===m&&(o=f.key,i=!0)}b&&(b.key=b.key,P.push(b))}),!i&&u.pop(),P};return y(r)},[r]);return e(it,{style:{height:"100%"},onClick:p,mode:"inline",defaultSelectedKeys:[o],items:g,defaultOpenKeys:u})},dn=ee.memo(cn),me=()=>{const{token:t}=H.useToken();return t},un=()=>{const{menuCollapsed:t}=c.useContext(X),{colorBgContainer:n}=me();return e(z.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(dn,{})})};var fe=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(fe||{}),et=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(et||{}),B=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(B||{}),Te=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(Te||{});function tt(){}function Q(t,n){return Math.floor(Math.random()*(n-t+1))+t}const mn=10*1e3;q.defaults.baseURL=O.apiBaseUrl;q.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";q.defaults.timeout=mn;q.interceptors.request.use(t=>(console.group(`${t.method}${t.url}${JSON.stringify(t.params)}`),t.headers.Authorization=`Bearer ${w.getString(O.tokenKey)}`,t),t=>Promise.reject(t));q.interceptors.response.use(t=>{const n=t.data;return typeof n.code!="number"?(R.error("ç³»ç»Ÿé”™è¯¯",2),console.warn("apiè°ƒç”¨å¤±è´¥, æœªæ­£å¸¸è¿”å›æ•°æ®, url:",t.config.url,"data:",n,"response:",t),console.groupEnd(),Promise.reject(t)):(console.log("Request log: ",t.config.url,t.data,t),console.groupEnd(),n.code===0?(t.config.method==="post"&&R.success(t.data.message),t):n.code===fe.noLogin?(R.error("æ‚¨è¿˜æ²¡æœ‰ç™»å½•, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢, è¯·ç¨å..."),w.remove(O.tokenKey),location.reload(),Promise.reject(n)):n.code===fe.loginExpired?(R.error("ç™»å½•å·²å¤±æ•ˆ, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢..."),w.remove(O.tokenKey),location.reload(),Promise.reject(n)):(R.error(n.message),Promise.reject(t)))},t=>(typeof t.message=="string"&&t.message==="Network Error"?R.error("ç½‘ç»œé”™è¯¯, è¯·ç¨åå†è¯•!"):R.error("è¯·æ±‚å¤±è´¥, è¯·ç¨åå†è¯•"),console.log("Request error",t),console.groupEnd(),Promise.reject(t)));const hn=(t,n,r)=>{const a=r||{};return a.params=n,q.get(t,a)},pn=(t,n,r)=>q.post(t,n,r),gn=t=>q.request(t),A={get:hn,post:pn,request:gn},F=t=>t.then(n=>Promise.resolve(n.data.data)).catch(n=>Promise.reject(n)),fn=t=>{const n=A.post("/login",t);return F(n)},yn=t=>F(A.get("/user/info",t)),bn=t=>F(A.post("/user/logout",t)),kn=(t,n)=>F(A.get("/user/list",{...t,...n})),vn=t=>F(A.post("/user/create",t)),Cn=t=>F(A.post("/user/update",t)),xn=t=>F(A.post("/user/delete",t)),Sn=(t,n)=>F(A.get("/article/list",{...t,...n})),In=t=>F(A.get("/article/detail",t)),Mn=t=>F(A.post("/article/create",t)),Pn=t=>F(A.post("/article/update",t)),Tn=t=>F(A.post("/article/delete",t)),Nn=()=>{const{fullScreen:t,setFullScreen:n}=c.useContext(ue),r=()=>{R.success(t?"å·²é€€å‡ºå…¨å±æ¨¡å¼":"è¿›å…¥å…¨å±æ¨¡å¼"),n(!t)};return t?e(st,{title:"é€€å‡ºå…¨å±æ¨¡å¼",className:"action-icon",onClick:r}):e(ct,{title:"è¿›å…¥å…¨å±æ¨¡å¼",className:"action-icon",onClick:r})},wn=()=>e(N.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/xstnet/react-admin-template",children:e(dt,{})}),Ln=()=>e($,{children:e(ce,{})}),An=t=>e(pe,{count:98,children:e(ut,{arrow:!1,content:e(Ln,{}),title:"é€šçŸ¥æé†’",placement:"bottomRight",trigger:"click",children:e(U,{title:"é€šçŸ¥æé†’",type:"icon-notify",className:"action-icon"})})}),Fn=()=>e(U,{title:"æœç´¢",type:"icon-search",className:"action-icon"}),Un=()=>{const{settings:{theme:t},setSetting:n}=c.useContext(V),r=()=>{n({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e(U,{onClick:r,title:"ä¸»é¢˜-æ·±è‰²æ¨¡å¼",type:"icon-theme-dark",className:"action-icon"}):e(U,{onClick:r,title:"ä¸»é¢˜-æ˜äº®æ¨¡å¼",type:"icon-theme-light",className:"action-icon"})};const $n=t=>{const n=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:r,presetColors:a=n,defaultSelectedColor:l=""}=t,{value:o=l}=t,[u,i]=c.useState(o),m=d=>{i(d),r==null||r(d)};return e("div",{className:"theme-color-wrap",children:a.map(d=>e("div",{onClick:()=>m(d),className:"theme-color-item",style:{backgroundColor:d},title:d,children:u===d&&e(mt,{className:"checked-icon"})},d))})},On=t=>{const{open:n,onClose:r=tt}=t,{settings:a,setSetting:l}=c.useContext(V),[o]=h.useForm(),[u]=Xe(),i=c.useMemo(()=>({...a,theme:a.followSystemTheme?"followSystem":a.theme}),[a]),m=(d,p)=>{const g={...d},{theme:k,fixedMenu:v,fixedHeader:y}=g;k&&(console.log("themeee",k),g.followSystemTheme=!1,k==="followSystem"&&(g.followSystemTheme=!0,g.theme=u)),v&&(g.fixedHeader=!0),y===!1&&(g.fixedMenu=!1),l(g),console.log("chage",d,p)};return ht(()=>{o==null||o.setFieldsValue(i)},[i]),e(pt,{title:"åå¥½è®¾ç½®",onClose:r,open:n,children:s(h,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...i},autoComplete:"off",onValuesChange:m,form:o,children:[e(h.Item,{label:"å¤–è§‚",name:"theme",children:s(j.Group,{buttonStyle:"solid",children:[s(j.Button,{value:"light",children:[e(U,{type:"icon-theme-light"})," æµ…è‰²"]}),s(j.Button,{value:"dark",children:[e(U,{type:"icon-theme-dark"})," æ·±è‰²"]}),s(j.Button,{value:"followSystem",children:[e(U,{type:"icon-followSystem"})," è·Ÿéšç³»ç»Ÿ"]})]})}),e(h.Item,{label:"ç´§å‡‘æ¨¡å¼",valuePropName:"checked",name:"compactMode",children:e(ne,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(h.Item,{label:"ä¸»é¢˜è‰²",name:"primaryColor",children:e($n,{defaultSelectedColor:a.primaryColor})}),e(ce,{children:"å¸ƒå±€"}),e(h.Item,{label:"å›ºå®šå¤´éƒ¨",valuePropName:"checked",name:"fixedHeader",children:e(ne,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(h.Item,{help:"å›ºå®šèœå•å¯ç”¨æ—¶, å¤´éƒ¨ä¹Ÿä¼šåŒæ­¥å›ºå®š",label:"å›ºå®šèœå•",valuePropName:"checked",name:"fixedMenu",children:e(ne,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(h.Item,{valuePropName:"checked",label:"æ˜¾ç¤ºé¡µè„š",name:"showFooter",children:e(ne,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})})]})})},Dn=t=>{const[n,r]=c.useState(!1);return s("div",{children:[e(On,{open:n,onClose:()=>{r(!1)}}),e(U,{onClick:()=>{r(!0)},title:"è®¾ç½®",type:"icon-setting",className:"action-icon"})]})},Rn=()=>{const{userInfo:t,setUserInfo:n,setIsLogin:r}=c.useContext(ue),{menuCollapsed:a,setMenuCollapsed:l}=c.useContext(X),{token:{colorBgContainer:o}}=H.useToken(),u=E(),i=()=>s("div",{className:"left",children:[s("div",{className:"logo",children:[e(U,{type:"icon-react",className:"logo-img"}),e("span",{className:"logo-text",children:"React Admin Template"})]}),e("div",{children:ee.createElement(a?gt:ft,{onClick:()=>l(!a)})})]}),m=()=>{const d=()=>s($,{children:[e(Fn,{}),e(An,{}),e(Nn,{}),e(wn,{}),e(Un,{}),e(Dn,{})]}),p=[{label:e("a",{children:"ä¸ªäººä¸­å¿ƒ"}),icon:e(bt,{}),key:"userCenter"},{label:e("a",{children:"ä¿®æ”¹èµ„æ–™"}),key:"update",icon:e(Ce,{})},{type:"divider"},{label:"é€€å‡º",icon:e(kt,{}),key:"logout",onClick:()=>{bn().then(()=>{w.removeToken(),r(!1),n(null),u("/login")})}}];return e("div",{className:"right",children:s(L,{size:"middle",children:[d(),e(yt,{menu:{items:p},children:s(L,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e(Ke,{src:t==null?void 0:t.avatar})]})})]})})};return e(z.Header,{className:"header",style:{background:o},children:s($,{children:[i(),m()]})})},Bn=ee.memo(Rn),Hn=()=>{const t=[{title:"æ˜µç§°",dataIndex:"nickname",key:"nickname"},{title:"ç™»å½•IP",dataIndex:"loginIp",key:"loginIp"},{title:"ç™»å½•æ—¶é—´",dataIndex:"create_time",key:"create_time"}],n=Array(5).fill({id:Q(10,1e5),userId:1,loginIp:"127.0.0.1",nickname:"admin",create_time:Z().format(Te.second)});return e(K,{title:"ç™»å½•å†å²",extra:e(G,{to:"/",children:"æŸ¥çœ‹æ›´å¤š"}),children:e(xe,{rowKey:()=>Q(10,1e5),pagination:!1,size:"small",columns:t,dataSource:n})})},Kn=N.Text,oe=()=>Z().format(Te.second),_n=()=>{const[t,n]=c.useState(0),{colorError:r}=me(),[a,l]=c.useState([{id:Q(100,1e9),name:"å¤štabå¸ƒå±€æ”¯æŒ",status:B.incomplete,create_time:oe(),update_time:oe()},{id:1,name:"è¿™æ˜¯ä¸€ä¸ªtodoä¾‹å­",status:B.completed,create_time:oe(),update_time:oe()}]),[o,u]=c.useState(""),i=()=>{o&&(l([{name:o,status:B.incomplete,id:Q(100,1e9),create_time:Z().format("YYYY-MM-DD HH:MM:SS"),update_time:Z().format("YYYY-MM-DD HH:MM:SS")},...a]),u(""))},m=(g,k)=>{l(a.map(v=>v.id!==g?v:{...v,status:k?B.completed:B.incomplete}))},d=(g,k)=>{console.log("iii",g,k),l(a.map(v=>v.id!==g?v:{...v,name:k}))},p=g=>{l(a.filter(k=>k.id!==g))};return e(K,{title:"å¾…åŠäº‹é¡¹",children:s(L,{direction:"vertical",style:{width:"100%"},children:[s(L.Compact,{style:{width:"100%",marginBottom:"16px"},children:[e(S,{value:o,onChange:g=>u(g.target.value),placeholder:"æ·»åŠ æ–°äº‹é¡¹",onPressEnter:i}),e(M,{onClick:i,type:"primary",icon:e(te,{})})]}),a.map(({id:g,status:k,name:v})=>{const y=k===B.completed,I=t===g&&k===B.incomplete;return e(_e,{onChange:({target:{checked:C}})=>m(g,C),checked:y,children:e(Kn,{type:y?"secondary":void 0,delete:y,onMouseEnter:()=>n(g),onMouseLeave:()=>n(0),editable:I?{onChange:C=>d(g,C)}:!1,children:s(L,{children:[v,I&&e(vt,{title:"åˆ é™¤",children:e(Se,{onClick:()=>p(g),style:{color:r}})})]})})},g)})]})})},Yn=()=>{const[t,n]=c.useState("pv"),r=[{tab:"è®¿é—®é‡",key:"pv"},{tab:"IP",key:"ip"}],a={pv:{stroke:"#8884d8",fill:"#b5b1e6"},ip:{stroke:"#00b96b",fill:"#82ca9d"}},l=Array.from({length:7}).map((o,u)=>({name:Z().subtract(u+1,"day").format("MM-DD"),pv:Q(1e3,1e4),ip:Q(100,1e3)})).reverse();return e(K,{activeTabKey:t,onTabChange:o=>n(o),tabList:r,children:e(Ye,{width:"100%",height:300,children:s(Ct,{data:l,children:[e(xt,{strokeDasharray:"3 3"}),e(St,{dataKey:"name"}),e(It,{}),e(qe,{wrapperStyle:{outline:"none"}}),e(Mt,{type:"monotone",strokeWidth:2,dataKey:t,stroke:a[t].stroke,fill:a[t].fill})]})})})},Ue=[{name:"è§†é¢‘ç±»",value:400},{name:"å›¾æ–‡ç±»",value:300},{name:"èµ„è®¯ç±»",value:300}],$e=()=>e($,{children:s("div",{children:[s(_,{gutter:24,children:[e(x,{span:6,children:e(K,{bordered:!1,children:e(re,{title:"ä»Šæ—¥é”€å”®é¢",value:126560,precision:2,prefix:"$"})})}),e(x,{span:6,children:e(K,{bordered:!1,children:e(re,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(he,{}),suffix:"%"})})}),e(x,{span:6,children:e(K,{bordered:!1,children:e(re,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(he,{}),suffix:"%"})})}),e(x,{span:6,children:e(K,{bordered:!1,children:e(re,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,valueStyle:{color:"#3f8600"},prefix:e(he,{}),suffix:"%"})})})]}),e("br",{}),s(_,{gutter:16,children:[e(x,{span:18,style:{height:300},children:e(Yn,{})}),e(x,{span:6,children:e(K,{title:"å†…å®¹å æ¯”",children:e(Ye,{width:"100%",height:300,children:s(Pt,{width:400,height:400,children:[e(Tt,{data:Ue,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:Ue.map((t,n)=>e(Nt,{fill:["#0088FE","#00C49F","#FFBB28"][n%3]},`cell-${n}`))}),e(qe,{wrapperStyle:{outline:"none"}})]})})})})]}),e("br",{}),s(_,{gutter:16,children:[e(x,{span:12,children:e(_n,{})}),e(x,{span:12,children:e(Hn,{})})]})]})}),Oe=()=>e("span",{children:"UserCenterPage"}),qn=()=>e("span",{children:"UserCenterUpdatePage"});const nt=c.forwardRef(({state:t},n)=>{const[r]=h.useForm(),a=c.useRef(null);return c.useImperativeHandle(n,()=>({form:r,input:a.current}),[r,a]),e("div",{children:s(h,{form:r,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(h.Item,{name:"username",label:"è´¦å·",rules:[{required:!0,message:"è¯·è¾“å…¥è´¦å·"}],children:e(S,{placeholder:"è¯·è¾“å…¥è´¦å·",ref:a})}),e(h.Item,{name:"password",label:"å¯†ç ",rules:[{required:!t,message:"è¯·è¾“å…¥å¯†ç "}],children:e(S.Password,{placeholder:t?"ä¸ä¿®æ”¹å¯†ç è¯·ç•™ç©º!":"è¯·è¾“å…¥å¯†ç "})}),e(h.Item,{name:"nickname",label:"æ˜µç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ˜µç§°"}],children:e(S,{placeholder:"è¯·è¾“å…¥æ˜µç§°"})}),e(h.Item,{name:"gender",label:"æ€§åˆ«",children:s(j.Group,{children:[e(j,{value:1,children:"ç”·"}),e(j,{value:2,children:"å¥³"})]})}),e(h.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(S,{placeholder:"è¯·è¾“å…¥æ‰‹æœºå·"})}),e(h.Item,{name:"email",label:"é‚®ç®±",children:e(S,{placeholder:"è¯·è¾“å…¥é‚®ç®±"})})]})})}),Vn=({refreshList:t})=>{const[n,r]=c.useState(!1),{run:a,loading:l}=Y(vn,{manual:!0,debounceWait:100,onSuccess:()=>{var i;r(!1),(i=o.current)==null||i.form.resetFields(),t==null||t()}}),o=c.useRef(null);return s("div",{children:[e(M,{type:"primary",icon:e(te,{}),onClick:()=>{r(!0),setTimeout(()=>{var i,m;(m=(i=o.current)==null?void 0:i.input)==null||m.focus()},100)},children:"æ–°å¢ç”¨æˆ·"}),e(Ve,{open:n,title:"æ·»åŠ ç”¨æˆ·",okText:"æ·»åŠ ",cancelText:"å–æ¶ˆ",confirmLoading:l,onCancel:()=>r(!1),onOk:()=>{var i;(i=o.current)==null||i.form.validateFields().then(m=>{a(m)}).catch(m=>console.log(m))},children:e(nt,{ref:o})})]})},jn=({search:t,form:n})=>e(h,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:s(_,{gutter:24,children:[e(x,{span:6,children:e(h.Item,{name:"username",label:"è´¦å·",children:e(S,{placeholder:"è´¦å·"})})}),e(x,{span:6,children:e(h.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(S,{placeholder:"æ‰‹æœºå·"})})}),e(x,{span:6,children:e(h.Item,{name:"email",label:"é‚®ç®±",children:e(S,{placeholder:"é‚®ç®±"})})}),s(x,{span:6,style:{textAlign:"right"},children:[e(M,{onClick:t.reset,children:"é‡ç½®"}),e(M,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})}),rt=(t,n)=>{const r=wt(t,n),{tableProps:a}=r,l={...a.pagination,showTotal:(i,m)=>`ç¬¬${m[0]}-${m[1]} æ¡/å…± ${i} æ¡`,hideOnSinglePage:!0};a.pagination=l;const o=a.onChange,u=(...i)=>{var I;let[m,d,p,g]=i,k=m,v,y;Object.keys(p).length>0&&(Array.isArray(p)?(y={},p.map(C=>{var P;y[(P=C.column)==null?void 0:P.dataIndex]=C.order})):y={[(I=p.column)==null?void 0:I.dataIndex]:p.order}),Object.keys(d).length>0&&(v=d,console.log("filterrrrrrrrrrrrr",d)),o(k,v,y)};return a.onChange=u,r.tableProps.size="small",r},zn=({state:t,refreshList:n})=>{const[r,a]=c.useState(!1),{runAsync:l,loading:o}=Y(Cn,{manual:!0,debounceWait:100}),u=c.useRef(null);return s($,{children:[e(M,{icon:e(Ce,{}),size:"small",onClick:()=>{a(!0),setTimeout(()=>{var m,d;(d=(m=u.current)==null?void 0:m.input)==null||d.focus()},100)},children:"ç¼–è¾‘"}),e(Ve,{open:r,title:"æ›´æ–°ç”¨æˆ·ä¿¡æ¯",okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",confirmLoading:o,onCancel:()=>a(!1),onOk:()=>{var m;(m=u.current)==null||m.form.validateFields().then(d=>{l({...d,id:t.id}).then(()=>{var p;a(!1),(p=u.current)==null||p.form.resetFields(),n==null||n()}).catch(tt)}).catch(d=>console.log(d))},children:e(nt,{ref:u,state:t})})]})};const D=t=>{const{children:n,className:r="",style:a={},...l}=t,{colorBgContainer:o}=me(),u="content-box",i={backgroundColor:o};return e("div",{className:`${u} ${r}`,style:{...i,...a},...l,children:n})},En=()=>{var I;console.log("render ExampleUserListPage");const[t]=h.useForm(),[n,r]=c.useState([]),a=c.useRef();c.useEffect(()=>{a.current=new Map},[]);const{runAsync:l,loading:o}=Y(xn,{manual:!0,debounceWait:100}),{refresh:u,tableProps:i,search:m}=rt(kn,{form:t}),d=()=>{m.reset(),m.submit()},p=C=>{var P;typeof C=="number"&&((P=a==null?void 0:a.current)==null||P.set(C,!0)),l({id:C}).then(()=>{typeof C=="object"&&r([]),u()}).finally(()=>{var f;return typeof C=="number"&&((f=a==null?void 0:a.current)==null?void 0:f.delete(C))})},g=c.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"è´¦å·",dataIndex:"username",render:(C,{avatar:P,username:f})=>s($,{children:[" ",e(Ke,{src:P})," ",f]})},{title:"æ˜µç§°",dataIndex:"nickname"},{title:"æ€§åˆ«",dataIndex:"gender",render:C=>C===et.male?e(we,{color:"blue",children:"ç”·"}):e(we,{color:"error",children:"å¥³"})},{title:"é‚®ç®±",dataIndex:"email"},{title:"æ‰‹æœºå·",dataIndex:"mobile",sorter:!0},{title:"æ³¨å†Œæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(C,P)=>{var b;const{id:f}=P;return s(L,{children:[e(ge,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>p(f),children:e(M,{loading:(b=a==null?void 0:a.current)==null?void 0:b.has(f),icon:e(Se,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(zn,{state:P,refreshList:u})]})}}],[]),v={selectedRowKeys:n,onChange:C=>{console.log("selectedRowKeys changed: ",C),r(C)}},y=n.length>0;return s($,{children:[s(D,{children:[e("div",{children:e(N.Title,{level:5,children:"æœç´¢"})}),e(jn,{search:m,form:t})]}),e("br",{}),s(D,{children:[s("div",{className:"table-header",children:[e("div",{className:"left",children:e(N.Title,{level:5,children:"ç”¨æˆ·åˆ—è¡¨"})}),e("div",{className:"right",children:s(L,{size:"middle",children:[e(ge,{title:`ç¡®å®šè¦åˆ é™¤è¿™${n.length}æ¡æ•°æ®å—?`,onConfirm:()=>p(n),children:e(M,{type:"primary",danger:!0,disabled:!y,loading:o&&((I=a.current)==null?void 0:I.size)===0,children:"æ‰¹é‡åˆ é™¤"})}),e(Vn,{refreshList:d}),e(M,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:u,icon:e(je,{})})]})})]}),e(xe,{rowKey:"id",rowSelection:v,columns:g,...i})]})]})},De=({title:t="ç©ºç™½é¡µ"})=>e(D,{style:{height:"500px"},children:e(N.Title,{level:4,children:t})}),Wn=({search:t,form:n})=>e(h,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:s(_,{gutter:24,children:[e(x,{span:6,children:e(h.Item,{name:"title",label:"ä¸»é¢˜",children:e(S,{placeholder:"æ ‡é¢˜"})})}),e(x,{span:6,children:e(h.Item,{name:"ahthor",label:"ä½œè€…",children:e(S,{placeholder:"ä½œè€…"})})}),e(x,{span:6,children:e(h.Item,{name:"create_time",label:"å‘å¸ƒæ—¶é—´",children:e(Lt.RangePicker,{})})}),s(x,{span:6,style:{textAlign:"right"},children:[e(M,{onClick:t.reset,children:"é‡ç½®"}),e(M,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})});const Re=()=>{console.log("render ArticleIndexPage");const[t]=h.useForm(),n=c.useRef();E(),c.useEffect(()=>{n.current=new Map},[]);const{runAsync:r}=Y(Tn,{manual:!0,debounceWait:100}),{refresh:a,tableProps:l,search:o}=rt(Sn,{form:t}),u=m=>{var d;(d=n==null?void 0:n.current)==null||d.set(m,!0),r({id:m}).then(a).finally(()=>{var p;return(p=n==null?void 0:n.current)==null?void 0:p.delete(m)})},i=c.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"å°é¢",dataIndex:"cover",render:m=>e(At,{width:80,height:45,style:{borderRadius:4},src:m})},{title:"æ ‡é¢˜",dataIndex:"title"},{title:"ç®€ä»‹",dataIndex:"description"},{title:"ä½œè€…",dataIndex:"author"},{title:"å‘å¸ƒæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(m,d)=>{var g;const{id:p}=d;return s(L,{children:[e(ge,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>u(p),children:e(M,{loading:(g=n==null?void 0:n.current)==null?void 0:g.has(p),icon:e(Se,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(G,{to:`/article/update/${p}`,children:e(M,{icon:e(Ce,{}),size:"small",children:"ç¼–è¾‘"})})]})}}],[]);return s($,{children:[s(D,{children:[e("div",{children:e(N.Title,{level:5,children:"æœç´¢"})}),e(Wn,{search:o,form:t})]}),e("br",{}),s(D,{children:[s("div",{className:"table-header",children:[e("div",{className:"left",children:e(N.Title,{level:5,children:"æ–‡ç« åˆ—è¡¨"})}),e("div",{className:"right",children:s(L,{size:"middle",children:[e(G,{to:"/article/create",children:e(M,{type:"primary",icon:e(te,{}),children:"å‘å¸ƒæ–‡ç« "})}),e(M,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:a,icon:e(je,{})})]})})]}),e(xe,{rowKey:"id",columns:i,...l})]})]})},Jn=()=>{const[t]=h.useForm(),n=E(),r="articleDraft",{loading:a,run:l}=Y(Mn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{w.remove(r),n("/article/list")},200)}),o=w.getObject(r)||{},u=async()=>{const d=await t.validateFields();l(d)},i=()=>{const{cover:d,...p}=t.getFieldsValue();w.set(r,p),R.success("å·²ä¿å­˜åˆ°è‰ç¨¿ç®±")},m=d=>(console.log("Upload event:",d),Array.isArray(d)?d:d&&d.fileList);return s(D,{children:[e(N.Title,{level:3,children:"å‘å¸ƒæ–‡ç« "}),e(ce,{}),e(h,{form:t,name:"createForm",labelCol:{span:3},initialValues:o,children:s(_,{gutter:36,children:[s(x,{span:16,children:[e(h.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(S,{})}),e(h.Item,{label:"ç®€ä»‹",name:"description",children:e(S,{})}),e(h.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(S.TextArea,{rows:20})}),e(h.Item,{wrapperCol:{offset:3},children:s(L,{children:[e(M,{icon:e(ze,{}),onClick:u,loading:a,type:"primary",children:"å‘å¸ƒæ–‡ç« "}),e(M,{icon:e(Ft,{}),onClick:i,children:"ä¿å­˜ä¸ºè‰ç¨¿"})]})})]}),s(x,{span:8,children:[e(h.Item,{label:"å°é¢",name:"cover",getValueFromEvent:m,valuePropName:"fileList",children:e(Ee,{maxCount:1,listType:"picture-card",children:s("div",{children:[e(te,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(h.Item,{label:"æ ‡ç­¾",name:"tags",children:e(We,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(h.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(S,{})})]})]})})]})},Gn=()=>{const[t]=h.useForm(),n=E(),r=Ut(),{loading:a,run:l}=Y(In,{manual:!0,debounceWait:10,onSuccess:d=>t.setFieldsValue(d)});c.useEffect(()=>{l({id:r.id})},[r.id]);const{loading:o,run:u}=Y(Pn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{n("/article/list")},200)}),i=async()=>{const d=await t.validateFields();u(d)},m=d=>(console.log("Upload event:",d),Array.isArray(d)?d:d&&d.fileList);return s(D,{children:[e(N.Title,{level:3,children:"æ›´æ–°æ–‡ç« "}),e(ce,{}),e(Ie,{spinning:a,children:e(h,{form:t,name:"createForm",labelCol:{span:3},children:s(_,{gutter:36,children:[s(x,{span:16,children:[e(h.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(S,{})}),e(h.Item,{label:"ç®€ä»‹",name:"description",children:e(S,{})}),e(h.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(S.TextArea,{rows:20})}),e(h.Item,{wrapperCol:{offset:3},children:e(L,{children:e(M,{icon:e(ze,{}),onClick:i,loading:o,type:"primary",children:"ä¿å­˜"})})})]}),s(x,{span:8,children:[e(h.Item,{label:"å°é¢",name:"cover",getValueFromEvent:m,valuePropName:"fileList",children:e(Ee,{maxCount:1,listType:"picture-card",children:s("div",{children:[e(te,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(h.Item,{label:"æ ‡ç­¾",name:"tags",children:e(We,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(h.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(S,{})})]})]})})})]})},Qn=()=>{const t=ve();return s(D,{style:{},children:[e(N.Title,{children:"404"}),e(N.Paragraph,{children:"é¡µé¢ä¸å­˜åœ¨"}),s(N.Paragraph,{children:["è·¯ç”±: ",t.pathname]}),e(G,{to:"/",children:"å›åˆ°é¦–é¡µ"})]})};const Xn=t=>{const{title:n="Iframe Page",name:r="internal-iframe"}=t,a=c.useRef(null),[l,o]=c.useState(!0),[u]=se();c.useEffect(()=>{o(!0)},[u]);const i=u.get("url"),m=()=>{o(!1)};return i?e($,{children:e(D,{style:{height:"100%",padding:0},children:e(Ie,{wrapperClassName:"iframeSpin",spinning:l,tip:"æ­£åœ¨åŠ è½½ç¬¬ä¸‰æ–¹é¡µé¢, è¯·ç¨å...",children:e("iframe",{ref:a,width:"100%",height:"100%",onLoad:m,title:n,name:r,src:i})})})}):e(D,{children:e($t,{message:"æ— æ•ˆçš„urlåœ°å€",type:"error"})})};function Zn(){return Ot([{path:"/",element:e($e,{})},{path:"/dashboard",element:e($e,{})},{path:"/user",children:[{index:!0,element:e(Oe,{})},{path:"/user/center/index",element:e(Oe,{})},{path:"/user/center/update",element:e(qn,{})}]},{path:"/example/userList",element:e(En,{})},{path:"/article",children:[{index:!0,element:e(Re,{})},{path:"/article/list",element:e(Re,{})},{path:"/article/create",element:e(Jn,{})},{path:"/article/update/:id",element:e(Gn,{})}]},{path:"/blank",element:e(De,{})},{path:Pe,element:e(Xn,{})},{path:"/multilevel/menu/2/3",element:e(De,{title:"ä¸‰çº§èœå•"})},{path:"*",element:e(Qn,{})}])}const er=()=>e(z.Content,{className:"content",children:e(Zn,{})}),tr=ee.memo(er);const le=new Map,ye=t=>{t.map(n=>{Me(n)&&(n==null?void 0:n.type)==="url"||(de(n)&&ye(n.children||[]),(ie(n)||Ge(n))&&(n.path&&le.set(n.path,n.label),n.children&&ye(n.children||[])))})},nr=()=>{const{menuList:t}=c.useContext(X),n=c.useMemo(()=>(le.clear(),ye(t),le),[t]),r=ve(),[a]=se(),l=()=>{if(r.pathname===Pe){const i=a.get("url");if(i&&le.has(i))return[e(ae.Item,{children:e(G,{style:{color:"inherit"},to:Ze(i),children:n.get(i)})},i)]}return[]},o=c.useMemo(()=>{const i=r.pathname.split("/").filter(m=>m);return i.map((m,d)=>{const p=`/${i.slice(0,d+1).join("/")}`;return n.has(p)?e(ae.Item,{children:d===i.length-1?e(G,{style:{color:"inherit"},to:p,children:n.get(p)}):n.get(p)},p):null})},[r]),u=[e(ae.Item,{children:e(Dt,{})},"home"),...o,...l()];return e(ae,{className:"breadcrumb",children:u})},rr=ee.memo(nr);function ar(t){const n=t.split(".")[1];if(n)try{return JSON.parse(Rt(n))}catch(r){console.warn("Parse Token Error: ",r);return}}function be(){var r;const t=w.getString(O.tokenKey);if(!t)return!1;const n=ar(t);return n!==void 0&&((r=n==null?void 0:n.data)==null?void 0:r.uid)>0&&n.exp>new Date().getTime()/1e3}const or=({loading:t,title:n})=>{const{settings:{theme:r}}=c.useContext(V);return e(Ie,{size:"large",spinning:t,tip:n,wrapperClassName:`page-loading-spin-${r}`,children:e("div",{style:{height:"100vh",width:"100vw"}})})};const lr=()=>{const[t,n]=Je.useNotification(),r=w.getBoolean("dontShowCompactModeNotify"),{setSetting:a,settings:{compactMode:l}}=c.useContext(V),o=()=>{const u=`open${Date.now()}`,i=s(L,{children:[e(M,{type:"link",size:"small",onClick:()=>t.destroy(),children:"ä¸å†æç¤º"}),e(M,{type:"primary",size:"small",onClick:()=>{a({compactMode:!0}),t.destroy(u)},children:"å¼€å¯"})]});t.info({message:"å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼",description:"æ£€æµ‹åˆ°æ‚¨çš„å±å¹•å°ºå¯¸è¿‡å°, æ˜¯å¦å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼? æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯",btn:i,key:u,onClose:()=>w.set("dontShowCompactModeNotify",!0)})};return c.useEffect(()=>{!r&&!l&&window.innerWidth<=1440&&o()},[]),n},ir=()=>{const{settings:{showFooter:t}}=c.useContext(V),{Text:n,Link:r}=N;return t?s(z.Footer,{style:{textAlign:"center",paddingBottom:4},children:[s(n,{type:"secondary",children:["React Admin Template",e(r,{href:"https://github.com/xstnet/react-admin-template",target:"_blank",style:{color:"inherit",marginLeft:5},children:e(Bt,{})})]}),e("br",{}),e(r,{href:"https://github.com/xstnet",target:"_blank",children:e(n,{type:"secondary",children:"é†‰ä¸¶æ˜¥é£"})}),e(n,{type:"secondary",children:"Â©2023 Created by Ant Design V5"})]}):null},sr=()=>{const[t,n]=c.useState(!0),{setIsLogin:r,setUserInfo:a}=c.useContext(ue),{menuCollapsed:l}=c.useContext(X),{colorBgContainer:o}=me(),{settings:{fixedMenu:u,fixedHeader:i,theme:m}}=c.useContext(V),d=E(),[p]=se();return console.log("default layout render..."),c.useEffect(()=>{if(!be()){d("/login");return}yn().then(g=>{if(n(!1),r(!0),a(g),p.has("ghpage")){const k=decodeURIComponent(p.get("ghpage"));d(k);return}}).catch(g=>{g instanceof Ht&&Je.error({message:"ç½‘ç»œé”™è¯¯",description:"è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥, æ— æ³•æ‰“å¼€é¡µé¢",duration:null,closeIcon:null})})},[]),be()?t?e(or,{title:"é¡µé¢åŠ è½½ä¸­",loading:t}):s(z,{"data-fixed-menu":u?1:0,"data-menu-collapsed":l?1:0,"data-fixed-header":i?1:0,style:{background:o},className:`default-layout theme-${m}`,children:[e(Bn,{}),s(z,{children:[e(un,{}),s(z,{className:"content-layout",children:[e(rr,{}),e(tr,{}),e(ir,{})]})]}),e(lr,{})]}):(d("/login"),null)};const cr=()=>{const t=E(),{loading:n,run:r}=Y(fn,{manual:!0,debounceWait:300,onSuccess:o=>{w.setToken(o.token),t("/dashboard")}});document.title=O.pageTitle;const a=o=>{r(o)};c.useEffect(()=>{be()&&t("/dashboard")},[]);const l={remember:!0,username:"admin",password:"123456"};return e($,{children:s(He,{theme:{algorithm:[H.defaultAlgorithm]},children:[e("div",{className:"bg-wrap"}),s(_,{className:"login-wrap",children:[e(x,{span:15,className:"login-banner"}),s(x,{span:9,className:"login-form-wrap",children:[e(N.Title,{style:{textAlign:"center"},children:"åå°ç®¡ç†ç³»ç»Ÿ"}),e("br",{}),s(h,{name:"loginForm",labelCol:{span:5},wrapperCol:{span:19},style:{maxWidth:600},initialValues:l,onFinish:a,autoComplete:"off",children:[e(h.Item,{label:"ç”¨æˆ·å",name:"username",rules:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å!"}],children:e(S,{placeholder:"admin"})}),e(h.Item,{label:"å¯†ç ",name:"password",rules:[{required:!0,message:"è¯·è¾“å…¥å¯†ç !"}],children:e(S.Password,{placeholder:"123456"})}),e(h.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:5},children:e(_e,{children:"è®°ä½æˆ‘"})}),e(h.Item,{wrapperCol:{offset:5,span:16},children:e(M,{loading:n,type:"primary",htmlType:"submit",children:"ç™»å½•"})})]})]})]})]})})};function dr(){return c.useEffect(()=>{},[]),e(sn,{children:e("div",{className:"App",children:s(Kt,{children:[e(Le,{element:e(cr,{}),path:"/login"}),e(Le,{path:"*",element:e(sr,{})})]})})})}function Be(t){const n=JSON.stringify({type:"JWT",alg:"HS256"}),r=Number((new Date().getTime()/1e3).toFixed(0)),a=JSON.stringify({iss:"github.com/xstnet",sub:"react-admin",iat:r,exp:r+86400*14,data:t}),l="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Ae(n)}.${Ae(a)}.${l}`}T.mock(/api\/login/,"post",({body:t})=>{const{username:n,password:r}=JSON.parse(t);return n==="admin"?r!=="123456"?{code:-1,message:"å¯†ç é”™è¯¯"}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Be({uid:1})}}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Be({uid:W.Random.natural(2,1e4)})}}});T.setup({timeout:100});T.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"é†‰ä¸¶æ˜¥é£",avatar:"https://www.xstnet.com/static/images/head.gif",password:"",gender:W.Random.natural(1,2),email:"shantongxu@qq.com",mobile:"133xxxx3333"}}));T.mock(/api\/user\/logout/,"post",t=>({code:0,message:"é€€å‡ºæˆåŠŸ"}));T.mock(/api\/user\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,username:"@first@last",nickname:"@cname",avatar:()=>W.Random.dataImage("200x200"),email:"@email",mobile:()=>T.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(a)});T.mock(/api\/user\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:W.Random.natural(100,9999)}}));T.mock(/api\/user\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/user\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));T.setup({timeout:100});T.mock(/api\/article\/detail/,"get",t=>(console.log("ğŸš€ ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"ä¸»é¢˜",description:"é†‰ä¸¶æ˜¥é£",author:"é†‰ä¸¶æ˜¥é£",tags:[1,2],content:"content",create_time:W.Random.datetime()}}));T.mock(/api\/article\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,author:"@first@last",title:()=>T.Random.ctitle(5,20),description:"@cname",cover:()=>W.Random.dataImage("480x270","å°é¢"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(a)});T.mock(/api\/article\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:W.Random.natural(100,9999)}}));T.mock(/api\/article\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/article\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));_t.createRoot(document.getElementById("root")).render(e(Yt,{basename:"/react-admin-template/",children:e(dr,{})}));
