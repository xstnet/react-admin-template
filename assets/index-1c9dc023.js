import{j as Ie,r as i,C as He,z as pt,t as H,u as gt,T as ze,d as oe,a as z,L as te,b as Te,c as w,S as P,I,B as v,P as le,e as je,D as Me,R as Ke,A as ft,f as bt,X as yt,Y as vt,g as Ve,h as kt,i as j,k as S,l as se,m as ye,n as Ct,o as xt,p as St,q as V,s as E,F as p,v as W,w as K,M as Ye,x as It,E as Pe,y as Ne,G as Fe,H as ve,U as qe,J as Tt,K as _,N as Mt,O as ne,Q as We,V as Pt,W as Ge,Z as Je,_ as Nt,$ as we,a0 as re,a1 as wt,a2 as he,a3 as Lt,a4 as At,a5 as Qe,a6 as $t,a7 as Ft,a8 as Ut,a9 as Y,aa as U,ab as Dt,ac as Ot,ad as Rt,ae as Bt,af as Et,ag as ee,ah as Xe,ai as Ze,aj as ke,ak as _t,al as Ht,am as et,an as zt,ao as ae,ap as jt,aq as Kt,ar as Vt,as as Yt,at as qt,au as ie,av as Wt,aw as Gt,ax as Jt,ay as Qt,az as Xt,aA as T,aB as J,aC as Ue,aD as Zt}from"./vendor-77e6c901.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const L=Ie.Fragment,e=Ie.jsx,d=Ie.jsxs,De=[{label:"æ§åˆ¶å°",type:"group",children:[{label:"æ§åˆ¶å°",icon:"icon-dashboard",path:"/dashboard"}]},{label:"ç¤ºä¾‹é¡µé¢",type:"group",children:[{label:"åˆ—è¡¨é¡µ",icon:"icon-list",path:"/example/userList"},{label:"å¤šçº§èœå•",icon:"icon-list",path:"/multilevel/menu",children:[{label:"äºŒçº§èœå•",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"ä¸‰çº§èœå•",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"Tabsæ ‡ç­¾é¡µ",icon:"icon-list",path:"/example/tabs",children:[{label:"æ ‡ç­¾ç®¡ç†",icon:"icon-list",path:"/example/tabs/manage"}]},{label:"ç©ºç™½é¡µ",icon:"icon-example",path:"/blank"},{label:"404",icon:"icon-example",path:"/404"}]},{label:"å¾½æ ‡ç¤ºä¾‹",type:"group",children:[{label:"çº¢ç‚¹å¾½æ ‡",icon:"icon-list",badge:"dot",path:"/badge/dot"},{label:"æ•°å­—å¾½æ ‡",icon:"icon-example",badge:98,path:"/badge/count"}]},{type:"divider"},{path:"/article",label:"æ–‡ç« ç®¡ç†",icon:"icon-article",children:[{path:"/article/list",label:"æ–‡ç« åˆ—è¡¨",icon:"icon-article"},{path:"/article/create",label:"å‘å¸ƒæ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"æ›´æ–°æ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"åˆ†ç±»ç®¡ç†",icon:"icon-list"}]},{path:"/iframe",label:"å¤–éƒ¨é¡µé¢",icon:"icon-href",children:[{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å¤–é“¾)",icon:"icon-document",key:"webpage-antd-document",type:"url"},{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å†…åµŒ)",icon:"icon-document",type:"iframe"},{path:"https://www.xstnet.com",label:"åšå®¢ä¸»é¡µ(å†…åµŒ)",icon:"icon-document",type:"iframe"}]},{path:"/document",label:"æ–‡æ¡£",icon:"icon-document",children:[{path:"/document/start",label:"å¼€å§‹ä½¿ç”¨",icon:"icon-document"},{path:"/document/package.json",label:"Packageæ–‡ä»¶è¯´æ˜",icon:"icon-document"}]},{type:"divider"},{path:"/user/center",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-user-permissions",children:[{path:"/user/center/index",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-example"},{path:"/user/center/update",label:"ä¿®æ”¹ä¿¡æ¯",icon:"icon-document"}]}];function tt(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function ue(t){return pe(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function me(t){return typeof t.path=="string"&&typeof t.label=="string"}function pe(t){return typeof t.type<"u"&&t.type==="group"}function en(t){return typeof t.type<"u"&&t.type==="divider"}const tn=void 0,Q=i.createContext(tn),nn=({children:t})=>{const n=i.useMemo(()=>De,[De]),[r,a]=i.useState(n),[o,s]=i.useState(!1),{mapPathToMenu:u,processedMenuList:l}=i.useMemo(()=>(()=>{const g=new Map,f=h=>(me(h)&&(h.key=(h==null?void 0:h.key)||h.path),{...h}),k=h=>h.map(C=>{const b=f(C);return(ue(b)||pe(b))&&(b.children=k(b.children||[])),me(b)&&g.set(b.path,b),b});return{processedMenuList:k(r),mapPathToMenu:g}})(),[r]),c=i.useMemo(()=>({menuList:l,setMenuList:a,menuCollapsed:o,setMenuCollapsed:s,mapPathToMenu:u}),[r,o]);return e(Q.Provider,{value:c,children:t})},O={pageTitle:"åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿",pageTitlePrefix:"åå°ç®¡ç†",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/react-admin-template/api",iconFontUrl:"//at.alicdn.com/t/c/font_3917407_68ll5mr3jkf.js"};function rn(t,n){localStorage.setItem(t,typeof n=="object"?JSON.stringify(n):n)}function an(t){localStorage.setItem(O.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function nt(t){return localStorage.getItem(t)}function on(t){const n=localStorage.getItem(t);if(n!==null)return Number(n)}function ln(t){const n=localStorage.getItem(t);if(n!==null)return n==="true"}function sn(t){const n=localStorage.getItem(t);if(n!==null)return JSON.parse(n)}function cn(t){return nt(t)!==null}function dn(t){localStorage.removeItem(t)}function un(){localStorage.removeItem(O.tokenKey)}function mn(){localStorage.clear()}const N={set:rn,setToken:an,has:cn,getString:nt,getObject:sn,getBoolean:ln,getNumber:on,remove:dn,removeToken:un,clear:mn},rt=()=>{const[t,n]=i.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return i.useEffect(()=>{const a=o=>{console.log("chage",o.matches),o.matches?n(!0):n(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",a)}},[]),[t?"dark":"light"]},hn=void 0,pn=i.createContext(hn),gn=({children:t})=>{const{settings:{primaryColor:n,theme:r,compactMode:a,followSystemTheme:o}}=i.useContext(q),[s]=rt(),u={},l=()=>{const c=[];return o?c.push(s==="light"?H.defaultAlgorithm:H.darkAlgorithm):c.push(r==="light"?H.defaultAlgorithm:H.darkAlgorithm),console.log("algorighm",r,c),a&&c.push(H.compactAlgorithm),c};return e(pn.Provider,{value:u,children:e(He,{locale:pt,theme:{algorithm:l(),token:{colorPrimary:n},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},fn=void 0,q=i.createContext(fn),bn=({children:t})=>{const n=i.useMemo(()=>{const u=N.getObject("settings")||{};return console.log("settingsCache",u),{theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#00b96b",...u}},[]),[r,a]=i.useState(n),o=i.useCallback(u=>{const l={...r,...u};a(l),N.set("settings",l)},[r]),s={settings:r,setSetting:o};return e(q.Provider,{value:s,children:e(gn,{children:t})})},yn=void 0,ge=i.createContext(yn),vn=({children:t})=>{const[n,r]=i.useState(!1),[a,{toggleFullscreen:o}]=gt(document.body),[s,u]=i.useState(null),l=i.useMemo(()=>({isLogin:n,setIsLogin:r,userInfo:s,setUserInfo:u,fullScreen:a,setFullScreen:o}),[n,s,a]);return e(ge.Provider,{value:l,children:e(bn,{children:e(nn,{children:t})})})},kn=[[2,1,"åˆšåˆš"],[60,1,"%dç§’å‰"],[3600,60,"%dåˆ†é’Ÿå‰"],[86400,3600,"%då°æ—¶å‰"],[86400*30,3600*24,"%då¤©å‰"],[86400*30*12,3600*24*30,"%dæœˆå‰"],[1/0,3600*24*30*12,"%då¹´å‰"]],Cn=[[-60,1,"%dç§’å"],[-3600,60,"%dåˆ†é’Ÿå"],[-86400,3600,"%då°æ—¶å"],[-(86400*30),3600*24,"%då¤©å"],[-(86400*30*12),3600*24*30,"%dæœˆå"],[-1/0,3600*24*30*12,"%då¹´å"]],at=({time:t,...n})=>{const r=Math.floor(new Date().getTime()/1e3),a=Math.floor(new Date(t).getTime()/1e3),o=r-a;if(isNaN(a))return e(L,{children:"time"});const s=o<-1?Cn:kn;let u="";for(const[l,c,m]of s)if(Math.abs(o)<Math.abs(l)){const g=Math.floor(Math.abs(o)/c);u=m.replace("%d",String(g));break}return e(ze,{title:t,children:e("span",{...n,children:u})})};var Ce=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(Ce||{}),ot=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(ot||{}),B=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(B||{}),Le=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(Le||{});function lt(){}function G(t,n){return Math.floor(Math.random()*(n-t+1))+t}const xn=()=>{const t=[{title:"æ˜µç§°",dataIndex:"nickname",key:"nickname"},{title:"ç™»å½•IP",dataIndex:"loginIp",key:"loginIp"},{title:"ç™»å½•æ—¶é—´",dataIndex:"create_time",key:"create_time",render:r=>e(at,{time:r})}],n=Array(5).fill({id:G(10,1e5),userId:1,loginIp:"127.0.0.1",nickname:"admin",create_time:oe().subtract(3,"second").format(Le.second)});return e(z,{title:"ç™»å½•å†å²",extra:e(te,{to:"/",children:"æŸ¥çœ‹æ›´å¤š"}),children:e(Te,{rowKey:()=>G(10,1e5),pagination:!1,size:"small",columns:t,dataSource:n})})},fe=()=>{const{token:t}=H.useToken();return t},Sn=w.Text,Z=()=>oe().format(Le.second),In=()=>{const[t,n]=i.useState(0),{colorError:r}=fe(),[a,o]=i.useState([{id:G(100,1e9),name:"å…¨å±€æœç´¢",status:B.incomplete,create_time:Z(),update_time:Z()},{id:G(100,1e9),name:"å¤štabå¸ƒå±€æ”¯æŒ",status:B.completed,create_time:Z(),update_time:Z()},{id:1,name:"è¿™æ˜¯ä¸€ä¸ªtodoä¾‹å­",status:B.completed,create_time:Z(),update_time:Z()}]),[s,u]=i.useState(""),l=()=>{s&&(o([{name:s,status:B.incomplete,id:G(100,1e9),create_time:oe().format("YYYY-MM-DD HH:MM:SS"),update_time:oe().format("YYYY-MM-DD HH:MM:SS")},...a]),u(""))},c=(f,k)=>{o(a.map(x=>x.id!==f?x:{...x,status:k?B.completed:B.incomplete}))},m=(f,k)=>{console.log("iii",f,k),o(a.map(x=>x.id!==f?x:{...x,name:k}))},g=f=>{o(a.filter(k=>k.id!==f))};return e(z,{title:"å¾…åŠäº‹é¡¹",children:d(P,{direction:"vertical",style:{width:"100%"},children:[d(P.Compact,{style:{width:"100%",marginBottom:"16px"},children:[e(I,{value:s,onChange:f=>u(f.target.value),placeholder:"æ·»åŠ æ–°äº‹é¡¹",onPressEnter:l}),e(v,{onClick:l,type:"primary",icon:e(le,{})})]}),a.map(({id:f,status:k,name:x})=>{const h=k===B.completed,C=t===f&&k===B.incomplete;return e(je,{onChange:({target:{checked:b}})=>c(f,b),checked:h,children:e(Sn,{type:h?"secondary":void 0,delete:h,onMouseEnter:()=>n(f),onMouseLeave:()=>n(0),editable:C?{onChange:b=>m(f,b)}:!1,children:d(P,{children:[x,C&&e(ze,{title:"åˆ é™¤",children:e(Me,{onClick:()=>g(f),style:{color:r}})})]})})},f)})]})})},Tn=()=>{const[t,n]=i.useState("pv"),r=[{tab:"è®¿é—®é‡",key:"pv"},{tab:"IP",key:"ip"}],a={pv:{stroke:"#8884d8",fill:"#b5b1e6"},ip:{stroke:"#00b96b",fill:"#82ca9d"}},o=Array.from({length:7}).map((s,u)=>({name:oe().subtract(u+1,"day").format("MM-DD"),pv:G(1e3,1e4),ip:G(100,1e3)})).reverse();return e(z,{activeTabKey:t,onTabChange:s=>n(s),tabList:r,children:e(Ke,{width:"100%",height:300,children:d(ft,{data:o,children:[e(bt,{strokeDasharray:"3 3"}),e(yt,{dataKey:"name"}),e(vt,{}),e(Ve,{wrapperStyle:{outline:"none"}}),e(kt,{type:"monotone",strokeWidth:2,dataKey:t,stroke:a[t].stroke,fill:a[t].fill})]})})})},Oe=[{name:"è§†é¢‘ç±»",value:400},{name:"å›¾æ–‡ç±»",value:300},{name:"èµ„è®¯ç±»",value:300}],Re=()=>e(L,{children:d("div",{children:[d(j,{gutter:24,children:[e(S,{span:6,children:e(z,{bordered:!1,children:e(se,{title:"ä»Šæ—¥é”€å”®é¢",value:126560,precision:2,prefix:"$"})})}),e(S,{span:6,children:e(z,{bordered:!1,children:e(se,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(ye,{}),suffix:"%"})})}),e(S,{span:6,children:e(z,{bordered:!1,children:e(se,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(ye,{}),suffix:"%"})})}),e(S,{span:6,children:e(z,{bordered:!1,children:e(se,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,valueStyle:{color:"#3f8600"},prefix:e(ye,{}),suffix:"%"})})})]}),e("br",{}),d(j,{gutter:16,children:[e(S,{span:18,style:{height:300},children:e(Tn,{})}),e(S,{span:6,children:e(z,{title:"å†…å®¹å æ¯”",children:e(Ke,{width:"100%",height:300,children:d(Ct,{width:400,height:400,children:[e(xt,{data:Oe,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:Oe.map((t,n)=>e(St,{fill:["#0088FE","#00C49F","#FFBB28"][n%3]},`cell-${n}`))}),e(Ve,{wrapperStyle:{outline:"none"}})]})})})})]}),e("br",{}),d(j,{gutter:16,children:[e(S,{span:12,children:e(In,{})}),e(S,{span:12,children:e(xn,{})})]})]})}),Be=()=>e("span",{children:"UserCenterPage"}),Mn=()=>e("span",{children:"UserCenterUpdatePage"});function Pn(t){var r;const{config:n}=t;console.group(`${(r=n.method)==null?void 0:r.toLocaleUpperCase()} ${n.url}`),console.log("Path:",n.url),console.log("Method:",n.method),console.log("Params:",n.params),console.log("StatusCode:",t.status),console.log("Response:",typeof t.data=="object"?Object.assign(Object.create(null),t.data):t.data),console.groupEnd()}const Nn=10*1e3;V.defaults.baseURL=O.apiBaseUrl;V.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";V.defaults.timeout=Nn;V.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${N.getString(O.tokenKey)}`,t),t=>Promise.reject(t));V.interceptors.response.use(t=>{Pn(t);const n=t.data;return typeof n.code!="number"?(E.error("ç³»ç»Ÿé”™è¯¯",2),console.warn("apiè°ƒç”¨å¤±è´¥, æœªæ­£å¸¸è¿”å›æ•°æ®, url:",t.config.url,"data:",n,"response:",t),Promise.reject(t)):n.code===0?(t.config.method==="post"&&E.success(t.data.message),t):n.code===Ce.noLogin?(E.error("æ‚¨è¿˜æ²¡æœ‰ç™»å½•, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢, è¯·ç¨å..."),N.remove(O.tokenKey),location.reload(),Promise.reject(n)):n.code===Ce.loginExpired?(E.error("ç™»å½•å·²å¤±æ•ˆ, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢..."),N.remove(O.tokenKey),location.reload(),Promise.reject(n)):(E.error(n.message),Promise.reject(t))},t=>(typeof t.message=="string"&&t.message==="Network Error"?E.error("ç½‘ç»œé”™è¯¯, è¯·ç¨åå†è¯•!"):E.error("è¯·æ±‚å¤±è´¥, è¯·ç¨åå†è¯•"),console.log("Request error",t),console.groupEnd(),Promise.reject(t)));const wn=(t,n,r)=>{const a=r||{};return a.params=n,V.get(t,a)},Ln=(t,n,r)=>V.post(t,n,r),An=t=>V.request(t),A={get:wn,post:Ln,request:An},$=t=>t.then(n=>Promise.resolve(n.data.data)).catch(n=>Promise.reject(n)),$n=t=>{const n=A.post("/login",t);return $(n)},Fn=t=>$(A.get("/user/info",t)),Un=t=>$(A.post("/user/logout",t)),Dn=(t,n)=>$(A.get("/user/list",{...t,...n})),On=t=>$(A.post("/user/create",t)),Rn=t=>$(A.post("/user/update",t)),Bn=t=>$(A.post("/user/delete",t)),En=(t,n)=>$(A.get("/article/list",{...t,...n})),_n=t=>$(A.get("/article/detail",t)),Hn=t=>$(A.post("/article/create",t)),zn=t=>$(A.post("/article/update",t)),jn=t=>$(A.post("/article/delete",t));const st=i.forwardRef(({state:t},n)=>{const[r]=p.useForm(),a=i.useRef(null);return i.useImperativeHandle(n,()=>({form:r,input:a.current}),[r,a]),e("div",{children:d(p,{form:r,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(p.Item,{name:"username",label:"è´¦å·",rules:[{required:!0,message:"è¯·è¾“å…¥è´¦å·"}],children:e(I,{placeholder:"è¯·è¾“å…¥è´¦å·",ref:a})}),e(p.Item,{name:"password",label:"å¯†ç ",rules:[{required:!t,message:"è¯·è¾“å…¥å¯†ç "}],children:e(I.Password,{placeholder:t?"ä¸ä¿®æ”¹å¯†ç è¯·ç•™ç©º!":"è¯·è¾“å…¥å¯†ç "})}),e(p.Item,{name:"nickname",label:"æ˜µç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ˜µç§°"}],children:e(I,{placeholder:"è¯·è¾“å…¥æ˜µç§°"})}),e(p.Item,{name:"gender",label:"æ€§åˆ«",children:d(W.Group,{children:[e(W,{value:1,children:"ç”·"}),e(W,{value:2,children:"å¥³"})]})}),e(p.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(I,{placeholder:"è¯·è¾“å…¥æ‰‹æœºå·"})}),e(p.Item,{name:"email",label:"é‚®ç®±",children:e(I,{placeholder:"è¯·è¾“å…¥é‚®ç®±"})})]})})}),Kn=({refreshList:t})=>{const[n,r]=i.useState(!1),{run:a,loading:o}=K(On,{manual:!0,debounceWait:100,onSuccess:()=>{var l;r(!1),(l=s.current)==null||l.form.resetFields(),t==null||t()}}),s=i.useRef(null);return d("div",{children:[e(v,{type:"primary",icon:e(le,{}),onClick:()=>{r(!0),setTimeout(()=>{var l,c;(c=(l=s.current)==null?void 0:l.input)==null||c.focus()},100)},children:"æ–°å¢ç”¨æˆ·"}),e(Ye,{open:n,title:"æ·»åŠ ç”¨æˆ·",okText:"æ·»åŠ ",cancelText:"å–æ¶ˆ",confirmLoading:o,onCancel:()=>r(!1),onOk:()=>{var l;(l=s.current)==null||l.form.validateFields().then(c=>{a(c)}).catch(c=>console.log(c))},children:e(st,{ref:s})})]})},Vn=({search:t,form:n})=>e(p,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:d(j,{gutter:24,children:[e(S,{span:6,children:e(p.Item,{name:"username",label:"è´¦å·",children:e(I,{placeholder:"è´¦å·"})})}),e(S,{span:6,children:e(p.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(I,{placeholder:"æ‰‹æœºå·"})})}),e(S,{span:6,children:e(p.Item,{name:"email",label:"é‚®ç®±",children:e(I,{placeholder:"é‚®ç®±"})})}),d(S,{span:6,style:{textAlign:"right"},children:[e(v,{onClick:t.reset,children:"é‡ç½®"}),e(v,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})}),it=(t,n)=>{const r=It(t,n),{tableProps:a}=r,o={...a.pagination,showTotal:(l,c)=>`ç¬¬${c[0]}-${c[1]} æ¡/å…± ${l} æ¡`,hideOnSinglePage:!0};a.pagination=o;const s=a.onChange,u=(...l)=>{var C;let[c,m,g,f]=l,k=c,x,h;Object.keys(g).length>0&&(Array.isArray(g)?(h={},g.map(b=>{var M;h[(M=b.column)==null?void 0:M.dataIndex]=b.order})):h={[(C=g.column)==null?void 0:C.dataIndex]:g.order}),Object.keys(m).length>0&&(x=m,console.log("filterrrrrrrrrrrrr",m)),s(k,x,h)};return a.onChange=u,r.tableProps.size="small",r},Yn=({state:t,refreshList:n})=>{const[r,a]=i.useState(!1),{runAsync:o,loading:s}=K(Rn,{manual:!0,debounceWait:100}),u=i.useRef(null);return d(L,{children:[e(v,{icon:e(Pe,{}),size:"small",onClick:()=>{a(!0),setTimeout(()=>{var c,m;(m=(c=u.current)==null?void 0:c.input)==null||m.focus()},100)},children:"ç¼–è¾‘"}),e(Ye,{open:r,title:"æ›´æ–°ç”¨æˆ·ä¿¡æ¯",okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",confirmLoading:s,onCancel:()=>a(!1),onOk:()=>{var c;(c=u.current)==null||c.form.validateFields().then(m=>{o({...m,id:t.id}).then(()=>{var g;a(!1),(g=u.current)==null||g.form.resetFields(),n==null||n()}).catch(lt)}).catch(m=>console.log(m))},children:e(st,{ref:u,state:t})})]})};const R=t=>{const{children:n,className:r="",style:a={},...o}=t,{colorBgContainer:s}=fe(),u="content-box",l={backgroundColor:s};return e("div",{className:`${u} ${r}`,style:{...l,...a},...o,children:n})},qn=()=>{var C;console.log("render ExampleUserListPage");const[t]=p.useForm(),[n,r]=i.useState([]),a=i.useRef();i.useEffect(()=>{a.current=new Map},[]);const{runAsync:o,loading:s}=K(Bn,{manual:!0,debounceWait:100}),{refresh:u,tableProps:l,search:c}=it(Dn,{form:t}),m=()=>{c.reset(),c.submit()},g=b=>{var M;typeof b=="number"&&((M=a==null?void 0:a.current)==null||M.set(b,!0)),o({id:b}).then(()=>{typeof b=="object"&&r([]),u()}).finally(()=>{var y;return typeof b=="number"&&((y=a==null?void 0:a.current)==null?void 0:y.delete(b))})},f=i.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"è´¦å·",dataIndex:"username",render:(b,{avatar:M,username:y})=>d(L,{children:[" ",e(Ne,{src:M})," ",y]})},{title:"æ˜µç§°",dataIndex:"nickname"},{title:"æ€§åˆ«",dataIndex:"gender",render:b=>b===ot.male?e(Fe,{color:"blue",children:"ç”·"}):e(Fe,{color:"error",children:"å¥³"})},{title:"é‚®ç®±",dataIndex:"email"},{title:"æ‰‹æœºå·",dataIndex:"mobile",sorter:!0},{title:"æ³¨å†Œæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(b,M)=>{var F;const{id:y}=M;return d(P,{children:[e(ve,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>g(y),children:e(v,{loading:(F=a==null?void 0:a.current)==null?void 0:F.has(y),icon:e(Me,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(Yn,{state:M,refreshList:u})]})}}],[]),x={selectedRowKeys:n,onChange:b=>{console.log("selectedRowKeys changed: ",b),r(b)}},h=n.length>0;return d(L,{children:[d(R,{children:[e("div",{children:e(w.Title,{level:5,children:"æœç´¢"})}),e(Vn,{search:c,form:t})]}),e("br",{}),d(R,{children:[d("div",{className:"table-header",children:[e("div",{className:"left",children:e(w.Title,{level:5,children:"ç”¨æˆ·åˆ—è¡¨"})}),e("div",{className:"right",children:d(P,{size:"middle",children:[e(ve,{title:`ç¡®å®šè¦åˆ é™¤è¿™${n.length}æ¡æ•°æ®å—?`,onConfirm:()=>g(n),children:e(v,{type:"primary",danger:!0,disabled:!h,loading:s&&((C=a.current)==null?void 0:C.size)===0,children:"æ‰¹é‡åˆ é™¤"})}),e(Kn,{refreshList:m}),e(v,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:u,icon:e(qe,{})})]})})]}),e(Te,{rowKey:"id",rowSelection:x,columns:f,...l})]})]})},ce=({title:t="ç©ºç™½é¡µ"})=>{const[n,r]=i.useState(0);return d(R,{style:{height:"500px"},children:[e(w.Title,{level:4,children:t}),d(w.Text,{children:["Count: ",n]}),e("br",{}),e(v,{onClick:a=>r(o=>o+1),children:"add"})]})},Wn=({search:t,form:n})=>e(p,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:d(j,{gutter:24,children:[e(S,{span:6,children:e(p.Item,{name:"title",label:"ä¸»é¢˜",children:e(I,{placeholder:"æ ‡é¢˜"})})}),e(S,{span:6,children:e(p.Item,{name:"ahthor",label:"ä½œè€…",children:e(I,{placeholder:"ä½œè€…"})})}),e(S,{span:6,children:e(p.Item,{name:"create_time",label:"å‘å¸ƒæ—¶é—´",children:e(Tt.RangePicker,{})})}),d(S,{span:6,style:{textAlign:"right"},children:[e(v,{onClick:t.reset,children:"é‡ç½®"}),e(v,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})});const Ee=()=>{console.log("render ArticleIndexPage");const[t]=p.useForm(),n=i.useRef();_(),i.useEffect(()=>{n.current=new Map},[]);const{runAsync:r}=K(jn,{manual:!0,debounceWait:100}),{refresh:a,tableProps:o,search:s}=it(En,{form:t}),u=c=>{var m;(m=n==null?void 0:n.current)==null||m.set(c,!0),r({id:c}).then(a).finally(()=>{var g;return(g=n==null?void 0:n.current)==null?void 0:g.delete(c)})},l=i.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"å°é¢",dataIndex:"cover",render:c=>e(Mt,{width:80,height:45,style:{borderRadius:4},src:c})},{title:"æ ‡é¢˜",dataIndex:"title"},{title:"ç®€ä»‹",dataIndex:"description"},{title:"ä½œè€…",dataIndex:"author"},{title:"å‘å¸ƒæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(c,m)=>{var f;const{id:g}=m;return d(P,{children:[e(ve,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>u(g),children:e(v,{loading:(f=n==null?void 0:n.current)==null?void 0:f.has(g),icon:e(Me,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(te,{to:`/article/update/${g}`,children:e(v,{icon:e(Pe,{}),size:"small",children:"ç¼–è¾‘"})})]})}}],[]);return d(L,{children:[d(R,{children:[e("div",{children:e(w.Title,{level:5,children:"æœç´¢"})}),e(Wn,{search:s,form:t})]}),e("br",{}),d(R,{children:[d("div",{className:"table-header",children:[e("div",{className:"left",children:e(w.Title,{level:5,children:"æ–‡ç« åˆ—è¡¨"})}),e("div",{className:"right",children:d(P,{size:"middle",children:[e(te,{to:"/article/create",children:e(v,{type:"primary",icon:e(le,{}),children:"å‘å¸ƒæ–‡ç« "})}),e(v,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:a,icon:e(qe,{})})]})})]}),e(Te,{rowKey:"id",columns:l,...o})]})]})},Gn=()=>{const[t]=p.useForm(),n=_(),r="articleDraft",{loading:a,run:o}=K(Hn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{N.remove(r),n("/article/list")},200)}),s=N.getObject(r)||{},u=async()=>{const m=await t.validateFields();o(m)},l=()=>{const{cover:m,...g}=t.getFieldsValue();N.set(r,g),E.success("å·²ä¿å­˜åˆ°è‰ç¨¿ç®±")},c=m=>(console.log("Upload event:",m),Array.isArray(m)?m:m&&m.fileList);return d(R,{children:[e(w.Title,{level:3,children:"å‘å¸ƒæ–‡ç« "}),e(ne,{}),e(p,{form:t,name:"createForm",labelCol:{span:3},initialValues:s,children:d(j,{gutter:36,children:[d(S,{span:16,children:[e(p.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(I,{})}),e(p.Item,{label:"ç®€ä»‹",name:"description",children:e(I,{})}),e(p.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(I.TextArea,{rows:20})}),e(p.Item,{wrapperCol:{offset:3},children:d(P,{children:[e(v,{icon:e(We,{}),onClick:u,loading:a,type:"primary",children:"å‘å¸ƒæ–‡ç« "}),e(v,{icon:e(Pt,{}),onClick:l,children:"ä¿å­˜ä¸ºè‰ç¨¿"})]})})]}),d(S,{span:8,children:[e(p.Item,{label:"å°é¢",name:"cover",getValueFromEvent:c,valuePropName:"fileList",children:e(Ge,{maxCount:1,listType:"picture-card",children:d("div",{children:[e(le,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(p.Item,{label:"æ ‡ç­¾",name:"tags",children:e(Je,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(p.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(I,{})})]})]})})]})},Jn=()=>{const[t]=p.useForm(),n=_(),r=Nt(),{loading:a,run:o}=K(_n,{manual:!0,debounceWait:10,onSuccess:m=>t.setFieldsValue(m)});i.useEffect(()=>{o({id:r.id})},[r.id]);const{loading:s,run:u}=K(zn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{n("/article/list")},200)}),l=async()=>{const m=await t.validateFields();u(m)},c=m=>(console.log("Upload event:",m),Array.isArray(m)?m:m&&m.fileList);return d(R,{children:[e(w.Title,{level:3,children:"æ›´æ–°æ–‡ç« "}),e(ne,{}),e(we,{spinning:a,children:e(p,{form:t,name:"createForm",labelCol:{span:3},children:d(j,{gutter:36,children:[d(S,{span:16,children:[e(p.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(I,{})}),e(p.Item,{label:"ç®€ä»‹",name:"description",children:e(I,{})}),e(p.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(I.TextArea,{rows:20})}),e(p.Item,{wrapperCol:{offset:3},children:e(P,{children:e(v,{icon:e(We,{}),onClick:l,loading:s,type:"primary",children:"ä¿å­˜"})})})]}),d(S,{span:8,children:[e(p.Item,{label:"å°é¢",name:"cover",getValueFromEvent:c,valuePropName:"fileList",children:e(Ge,{maxCount:1,listType:"picture-card",children:d("div",{children:[e(le,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(p.Item,{label:"æ ‡ç­¾",name:"tags",children:e(Je,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(p.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(I,{})})]})]})})})]})},Qn=()=>{const{pathname:t}=re();return e(wt,{status:"404",title:"404",subTitle:`é¡µé¢ä¸å­˜åœ¨, å½“å‰è·¯ç”±: ${t}`,extra:e(v,{type:"primary",children:e(te,{to:"/",children:"è¿”å›é¦–é¡µ"})})})};const Xn=t=>{const{title:n="Iframe Page",name:r="internal-iframe"}=t,a=i.useRef(null),[o,s]=i.useState(!0),[u]=he();i.useEffect(()=>{s(!0)},[u]);const l=u.get("url"),c=()=>{s(!1)};return l?e(L,{children:e(R,{style:{height:"100%",padding:0},children:e(we,{wrapperClassName:"iframeSpin",spinning:o,tip:"æ­£åœ¨åŠ è½½ç¬¬ä¸‰æ–¹é¡µé¢, è¯·ç¨å...",children:e("iframe",{ref:a,width:"100%",height:"100%",onLoad:c,title:n,name:r,src:l})})})}):e(R,{children:e(Lt,{message:"æ— æ•ˆçš„urlåœ°å€",type:"error"})})},Ae="/iframe",ct=t=>`${Ae}?url=${t}`;function Zn(t){const n=t.split(".")[1];if(n)try{return JSON.parse(At(n))}catch(r){console.warn("Parse Token Error: ",r);return}}function xe(){var r;const t=N.getString(O.tokenKey);if(!t)return!1;const n=Zn(t);return n!==void 0&&((r=n==null?void 0:n.data)==null?void 0:r.uid)>0&&n.exp>new Date().getTime()/1e3}const er=({loading:t,title:n,delay:r})=>{const{settings:{theme:a}}=i.useContext(q);return e(we,{size:"large",spinning:t,tip:n,delay:r,wrapperClassName:`page-loading-spin-${a}`,children:e("div",{style:{height:"100vh",width:"100vw"}})})};const tr=()=>{const[t,n]=Qe.useNotification(),r=N.getBoolean("dontShowCompactModeNotify"),{setSetting:a,settings:{compactMode:o}}=i.useContext(q),s=()=>{const u=`open${Date.now()}`,l=d(P,{children:[e(v,{type:"link",size:"small",onClick:()=>t.destroy(),children:"ä¸å†æç¤º"}),e(v,{type:"primary",size:"small",onClick:()=>{a({compactMode:!0}),t.destroy(u)},children:"å¼€å¯"})]});t.info({message:"å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼",description:"æ£€æµ‹åˆ°æ‚¨çš„å±å¹•å°ºå¯¸è¿‡å°, æ˜¯å¦å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼? æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯",btn:l,key:u,onClose:()=>N.set("dontShowCompactModeNotify",!0)})};return i.useEffect(()=>{!r&&!o&&window.innerWidth<=1440&&s()},[]),n},nr=void 0,be=i.createContext(nr),rr=({children:t})=>{const[n,r]=i.useState([]),[a,o]=i.useState(""),s=i.useMemo(()=>$t(),[]),u=_(),l=i.useCallback(()=>{const g=h=>{h&&o(h)},f=h=>n.findIndex(C=>C.key===h)>-1;return{openTab:g,addTab:(h,C=!0)=>{f(h.key)||r(b=>[...b,{...h}]),C&&a!==h.key&&g(h.key)},removeTab:h=>{const C=n.findIndex(M=>M.key===h);if(C===-1)return;const b=n[C===0?1:C-1];r(M=>M.filter(y=>y.key!==h)),a===h&&b&&u(b.key),console.log("tabs",n)},hasTab:f}},[n,a]),c=i.useMemo(()=>l(),[l]),m=i.useMemo(()=>({tabs:n,setTabs:r,activeTab:a,event:s,...c}),[n,a]);return e(be.Provider,{value:m,children:t})},ar=({active:t,children:n,id:r,parentRef:a})=>{const[o]=i.useState(()=>document.createElement("div")),s=i.useRef(!1);return s.current=s.current||t,i.useEffect(()=>{var u,l;if(t)(u=a.current)==null||u.appendChild(o);else try{(l=a.current)==null||l.removeChild(o)}catch{}},[t,a,o]),i.useEffect(()=>{o.setAttribute("id",r)},[r,o]),e(L,{children:s.current&&Ft.createPortal(n,o)})};const or=()=>{const t=Ut(),{pathname:n}=re(),r=n,{tabs:a}=i.useContext(be),o=i.useRef(null),[s,u]=i.useState([]);return i.useEffect(()=>{if(console.log("chage",r,a),!r)return;const l=a.map(c=>c.key);u(c=>(c.find(g=>g.id===r)||c.push({id:r,element:t}),c.filter(g=>l.includes(g.id))))},[n,a]),d(L,{children:[e("div",{ref:o,className:"keep-alive"}),s.map(({id:l,element:c})=>e(ar,{active:l===r,parentRef:o,id:l,children:c},l))]})};const lr=({children:t})=>{console.log("multitab Content render...");const{pathname:n}=re(),{addTab:r,activeTab:a,hasTab:o,openTab:s}=i.useContext(be),{mapPathToMenu:u}=i.useContext(Q),l=()=>{console.log("handleAddTab");const c=u.get(n);if(console.log("menuItem",c),!(!c||!c.path)){if(o(c.key)&&a!==c.key){s(c.key);return}console.log("addttttttt"),r({label:c.label,key:c.key,children:null})}};return i.useEffect(()=>{l()},[n]),i.useEffect(()=>()=>{console.log("content destory")},[]),e(U.Content,{className:"content",children:e(or,{})})},sr=Y.memo(lr),dt=()=>{const{settings:{showFooter:t}}=i.useContext(q),{Text:n,Link:r}=w;return t?d(U.Footer,{style:{textAlign:"center",paddingBottom:4},children:[d(n,{type:"secondary",children:["React Admin Template",e(r,{href:"https://github.com/xstnet/react-admin-template",target:"_blank",style:{color:"inherit",marginLeft:5},children:e(Dt,{})})]}),e("br",{}),e(r,{href:"https://github.com/xstnet",target:"_blank",children:e(n,{type:"secondary",children:"é†‰ä¸¶æ˜¥é£"})}),d(n,{type:"secondary",children:["Â©2023 Created by",e(r,{target:"_blank",href:"https://ant-design.antgroup.com/index-cn",style:{margin:"0 6px",color:"inherit"},children:"Ant Design"}),"V5"]})]}):null};const D=Ot({scriptUrl:O.iconFontUrl,extraCommonProps:{}}),ir=()=>{const{fullScreen:t,setFullScreen:n}=i.useContext(ge),r=()=>{E.success(t?"å·²é€€å‡ºå…¨å±æ¨¡å¼":"è¿›å…¥å…¨å±æ¨¡å¼"),n(!t)};return t?e(Rt,{title:"é€€å‡ºå…¨å±æ¨¡å¼",className:"action-icon",onClick:r}):e(Bt,{title:"è¿›å…¥å…¨å±æ¨¡å¼",className:"action-icon",onClick:r})},cr=()=>e(w.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/xstnet/react-admin-template",children:e(Et,{})}),dr=()=>e(ee,{size:"small",itemLayout:"horizontal",dataSource:[{title:"å¼ ä¸‰ è¯„è®ºäº†ä½ ",desc:"è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹",createTime:"2023-04-06 15:39:00"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",desc:"è®¢å•1,è®¢å•2,è®¢å•3",createTime:"2023-04-05 15:39:00"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",desc:"",createTime:"2023-04-01 12:08:00"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",createTime:"2023-03-02 10:55:00",desc:"è¯´æ˜"}],renderItem:n=>e(ee.Item,{children:e(ee.Item.Meta,{avatar:e(Ne,{size:48,icon:e(Xe,{})}),title:e("a",{href:"https://ant.design",children:n.title}),description:d("div",{children:[n.desc,n.desc&&e("br",{}),e(w.Text,{children:e(at,{style:{fontSize:12},time:n.createTime})})]})})})}),ur=()=>e(ee,{size:"small",itemLayout:"horizontal",dataSource:[{title:"æ‚¨æœ‰ä¸€å°æ–°çš„é‚®ä»¶",type:"mail"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",type:"payment"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",type:"workflow"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",type:"common"}],renderItem:n=>e(ee.Item,{children:e(ee.Item.Meta,{avatar:e(D,{style:{fontSize:30},type:`icon-${n.type}`}),title:e("a",{href:"https://ant.design",children:n.title}),description:"3å¤©å‰"})})}),mr=()=>d(L,{children:[e(Ze,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"é€šçŸ¥(3)",children:e(ur,{})},{key:"message",label:"æ¶ˆæ¯(4)",children:e(dr,{})}],onChange:void 0,tabBarExtraContent:e(v,{type:"link",style:{marginRight:10},children:"æ¸…ç©º"})}),e(ne,{style:{margin:"8px 0"}}),d(P,{split:e(ne,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[e(v,{type:"link",children:"å…¨éƒ¨å·²è¯»"}),e(v,{type:"link",children:"æŸ¥çœ‹æ›´å¤š"})]})]}),hr=t=>e(ke,{count:98,children:e(_t,{arrow:!1,content:e(mr,{}),placement:"bottomRight",trigger:"click",children:e(D,{title:"é€šçŸ¥æé†’",type:"icon-notify",className:"action-icon"})})}),pr=()=>e(D,{title:"æœç´¢",type:"icon-search",className:"action-icon"}),gr=()=>{const{settings:{theme:t},setSetting:n}=i.useContext(q),r=()=>{n({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e(D,{onClick:r,title:"ä¸»é¢˜-æ·±è‰²æ¨¡å¼",type:"icon-theme-dark",className:"action-icon"}):e(D,{onClick:r,title:"ä¸»é¢˜-æ˜äº®æ¨¡å¼",type:"icon-theme-light",className:"action-icon"})};const fr=t=>{const n=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:r,presetColors:a=n,defaultSelectedColor:o=""}=t,{value:s=o}=t,[u,l]=i.useState(s),c=m=>{l(m),r==null||r(m)};return e("div",{className:"theme-color-wrap",children:a.map(m=>e("div",{onClick:()=>c(m),className:"theme-color-item",style:{backgroundColor:m},title:m,children:u===m&&e(Ht,{className:"checked-icon"})},m))})},br=t=>{const{open:n,onClose:r=lt}=t,{settings:a,setSetting:o}=i.useContext(q),[s]=p.useForm(),[u]=rt(),l=i.useMemo(()=>({...a,theme:a.followSystemTheme?"followSystem":a.theme}),[a]),c=(m,g)=>{const f={...m},{theme:k,fixedMenu:x,fixedHeader:h}=f;k&&(console.log("themeee",k),f.followSystemTheme=!1,k==="followSystem"&&(f.followSystemTheme=!0,f.theme=u)),x&&(f.fixedHeader=!0),h===!1&&(f.fixedMenu=!1),o(f),console.log("chage",m,g)};return et(()=>{s==null||s.setFieldsValue(l)},[l]),e(zt,{title:"åå¥½è®¾ç½®",onClose:r,open:n,children:d(p,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...l},autoComplete:"off",onValuesChange:c,form:s,children:[e(p.Item,{label:"å¤–è§‚",name:"theme",children:d(W.Group,{buttonStyle:"solid",children:[d(W.Button,{value:"light",children:[e(D,{type:"icon-theme-light"})," æµ…è‰²"]}),d(W.Button,{value:"dark",children:[e(D,{type:"icon-theme-dark"})," æ·±è‰²"]}),d(W.Button,{value:"followSystem",children:[e(D,{type:"icon-followSystem"})," è·Ÿéšç³»ç»Ÿ"]})]})}),e(p.Item,{label:"ç´§å‡‘æ¨¡å¼",valuePropName:"checked",name:"compactMode",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(p.Item,{label:"ä¸»é¢˜è‰²",name:"primaryColor",children:e(fr,{defaultSelectedColor:a.primaryColor})}),e(ne,{children:"å¸ƒå±€"}),e(p.Item,{help:"åŠŸèƒ½æ­£åœ¨å®Œå–„ä¸­",label:"å¤šæ ‡ç­¾é¡µ",valuePropName:"checked",name:"multitabMode",children:e(ae,{checkedChildren:"å¯ç”¨",unCheckedChildren:"å…³é—­"})}),e(p.Item,{label:"å›ºå®šå¤´éƒ¨",valuePropName:"checked",name:"fixedHeader",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(p.Item,{help:"å›ºå®šèœå•å¯ç”¨æ—¶, å¤´éƒ¨ä¹Ÿä¼šåŒæ­¥å›ºå®š",label:"å›ºå®šèœå•",valuePropName:"checked",name:"fixedMenu",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(p.Item,{valuePropName:"checked",label:"æ˜¾ç¤ºåº•éƒ¨",name:"showFooter",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})})]})})},yr=t=>{const[n,r]=i.useState(!1);return d("div",{children:[e(br,{open:n,onClose:()=>{r(!1)}}),e(D,{onClick:()=>{r(!0)},title:"è®¾ç½®",type:"icon-setting",className:"action-icon"})]})},vr=()=>{const{userInfo:t,setUserInfo:n,setIsLogin:r}=i.useContext(ge),{menuCollapsed:a,setMenuCollapsed:o}=i.useContext(Q),{token:{colorBgContainer:s}}=H.useToken(),u=_(),l=()=>d("div",{className:"left",children:[d("div",{className:"logo",children:[e(D,{type:"icon-react",className:"logo-img"}),e("span",{className:"logo-text",children:"React Admin Template"})]}),e("div",{children:Y.createElement(a?jt:Kt,{onClick:()=>o(!a)})})]}),c=()=>{const m=()=>d(L,{children:[e(pr,{}),e(hr,{}),e(ir,{}),e(cr,{}),e(gr,{}),e(yr,{})]}),g=[{label:e("a",{children:"ä¸ªäººä¸­å¿ƒ"}),icon:e(Xe,{}),key:"userCenter"},{label:e("a",{children:"ä¿®æ”¹èµ„æ–™"}),key:"update",icon:e(Pe,{})},{type:"divider"},{label:"é€€å‡º",icon:e(Yt,{}),key:"logout",onClick:()=>{Un().then(()=>{N.removeToken(),r(!1),n(null),u("/login")})}}];return e("div",{className:"right",children:d(P,{size:"middle",children:[m(),e(Vt,{menu:{items:g},children:d(P,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e(Ne,{src:t==null?void 0:t.avatar})]})})]})})};return e(U.Header,{className:"header",style:{background:s},children:d(L,{children:[l(),c()]})})},ut=Y.memo(vr),kr=()=>{var k;const t=_(),{pathname:n}=re(),[r,a]=i.useState(),{menuList:o,mapPathToMenu:s}=i.useContext(Q);let u=((k=s.get("/dashboard"))==null?void 0:k.key)||"",l=[],c=!1;const[m]=he();et(()=>{console.log("ppppppppppppppp"),a([n])},[n]);const g=x=>{const h=s.get(x.key);if(console.log("clicked menu",x,h),!h){console.warn("æœªè·å–åˆ°èœå•ä¿¡æ¯");return}if(h.path!==n){if((h==null?void 0:h.type)==="url"){window.open(h.path,"_blank");return}if(document.title=`${O.pageTitlePrefix} - ${h.label}`,(h==null?void 0:h.type)==="iframe"){console.log("æ‰“å¼€iframeé¡µé¢"),t(ct(h.path));return}t(h.path)}},f=i.useMemo(()=>{const x=C=>C.badge?C.badge==="dot"?e(ke,{className:"menu-item-badge",offset:[6,0],dot:!0,children:C.label}):e(ke,{className:"menu-item-badge",offset:[15,0],count:C.badge,children:C.label}):C.label,h=(C,b)=>{const M=[];return!c&&b&&l.push(b.key),C.map(y=>{var $e;if(me(y)&&(y.parent&&n.indexOf(y.path)===0&&(u=(($e=s.get(y.parent))==null?void 0:$e.key)||"",c=!0),y.type==="iframe"&&(m.get("url")||"")===y.path&&(c=!0,u=y.key),y.hideInMenu))return;let F;if(en(y))F={...y};else if(pe(y))F={...y},y.children&&y.children.length>0&&(F.children=h(y.children));else if(ue(y)||tt(y)){let{icon:X}=y;typeof X=="string"&&X.includes("icon-")&&(X=e(D,{type:X})),F={key:"",...y,icon:X,label:x(y),children:ue(y)?h(y.children,y):void 0},!c&&y.path===n&&(u=y.key,c=!0)}F&&(F.key=F.key,M.push(F))}),!c&&l.pop(),M};return h(o)},[o]);return e(qt,{style:{height:"100%"},onClick:g,mode:"inline",defaultSelectedKeys:[u],selectedKeys:r,items:f,defaultOpenKeys:l})},Cr=Y.memo(kr);const mt=()=>{const{menuCollapsed:t}=i.useContext(Q),{colorBgContainer:n}=fe();return e(U.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(Cr,{})})};const de=new Map,Se=t=>{t.map(n=>{me(n)&&(n==null?void 0:n.type)==="url"||(pe(n)&&Se(n.children||[]),(ue(n)||tt(n))&&(n.path&&de.set(n.path,n.label),n.children&&Se(n.children||[])))})},xr=()=>{const{menuList:t}=i.useContext(Q),n=i.useMemo(()=>(de.clear(),Se(t),de),[t]),r=re(),[a]=he(),o=()=>{if(r.pathname===Ae){const l=a.get("url");if(l&&de.has(l))return[e(ie.Item,{children:e(te,{style:{color:"inherit"},to:ct(l),children:n.get(l)})},l)]}return[]},s=i.useMemo(()=>{const l=r.pathname.split("/").filter(c=>c);return l.map((c,m)=>{const g=`/${l.slice(0,m+1).join("/")}`;return n.has(g)?e(ie.Item,{children:m===l.length-1?e(te,{style:{color:"inherit"},to:g,children:n.get(g)}):n.get(g)},g):null})},[r]),u=[e(ie.Item,{children:e(Wt,{})},"home"),...s,...o()];return e(ie,{className:"breadcrumb",children:u})},ht=Y.memo(xr);const Sr=()=>{const t=_(),{pathname:n}=re(),{tabs:r,activeTab:a,removeTab:o}=i.useContext(be),s=l=>{console.log("tabclick, tabKey",l,typeof l),l&&l!==n&&t(l)},u=(l,c)=>{c==="remove"&&o(l)};return e(Ze,{className:"tabs-wrapper",type:"editable-card",hideAdd:!0,activeKey:a,items:[...r],onChange:s,onEdit:u})};const Ir=()=>(console.log("MultitabLayout render..."),e(rr,{children:d(U,{className:"multitab-layout",children:[e(ut,{}),d(U,{children:[e(mt,{}),d(U,{className:"content-layout",children:[e(Sr,{}),e(ht,{}),e(sr,{}),e(dt,{})]})]})]})})),Tr=Y.memo(Ir);const Mr=({children:t})=>(console.log("Content render..."),console.log("childdddddddd",t),e(U.Content,{className:"content",children:t})),Pr=Y.memo(Mr);const Nr=()=>(console.log("SingleLaylut render..."),d(U,{className:"single-tab-layout",children:[e(ut,{}),d(U,{children:[e(mt,{}),d(U,{className:"content-layout",children:[e(ht,{}),e(Pr,{children:e(Gt,{})}),e(dt,{})]})]})]})),wr=()=>{const[t,n]=i.useState(!0),{setIsLogin:r,setUserInfo:a}=i.useContext(ge),{colorBgContainer:o}=fe(),{settings:{multitabMode:s,fixedMenu:u,fixedHeader:l,theme:c}}=i.useContext(q),{menuCollapsed:m}=i.useContext(Q),g=_(),[f]=he();return console.log("global layout render..."),i.useEffect(()=>{xe()&&Fn().then(k=>{if(n(!1),r(!0),a(k),f.has("ghpage")){const x=decodeURIComponent(f.get("ghpage"));g(x);return}}).catch(k=>{k instanceof Jt&&Qe.error({message:"ç½‘ç»œé”™è¯¯",description:"è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥, æ— æ³•æ‰“å¼€é¡µé¢",duration:null,closeIcon:null})})},[]),xe()?t?e(er,{title:"é¡µé¢åŠ è½½ä¸­",loading:t}):d("div",{"data-fixed-menu":u?1:0,"data-menu-collapsed":m?1:0,"data-fixed-header":l?1:0,style:{background:o},className:`global-layout theme-${c}`,children:[s?e(Tr,{}):e(Nr,{}),e(tr,{})]}):(g("/login"),null)},Lr=Y.memo(wr);const Ar=()=>{const t=_(),{loading:n,run:r}=K($n,{manual:!0,debounceWait:300,onSuccess:s=>{N.setToken(s.token),t("/dashboard")}});document.title=O.pageTitle;const a=s=>{r(s)};i.useEffect(()=>{xe()&&t("/dashboard")},[]);const o={remember:!0,username:"admin",password:"123456"};return e(L,{children:d(He,{theme:{algorithm:[H.defaultAlgorithm]},children:[e("div",{className:"bg-wrap"}),d(j,{className:"login-wrap",children:[e(S,{span:15,className:"login-banner"}),d(S,{span:9,className:"login-form-wrap",children:[e(w.Title,{style:{textAlign:"center"},children:"åå°ç®¡ç†ç³»ç»Ÿ"}),e("br",{}),d(p,{name:"loginForm",labelCol:{span:5},wrapperCol:{span:19},style:{maxWidth:600},initialValues:o,onFinish:a,autoComplete:"off",children:[e(p.Item,{label:"ç”¨æˆ·å",name:"username",rules:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å!"}],children:e(I,{placeholder:"admin"})}),e(p.Item,{label:"å¯†ç ",name:"password",rules:[{required:!0,message:"è¯·è¾“å…¥å¯†ç !"}],children:e(I.Password,{placeholder:"123456"})}),e(p.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:5},children:e(je,{children:"è®°ä½æˆ‘"})}),e(p.Item,{wrapperCol:{offset:5,span:16},children:e(v,{loading:n,type:"primary",htmlType:"submit",children:"ç™»å½•"})})]})]})]})]})})},$r=()=>d(R,{children:[d(P,{children:[e(v,{children:"æ‰“å¼€æ§åˆ¶å°æ ‡ç­¾é¡µ"}),e(v,{children:"æ‰“å¼€å‘å¸ƒæ–‡ç« æ ‡ç­¾"}),e(v,{children:"ç¼–è¾‘æ–‡ç« ID: 1"}),e(v,{children:"ç¼–è¾‘æ–‡ç« ID: 2"})]}),e(ne,{}),d(P,{children:[e(v,{children:"å…³é—­ç¬¬äºŒä¸ªæ ‡ç­¾é¡µ"}),e(v,{children:"å…³é—­å·¦ä¾§æ ‡ç­¾é¡µ"}),e(v,{children:"å…³é—­å³ä¾§æ ‡ç­¾é¡µ"}),e(v,{children:"å…³é—­å…¶ä»–æ ‡ç­¾é¡µ"})]})]});function Fr(){return[{path:"/login",element:e(Ar,{})},{path:"/",element:e(Lr,{}),children:[{path:"/",element:e(Re,{})},{path:"/dashboard",element:e(Re,{})},{path:"/user",children:[{index:!0,element:e(Be,{})},{path:"/user/center/index",element:e(Be,{})},{path:"/user/center/update",element:e(Mn,{})}]},{path:"/example",children:[{path:"/example/userList",element:e(qn,{})},{path:"/example/tabs/manage",element:e($r,{})}]},{path:"/article",children:[{index:!0,element:e(Ee,{})},{path:"/article/list",element:e(Ee,{})},{path:"/article/create",element:e(Gn,{})},{path:"/article/update/:id",element:e(Jn,{})}]},{path:"/blank",element:e(ce,{})},{path:"/badge/dot",element:e(ce,{title:"çº¢ç‚¹å¾½æ ‡"})},{path:"/badge/count",element:e(ce,{title:"æ•°å­—å¾½æ ‡"})},{path:Ae,element:e(Xn,{})},{path:"/multilevel/menu/2/3",element:e(ce,{title:"ä¸‰çº§èœå•"})},{path:"*",element:e(Qn,{})}]}]}function Ur(){i.useEffect(()=>{},[]);const t=Qt(Fr(),{basename:"/react-admin-template/"});return e(vn,{children:e(Xt,{router:t})})}function _e(t){const n=JSON.stringify({type:"JWT",alg:"HS256"}),r=Number((new Date().getTime()/1e3).toFixed(0)),a=JSON.stringify({iss:"github.com/xstnet",sub:"react-admin",iat:r,exp:r+86400*14,data:t}),o="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Ue(n)}.${Ue(a)}.${o}`}T.mock(/api\/login/,"post",({body:t})=>{const{username:n,password:r}=JSON.parse(t);return n==="admin"?r!=="123456"?{code:-1,message:"å¯†ç é”™è¯¯"}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:_e({uid:1})}}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:_e({uid:J.Random.natural(2,1e4)})}}});T.setup({timeout:100});T.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"é†‰ä¸¶æ˜¥é£",avatar:"https://www.xstnet.com/static/images/head.gif",password:"",gender:J.Random.natural(1,2),email:"shantongxu@qq.com",mobile:"133xxxx3333"}}));T.mock(/api\/user\/logout/,"post",t=>({code:0,message:"é€€å‡ºæˆåŠŸ"}));T.mock(/api\/user\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,username:"@first@last",nickname:"@cname",avatar:()=>J.Random.dataImage("200x200"),email:"@email",mobile:()=>T.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(a)});T.mock(/api\/user\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:J.Random.natural(100,9999)}}));T.mock(/api\/user\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/user\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));T.setup({timeout:100});T.mock(/api\/article\/detail/,"get",t=>(console.log("ğŸš€ ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"ä¸»é¢˜",description:"é†‰ä¸¶æ˜¥é£",author:"é†‰ä¸¶æ˜¥é£",tags:[1,2],content:"content",create_time:J.Random.datetime()}}));T.mock(/api\/article\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,author:"@first@last",title:()=>T.Random.ctitle(5,20),description:"@cname",cover:()=>J.Random.dataImage("480x270","å°é¢"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return T.mock(a)});T.mock(/api\/article\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:J.Random.natural(100,9999)}}));T.mock(/api\/article\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));T.mock(/api\/article\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));Zt.createRoot(document.getElementById("root")).render(e(Ur,{}));
