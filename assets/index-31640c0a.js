import{j as Te,r as s,C as Ve,z as ft,t as E,u as yt,d as bt,a as q,m as H,b as _,c as Y,R as j,e as I,T as N,F as g,I as M,f as je,B as S,S as Ie,n as Ye,g as A,h as kt,i as G,k as ne,L as O,G as vt,l as Ct,o as xt,p as St,q as Tt,s as qe,v as X,A as Me,U as We,w as Je,D as oe,x as le,P as It,y as Mt,E as Pt,H as Nt,J,K as ae,M as Lt,N as At,O as wt,Q as Pe,V as $t,W as se,X as Ge,Y as me,Z,_ as Ft,$ as ie,a0 as V,a1 as Ne,a2 as ce,a3 as Le,a4 as Qe,a5 as Ut,a6 as Ot,a7 as Rt,a8 as Dt,a9 as Xe,aa as Bt,ab as he,ac as ke,ad as Kt,ae as Ht,af as _t,ag as Ze,ah as zt,ai as Ue,aj as ve,ak as et,al as Et,am as Vt,an as tt,ao as jt,ap as nt,aq as rt,ar as Yt,as as qt,at as Wt,au as Jt,av as Gt,aw as Oe,ax as P,ay as Q,az as Re,aA as Qt,aB as Xt}from"./vendor-d6df2b13.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const R=Te.Fragment,e=Te.jsx,d=Te.jsxs,De=[{label:"æ§åˆ¶å°",type:"group",children:[{label:"æ§åˆ¶å°",icon:"icon-dashboard",path:"/dashboard"}]},{label:"ç¤ºä¾‹é¡µé¢",type:"group",children:[{label:"åˆ—è¡¨é¡µ",icon:"icon-list",path:"/example/userList"},{label:"å¤šçº§èœå•",icon:"icon-list",path:"/multilevel/menu",children:[{label:"äºŒçº§èœå•",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"ä¸‰çº§èœå•",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"ç©ºç™½é¡µ",icon:"icon-example",path:"/blank"},{label:"404",icon:"icon-example",path:"/404"}]},{label:"å¾½æ ‡ç¤ºä¾‹",type:"group",children:[{label:"çº¢ç‚¹å¾½æ ‡",icon:"icon-list",badge:"dot",path:"/blank"},{label:"æ•°å­—å¾½æ ‡",icon:"icon-example",badge:98,path:"/blank"}]},{type:"divider"},{path:"/article",label:"æ–‡ç« ç®¡ç†",icon:"icon-article",children:[{path:"/article/list",label:"æ–‡ç« åˆ—è¡¨",icon:"icon-article"},{path:"/article/create",label:"å‘å¸ƒæ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"æ›´æ–°æ–‡ç« ",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"åˆ†ç±»ç®¡ç†",icon:"icon-list"}]},{path:"/iframe",label:"å¤–éƒ¨é¡µé¢",icon:"icon-href",children:[{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å¤–é“¾)",icon:"icon-document",key:"webpage-antd-document",type:"url"},{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antdæ–‡æ¡£(å†…åµŒ)",icon:"icon-document",type:"iframe"},{path:"https://www.xstnet.com",label:"åšå®¢ä¸»é¡µ(å†…åµŒ)",icon:"icon-document",type:"iframe"}]},{path:"/document",label:"æ–‡æ¡£",icon:"icon-document",children:[{path:"/document/start",label:"å¼€å§‹ä½¿ç”¨",icon:"icon-document"},{path:"/document/package.json",label:"Packageæ–‡ä»¶è¯´æ˜",icon:"icon-document"}]},{type:"divider"},{path:"/user/center",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-user-permissions",children:[{path:"/user/center/index",label:"ä¸ªäººä¸­å¿ƒ",icon:"icon-example"},{path:"/user/center/update",label:"ä¿®æ”¹ä¿¡æ¯",icon:"icon-document"}]}];function Ae(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function ee(t){return de(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function fe(t){return typeof t.path=="string"&&typeof t.label=="string"}function de(t){return typeof t.type<"u"&&t.type==="group"}function at(t){return typeof t.type<"u"&&t.type==="divider"}const Zt=void 0,K=s.createContext(Zt),en=({children:t})=>{let n=0;const r=s.useMemo(()=>De,[De]),[a,i]=s.useState(r),[o,u]=s.useState(!1),{mapPathToMenu:l,mapKeyToMenu:m,processedMenuList:c}=s.useMemo(()=>(()=>{const C=new Map,y=new Map,p=T=>(T.key||(T.key=String(++n)),{...T}),v=T=>T.map(h=>{const k=p(h);return(ee(k)||de(k))&&(k.children=v(k.children||[])),fe(k)&&y.set(k.path,k),k!=null&&k.key&&C.set(k.key,k),k});return{processedMenuList:v(a),mapKeyToMenu:C,mapPathToMenu:y}})(),[a]),f=s.useMemo(()=>({menuList:c,setMenuList:i,menuCollapsed:o,setMenuCollapsed:u,mapPathToMenu:l,mapKeyToMenu:m}),[a,o]);return e(K.Provider,{value:f,children:t})},D={pageTitle:"åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿",pageTitlePrefix:"åå°ç®¡ç†",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/react-admin-template/api",iconFontUrl:"//at.alicdn.com/t/c/font_3917407_68ll5mr3jkf.js"};function tn(t,n){localStorage.setItem(t,typeof n=="object"?JSON.stringify(n):n)}function nn(t){localStorage.setItem(D.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function ot(t){return localStorage.getItem(t)}function rn(t){const n=localStorage.getItem(t);if(n!==null)return Number(n)}function an(t){const n=localStorage.getItem(t);if(n!==null)return n==="true"}function on(t){const n=localStorage.getItem(t);if(n!==null)return JSON.parse(n)}function ln(t){return ot(t)!==null}function sn(t){localStorage.removeItem(t)}function cn(){localStorage.removeItem(D.tokenKey)}function dn(){localStorage.clear()}const w={set:tn,setToken:nn,has:ln,getString:ot,getObject:on,getBoolean:an,getNumber:rn,remove:sn,removeToken:cn,clear:dn},lt=()=>{const[t,n]=s.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return s.useEffect(()=>{const a=i=>{console.log("chage",i.matches),i.matches?n(!0):n(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",a)}},[]),[t?"dark":"light"]},un=void 0,mn=s.createContext(un),hn=({children:t})=>{const{settings:{primaryColor:n,theme:r,compactMode:a,followSystemTheme:i}}=s.useContext(W),[o]=lt(),u={},l=()=>{const m=[];return i?m.push(o==="light"?E.defaultAlgorithm:E.darkAlgorithm):m.push(r==="light"?E.defaultAlgorithm:E.darkAlgorithm),console.log("algorighm",r,m),a&&m.push(E.compactAlgorithm),m};return e(mn.Provider,{value:u,children:e(Ve,{locale:ft,theme:{algorithm:l(),token:{colorPrimary:n},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},pn=void 0,W=s.createContext(pn),gn=({children:t})=>{const n=s.useMemo(()=>{const u=w.getObject("settings")||{};return console.log("settingsCache",u),{theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#00b96b",...u}},[]),[r,a]=s.useState(n),i=s.useCallback(u=>{const l={...r,...u};a(l),w.set("settings",l)},[r]),o={settings:r,setSetting:i};return e(W.Provider,{value:o,children:e(hn,{children:t})})},fn=void 0,ye=s.createContext(fn),yn=({children:t})=>{const[n,r]=s.useState(!1),[a,{toggleFullscreen:i}]=yt(document.body),[o,u]=s.useState(null),l=s.useMemo(()=>({isLogin:n,setIsLogin:r,userInfo:o,setUserInfo:u,fullScreen:a,setFullScreen:i}),[n,o,a]);return e(ye.Provider,{value:l,children:e(gn,{children:e(en,{children:t})})})};function bn(t){const n=t.split(".")[1];if(n)try{return JSON.parse(bt(n))}catch(r){console.warn("Parse Token Error: ",r);return}}function Ce(){var r;const t=w.getString(D.tokenKey);if(!t)return!1;const n=bn(t);return n!==void 0&&((r=n==null?void 0:n.data)==null?void 0:r.uid)>0&&n.exp>new Date().getTime()/1e3}var xe=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(xe||{}),it=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(it||{}),z=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(z||{}),we=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(we||{});function st(){}function te(t,n){return Math.floor(Math.random()*(n-t+1))+t}const kn=10*1e3;q.defaults.baseURL=D.apiBaseUrl;q.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";q.defaults.timeout=kn;q.interceptors.request.use(t=>(console.group(`${t.method}${t.url}${JSON.stringify(t.params)}`),t.headers.Authorization=`Bearer ${w.getString(D.tokenKey)}`,t),t=>Promise.reject(t));q.interceptors.response.use(t=>{const n=t.data;return typeof n.code!="number"?(H.error("ç³»ç»Ÿé”™è¯¯",2),console.warn("apiè°ƒç”¨å¤±è´¥, æœªæ­£å¸¸è¿”å›æ•°æ®, url:",t.config.url,"data:",n,"response:",t),console.groupEnd(),Promise.reject(t)):(console.log("Request log: ",t.config.url,t.data,t),console.groupEnd(),n.code===0?(t.config.method==="post"&&H.success(t.data.message),t):n.code===xe.noLogin?(H.error("æ‚¨è¿˜æ²¡æœ‰ç™»å½•, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢, è¯·ç¨å..."),w.remove(D.tokenKey),location.reload(),Promise.reject(n)):n.code===xe.loginExpired?(H.error("ç™»å½•å·²å¤±æ•ˆ, å³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢..."),w.remove(D.tokenKey),location.reload(),Promise.reject(n)):(H.error(n.message),Promise.reject(t)))},t=>(typeof t.message=="string"&&t.message==="Network Error"?H.error("ç½‘ç»œé”™è¯¯, è¯·ç¨åå†è¯•!"):H.error("è¯·æ±‚å¤±è´¥, è¯·ç¨åå†è¯•"),console.log("Request error",t),console.groupEnd(),Promise.reject(t)));const vn=(t,n,r)=>{const a=r||{};return a.params=n,q.get(t,a)},Cn=(t,n,r)=>q.post(t,n,r),xn=t=>q.request(t),F={get:vn,post:Cn,request:xn},U=t=>t.then(n=>Promise.resolve(n.data.data)).catch(n=>Promise.reject(n)),Sn=t=>{const n=F.post("/login",t);return U(n)},Tn=t=>U(F.get("/user/info",t)),In=t=>U(F.post("/user/logout",t)),Mn=(t,n)=>U(F.get("/user/list",{...t,...n})),Pn=t=>U(F.post("/user/create",t)),Nn=t=>U(F.post("/user/update",t)),Ln=t=>U(F.post("/user/delete",t)),An=(t,n)=>U(F.get("/article/list",{...t,...n})),wn=t=>U(F.get("/article/detail",t)),$n=t=>U(F.post("/article/create",t)),Fn=t=>U(F.post("/article/update",t)),Un=t=>U(F.post("/article/delete",t));const On=()=>{const t=_(),{loading:n,run:r}=Y(Sn,{manual:!0,debounceWait:300,onSuccess:o=>{w.setToken(o.token),t("/dashboard")}});document.title=D.pageTitle;const a=o=>{r(o)};s.useEffect(()=>{Ce()&&t("/dashboard")},[]);const i={remember:!0,username:"admin",password:"123456"};return e(R,{children:d(Ve,{theme:{algorithm:[E.defaultAlgorithm]},children:[e("div",{className:"bg-wrap"}),d(j,{className:"login-wrap",children:[e(I,{span:15,className:"login-banner"}),d(I,{span:9,className:"login-form-wrap",children:[e(N.Title,{style:{textAlign:"center"},children:"åå°ç®¡ç†ç³»ç»Ÿ"}),e("br",{}),d(g,{name:"loginForm",labelCol:{span:5},wrapperCol:{span:19},style:{maxWidth:600},initialValues:i,onFinish:a,autoComplete:"off",children:[e(g.Item,{label:"ç”¨æˆ·å",name:"username",rules:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å!"}],children:e(M,{placeholder:"admin"})}),e(g.Item,{label:"å¯†ç ",name:"password",rules:[{required:!0,message:"è¯·è¾“å…¥å¯†ç !"}],children:e(M.Password,{placeholder:"123456"})}),e(g.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:5},children:e(je,{children:"è®°ä½æˆ‘"})}),e(g.Item,{wrapperCol:{offset:5,span:16},children:e(S,{loading:n,type:"primary",htmlType:"submit",children:"ç™»å½•"})})]})]})]})]})})};const Rn=({loading:t,title:n})=>{const{settings:{theme:r}}=s.useContext(W);return e(Ie,{size:"large",spinning:t,tip:n,wrapperClassName:`page-loading-spin-${r}`,children:e("div",{style:{height:"100vh",width:"100vw"}})})};const Dn=()=>{const[t,n]=Ye.useNotification(),r=w.getBoolean("dontShowCompactModeNotify"),{setSetting:a,settings:{compactMode:i}}=s.useContext(W),o=()=>{const u=`open${Date.now()}`,l=d(A,{children:[e(S,{type:"link",size:"small",onClick:()=>t.destroy(),children:"ä¸å†æç¤º"}),e(S,{type:"primary",size:"small",onClick:()=>{a({compactMode:!0}),t.destroy(u)},children:"å¼€å¯"})]});t.info({message:"å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼",description:"æ£€æµ‹åˆ°æ‚¨çš„å±å¹•å°ºå¯¸è¿‡å°, æ˜¯å¦å¼€å¯ç´§å‡‘å¸ƒå±€æ¨¡å¼? æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯",btn:l,key:u,onClose:()=>w.set("dontShowCompactModeNotify",!0)})};return s.useEffect(()=>{!r&&!i&&window.innerWidth<=1440&&o()},[]),n},Bn=void 0,be=s.createContext(Bn),Kn=({children:t})=>{const[n,r]=s.useState([]),[a,i]=s.useState(""),o=s.useMemo(()=>kt(),[]),u=s.useCallback(()=>{console.log("getabactions");const c=y=>{y&&i(y)},f=y=>n.findIndex(p=>p.key===y)>-1;return{openTab:c,addTab:(y,p=!0)=>{console.log("ddddddddd",n),f(y.key)||r(v=>[...v,{...y}]),p&&a!==y.key&&c(y.key)},removeTab:()=>{},hasTab:f}},[n]),l=s.useMemo(()=>u(),[u]),m=s.useMemo(()=>({tabs:n,setTabs:r,activeTab:a,event:o,...l}),[n,a]);return e(be.Provider,{value:m,children:t})};const Hn=({children:t})=>{console.log("Content render..."),console.log("childdddddddd",t);const n=ne(),{addTab:r,activeTab:a,hasTab:i,openTab:o}=s.useContext(be),{mapPathToMenu:u}=s.useContext(K),{pathname:l}=n,m=()=>{console.log("handleAddTab");const c=u.get(l);if(!(!c||!c.path)){if(i(c.key)&&a!==c.key){o(c.key);return}r({label:c.label,key:c.key,children:t})}};return s.useEffect(()=>(console.log("locationxxxxx"),m(),()=>{console.log("content destory")}),[n]),null},_n=G.memo(Hn),ct=()=>{const{settings:{showFooter:t}}=s.useContext(W),{Text:n,Link:r}=N;return t?d(O.Footer,{style:{textAlign:"center",paddingBottom:4},children:[d(n,{type:"secondary",children:["React Admin Template",e(r,{href:"https://github.com/xstnet/react-admin-template",target:"_blank",style:{color:"inherit",marginLeft:5},children:e(vt,{})})]}),e("br",{}),e(r,{href:"https://github.com/xstnet",target:"_blank",children:e(n,{type:"secondary",children:"é†‰ä¸¶æ˜¥é£"})}),d(n,{type:"secondary",children:["Â©2023 Created by",e(r,{target:"_blank",href:"https://ant-design.antgroup.com/index-cn",style:{margin:"0 6px",color:"inherit"},children:"Ant Design"}),"V5"]})]}):null};const $=Ct({scriptUrl:D.iconFontUrl,extraCommonProps:{}}),zn=()=>{const{fullScreen:t,setFullScreen:n}=s.useContext(ye),r=()=>{H.success(t?"å·²é€€å‡ºå…¨å±æ¨¡å¼":"è¿›å…¥å…¨å±æ¨¡å¼"),n(!t)};return t?e(xt,{title:"é€€å‡ºå…¨å±æ¨¡å¼",className:"action-icon",onClick:r}):e(St,{title:"è¿›å…¥å…¨å±æ¨¡å¼",className:"action-icon",onClick:r})},En=()=>e(N.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/xstnet/react-admin-template",children:e(Tt,{})}),Vn=[[2,1,"åˆšåˆš"],[60,1,"%dç§’å‰"],[3600,60,"%dåˆ†é’Ÿå‰"],[86400,3600,"%då°æ—¶å‰"],[86400*30,3600*24,"%då¤©å‰"],[86400*30*12,3600*24*30,"%dæœˆå‰"],[1/0,3600*24*30*12,"%då¹´å‰"]],jn=[[-60,1,"%dç§’å"],[-3600,60,"%dåˆ†é’Ÿå"],[-86400,3600,"%då°æ—¶å"],[-(86400*30),3600*24,"%då¤©å"],[-(86400*30*12),3600*24*30,"%dæœˆå"],[-1/0,3600*24*30*12,"%då¹´å"]],dt=({time:t,...n})=>{const r=Math.floor(new Date().getTime()/1e3),a=Math.floor(new Date(t).getTime()/1e3),i=r-a;if(isNaN(a))return e(R,{children:"time"});const o=i<-1?jn:Vn;let u="";for(const[l,m,c]of o)if(Math.abs(i)<Math.abs(l)){const f=Math.floor(Math.abs(i)/m);u=c.replace("%d",String(f));break}return e(qe,{title:t,children:e("span",{...n,children:u})})},Yn=()=>e(X,{size:"small",itemLayout:"horizontal",dataSource:[{title:"å¼ ä¸‰ è¯„è®ºäº†ä½ ",desc:"è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹è¯„è®ºå†…å®¹",createTime:"2023-04-06 15:39:00"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",desc:"è®¢å•1,è®¢å•2,è®¢å•3",createTime:"2023-04-05 15:39:00"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",desc:"",createTime:"2023-04-01 12:08:00"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",createTime:"2023-03-02 10:55:00",desc:"è¯´æ˜"}],renderItem:n=>e(X.Item,{children:e(X.Item.Meta,{avatar:e(Me,{size:48,icon:e(We,{})}),title:e("a",{href:"https://ant.design",children:n.title}),description:d("div",{children:[n.desc,n.desc&&e("br",{}),e(N.Text,{children:e(dt,{style:{fontSize:12},time:n.createTime})})]})})})}),qn=()=>e(X,{size:"small",itemLayout:"horizontal",dataSource:[{title:"æ‚¨æœ‰ä¸€å°æ–°çš„é‚®ä»¶",type:"mail"},{title:"æ‚¨æœ‰3ä¸ªè®¢å•å¾…æ”¯ä»˜",type:"payment"},{title:"å¼ ä¸‰ çš„è¯·å‡ç”³è¯·éœ€è¦æ‚¨çš„å®¡æ‰¹",type:"workflow"},{title:"æœ¬å‘¨å‘¨æŠ¥å¾…å¡«å†™",type:"common"}],renderItem:n=>e(X.Item,{children:e(X.Item.Meta,{avatar:e($,{style:{fontSize:30},type:`icon-${n.type}`}),title:e("a",{href:"https://ant.design",children:n.title}),description:"3å¤©å‰"})})}),Wn=()=>d(R,{children:[e(Je,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"é€šçŸ¥(3)",children:e(qn,{})},{key:"message",label:"æ¶ˆæ¯(4)",children:e(Yn,{})}],onChange:void 0,tabBarExtraContent:e(S,{type:"link",style:{marginRight:10},children:"æ¸…ç©º"})}),e(oe,{style:{margin:"8px 0"}}),d(A,{split:e(oe,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[e(S,{type:"link",children:"å…¨éƒ¨å·²è¯»"}),e(S,{type:"link",children:"æŸ¥çœ‹æ›´å¤š"})]})]}),Jn=t=>e(le,{count:98,children:e(It,{arrow:!1,content:e(Wn,{}),placement:"bottomRight",trigger:"click",children:e($,{title:"é€šçŸ¥æé†’",type:"icon-notify",className:"action-icon"})})}),Gn=()=>e($,{title:"æœç´¢",type:"icon-search",className:"action-icon"}),Qn=()=>{const{settings:{theme:t},setSetting:n}=s.useContext(W),r=()=>{n({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e($,{onClick:r,title:"ä¸»é¢˜-æ·±è‰²æ¨¡å¼",type:"icon-theme-dark",className:"action-icon"}):e($,{onClick:r,title:"ä¸»é¢˜-æ˜äº®æ¨¡å¼",type:"icon-theme-light",className:"action-icon"})};const Xn=t=>{const n=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:r,presetColors:a=n,defaultSelectedColor:i=""}=t,{value:o=i}=t,[u,l]=s.useState(o),m=c=>{l(c),r==null||r(c)};return e("div",{className:"theme-color-wrap",children:a.map(c=>e("div",{onClick:()=>m(c),className:"theme-color-item",style:{backgroundColor:c},title:c,children:u===c&&e(Mt,{className:"checked-icon"})},c))})},Zn=t=>{const{open:n,onClose:r=st}=t,{settings:a,setSetting:i}=s.useContext(W),[o]=g.useForm(),[u]=lt(),l=s.useMemo(()=>({...a,theme:a.followSystemTheme?"followSystem":a.theme}),[a]),m=(c,f)=>{const b={...c},{theme:C,fixedMenu:y,fixedHeader:p}=b;C&&(console.log("themeee",C),b.followSystemTheme=!1,C==="followSystem"&&(b.followSystemTheme=!0,b.theme=u)),y&&(b.fixedHeader=!0),p===!1&&(b.fixedMenu=!1),i(b),console.log("chage",c,f)};return Pt(()=>{o==null||o.setFieldsValue(l)},[l]),e(Nt,{title:"åå¥½è®¾ç½®",onClose:r,open:n,children:d(g,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...l},autoComplete:"off",onValuesChange:m,form:o,children:[e(g.Item,{label:"å¤–è§‚",name:"theme",children:d(J.Group,{buttonStyle:"solid",children:[d(J.Button,{value:"light",children:[e($,{type:"icon-theme-light"})," æµ…è‰²"]}),d(J.Button,{value:"dark",children:[e($,{type:"icon-theme-dark"})," æ·±è‰²"]}),d(J.Button,{value:"followSystem",children:[e($,{type:"icon-followSystem"})," è·Ÿéšç³»ç»Ÿ"]})]})}),e(g.Item,{label:"ç´§å‡‘æ¨¡å¼",valuePropName:"checked",name:"compactMode",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(g.Item,{label:"ä¸»é¢˜è‰²",name:"primaryColor",children:e(Xn,{defaultSelectedColor:a.primaryColor})}),e(oe,{children:"å¸ƒå±€"}),e(g.Item,{help:"åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­",label:"å¤šæ ‡ç­¾é¡µ",valuePropName:"checked",name:"multitabMode",children:e(ae,{checkedChildren:"å¯ç”¨",unCheckedChildren:"å…³é—­"})}),e(g.Item,{label:"å›ºå®šå¤´éƒ¨",valuePropName:"checked",name:"fixedHeader",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(g.Item,{help:"å›ºå®šèœå•å¯ç”¨æ—¶, å¤´éƒ¨ä¹Ÿä¼šåŒæ­¥å›ºå®š",label:"å›ºå®šèœå•",valuePropName:"checked",name:"fixedMenu",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})}),e(g.Item,{valuePropName:"checked",label:"æ˜¾ç¤ºåº•éƒ¨",name:"showFooter",children:e(ae,{checkedChildren:"å¼€å¯",unCheckedChildren:"å…³é—­"})})]})})},er=t=>{const[n,r]=s.useState(!1);return d("div",{children:[e(Zn,{open:n,onClose:()=>{r(!1)}}),e($,{onClick:()=>{r(!0)},title:"è®¾ç½®",type:"icon-setting",className:"action-icon"})]})},tr=()=>{const{userInfo:t,setUserInfo:n,setIsLogin:r}=s.useContext(ye),{menuCollapsed:a,setMenuCollapsed:i}=s.useContext(K),{token:{colorBgContainer:o}}=E.useToken(),u=_(),l=()=>d("div",{className:"left",children:[d("div",{className:"logo",children:[e($,{type:"icon-react",className:"logo-img"}),e("span",{className:"logo-text",children:"React Admin Template"})]}),e("div",{children:G.createElement(a?Lt:At,{onClick:()=>i(!a)})})]}),m=()=>{const c=()=>d(R,{children:[e(Gn,{}),e(Jn,{}),e(zn,{}),e(En,{}),e(Qn,{}),e(er,{})]}),f=[{label:e("a",{children:"ä¸ªäººä¸­å¿ƒ"}),icon:e(We,{}),key:"userCenter"},{label:e("a",{children:"ä¿®æ”¹èµ„æ–™"}),key:"update",icon:e(Pe,{})},{type:"divider"},{label:"é€€å‡º",icon:e($t,{}),key:"logout",onClick:()=>{In().then(()=>{w.removeToken(),r(!1),n(null),u("/login")})}}];return e("div",{className:"right",children:d(A,{size:"middle",children:[c(),e(wt,{menu:{items:f},children:d(A,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e(Me,{src:t==null?void 0:t.avatar})]})})]})})};return e(O.Header,{className:"header",style:{background:o},children:d(R,{children:[l(),m()]})})},ut=G.memo(tr),$e="/iframe",Fe=t=>`${$e}?url=${t}`,nr=()=>{var C;const t=_(),n=ne(),{menuList:r,mapKeyToMenu:a,mapPathToMenu:i}=s.useContext(K);let o=((C=i.get("/dashboard"))==null?void 0:C.key)||"",u=[],l=!1;const{pathname:m}=n,[c]=se();s.useContext(be);const f=y=>{const p=a.get(y.key);if(console.log("clicked menu",y,p),!p){console.warn("æœªè·å–åˆ°èœå•ä¿¡æ¯");return}if((p==null?void 0:p.type)==="url"){window.open(p.path,"_blank");return}if(document.title=`${D.pageTitlePrefix} - ${p.label}`,(p==null?void 0:p.type)==="iframe"){console.log("æ‰“å¼€iframeé¡µé¢"),t(Fe(p.path));return}t(p.path)},b=s.useMemo(()=>{const y=v=>v.badge?v.badge==="dot"?e(le,{className:"menu-item-badge",offset:[6,0],dot:!0,children:v.label}):e(le,{className:"menu-item-badge",offset:[15,0],count:v.badge,children:v.label}):v.label,p=(v,x)=>{const T=[];return!l&&x&&u.push(x.key),v.map(h=>{var re;if(fe(h)&&(h.parent&&m.indexOf(h.path)===0&&(o=((re=i.get(h.parent))==null?void 0:re.key)||"",l=!0),h.type==="iframe"&&(c.get("url")||"")===h.path&&(l=!0,o=h.key),h.hideInMenu))return;let k;if(at(h))k={...h};else if(de(h))k={...h},h.children&&h.children.length>0&&(k.children=p(h.children));else if(ee(h)||Ae(h)){let{icon:L}=h;typeof L=="string"&&L.includes("icon-")&&(L=e($,{type:L})),k={key:"",...h,icon:L,label:y(h),children:ee(h)?p(h.children,h):void 0},!l&&h.path===m&&(o=h.key,l=!0)}k&&(k.key=k.key,T.push(k))}),!l&&u.pop(),T};return p(r)},[r]);return e(Ge,{style:{height:"100%"},onClick:f,mode:"inline",defaultSelectedKeys:[o],items:b,defaultOpenKeys:u})},rr=G.memo(nr),ue=()=>{const{token:t}=E.useToken();return t},ar=()=>{const{menuCollapsed:t}=s.useContext(K),{colorBgContainer:n}=ue();return e(O.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(rr,{})})};const ge=new Map,Se=t=>{t.map(n=>{fe(n)&&(n==null?void 0:n.type)==="url"||(de(n)&&Se(n.children||[]),(ee(n)||Ae(n))&&(n.path&&ge.set(n.path,n.label),n.children&&Se(n.children||[])))})},or=()=>{const{menuList:t}=s.useContext(K),n=s.useMemo(()=>(ge.clear(),Se(t),ge),[t]),r=ne(),[a]=se(),i=()=>{if(r.pathname===$e){const l=a.get("url");if(l&&ge.has(l))return[e(me.Item,{children:e(Z,{style:{color:"inherit"},to:Fe(l),children:n.get(l)})},l)]}return[]},o=s.useMemo(()=>{const l=r.pathname.split("/").filter(m=>m);return l.map((m,c)=>{const f=`/${l.slice(0,c+1).join("/")}`;return n.has(f)?e(me.Item,{children:c===l.length-1?e(Z,{style:{color:"inherit"},to:f,children:n.get(f)}):n.get(f)},f):null})},[r]),u=[e(me.Item,{children:e(Ft,{})},"home"),...o,...i()];return e(me,{className:"breadcrumb",children:u})},mt=G.memo(or);const lr=()=>{const t=_(),n=ne(),{mapKeyToMenu:r}=s.useContext(K),{tabs:a,activeTab:i,openTab:o}=s.useContext(be);return e(Je,{activeKey:i,items:a,onChange:l=>{console.log("tabclick, tabKey",l,typeof l);const{path:m}=r.has(l)&&r.get(l)||{path:void 0};m&&m!==n.pathname&&t(m)}})},ir=()=>{const t=[{title:"æ˜µç§°",dataIndex:"nickname",key:"nickname"},{title:"ç™»å½•IP",dataIndex:"loginIp",key:"loginIp"},{title:"ç™»å½•æ—¶é—´",dataIndex:"create_time",key:"create_time",render:r=>e(dt,{time:r})}],n=Array(5).fill({id:te(10,1e5),userId:1,loginIp:"127.0.0.1",nickname:"admin",create_time:ie().subtract(3,"second").format(we.second)});return e(V,{title:"ç™»å½•å†å²",extra:e(Z,{to:"/",children:"æŸ¥çœ‹æ›´å¤š"}),children:e(Ne,{rowKey:()=>te(10,1e5),pagination:!1,size:"small",columns:t,dataSource:n})})},sr=N.Text,pe=()=>ie().format(we.second),cr=()=>{const[t,n]=s.useState(0),{colorError:r}=ue(),[a,i]=s.useState([{id:te(100,1e9),name:"å¤štabå¸ƒå±€æ”¯æŒ",status:z.incomplete,create_time:pe(),update_time:pe()},{id:1,name:"è¿™æ˜¯ä¸€ä¸ªtodoä¾‹å­",status:z.completed,create_time:pe(),update_time:pe()}]),[o,u]=s.useState(""),l=()=>{o&&(i([{name:o,status:z.incomplete,id:te(100,1e9),create_time:ie().format("YYYY-MM-DD HH:MM:SS"),update_time:ie().format("YYYY-MM-DD HH:MM:SS")},...a]),u(""))},m=(b,C)=>{i(a.map(y=>y.id!==b?y:{...y,status:C?z.completed:z.incomplete}))},c=(b,C)=>{console.log("iii",b,C),i(a.map(y=>y.id!==b?y:{...y,name:C}))},f=b=>{i(a.filter(C=>C.id!==b))};return e(V,{title:"å¾…åŠäº‹é¡¹",children:d(A,{direction:"vertical",style:{width:"100%"},children:[d(A.Compact,{style:{width:"100%",marginBottom:"16px"},children:[e(M,{value:o,onChange:b=>u(b.target.value),placeholder:"æ·»åŠ æ–°äº‹é¡¹",onPressEnter:l}),e(S,{onClick:l,type:"primary",icon:e(ce,{})})]}),a.map(({id:b,status:C,name:y})=>{const p=C===z.completed,v=t===b&&C===z.incomplete;return e(je,{onChange:({target:{checked:x}})=>m(b,x),checked:p,children:e(sr,{type:p?"secondary":void 0,delete:p,onMouseEnter:()=>n(b),onMouseLeave:()=>n(0),editable:v?{onChange:x=>c(b,x)}:!1,children:d(A,{children:[y,v&&e(qe,{title:"åˆ é™¤",children:e(Le,{onClick:()=>f(b),style:{color:r}})})]})})},b)})]})})},dr=()=>{const[t,n]=s.useState("pv"),r=[{tab:"è®¿é—®é‡",key:"pv"},{tab:"IP",key:"ip"}],a={pv:{stroke:"#8884d8",fill:"#b5b1e6"},ip:{stroke:"#00b96b",fill:"#82ca9d"}},i=Array.from({length:7}).map((o,u)=>({name:ie().subtract(u+1,"day").format("MM-DD"),pv:te(1e3,1e4),ip:te(100,1e3)})).reverse();return e(V,{activeTabKey:t,onTabChange:o=>n(o),tabList:r,children:e(Qe,{width:"100%",height:300,children:d(Ut,{data:i,children:[e(Ot,{strokeDasharray:"3 3"}),e(Rt,{dataKey:"name"}),e(Dt,{}),e(Xe,{wrapperStyle:{outline:"none"}}),e(Bt,{type:"monotone",strokeWidth:2,dataKey:t,stroke:a[t].stroke,fill:a[t].fill})]})})})},Be=[{name:"è§†é¢‘ç±»",value:400},{name:"å›¾æ–‡ç±»",value:300},{name:"èµ„è®¯ç±»",value:300}],Ke=()=>e(R,{children:d("div",{children:[d(j,{gutter:24,children:[e(I,{span:6,children:e(V,{bordered:!1,children:e(he,{title:"ä»Šæ—¥é”€å”®é¢",value:126560,precision:2,prefix:"$"})})}),e(I,{span:6,children:e(V,{bordered:!1,children:e(he,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(ke,{}),suffix:"%"})})}),e(I,{span:6,children:e(V,{bordered:!1,children:e(he,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,prefix:e(ke,{}),suffix:"%"})})}),e(I,{span:6,children:e(V,{bordered:!1,children:e(he,{title:"ç¤ºä¾‹æŒ‡æ ‡",value:11.28,precision:2,valueStyle:{color:"#3f8600"},prefix:e(ke,{}),suffix:"%"})})})]}),e("br",{}),d(j,{gutter:16,children:[e(I,{span:18,style:{height:300},children:e(dr,{})}),e(I,{span:6,children:e(V,{title:"å†…å®¹å æ¯”",children:e(Qe,{width:"100%",height:300,children:d(Kt,{width:400,height:400,children:[e(Ht,{data:Be,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:Be.map((t,n)=>e(_t,{fill:["#0088FE","#00C49F","#FFBB28"][n%3]},`cell-${n}`))}),e(Xe,{wrapperStyle:{outline:"none"}})]})})})})]}),e("br",{}),d(j,{gutter:16,children:[e(I,{span:12,children:e(cr,{})}),e(I,{span:12,children:e(ir,{})})]})]})}),He=()=>e("span",{children:"UserCenterPage"}),ur=()=>e("span",{children:"UserCenterUpdatePage"});const ht=s.forwardRef(({state:t},n)=>{const[r]=g.useForm(),a=s.useRef(null);return s.useImperativeHandle(n,()=>({form:r,input:a.current}),[r,a]),e("div",{children:d(g,{form:r,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(g.Item,{name:"username",label:"è´¦å·",rules:[{required:!0,message:"è¯·è¾“å…¥è´¦å·"}],children:e(M,{placeholder:"è¯·è¾“å…¥è´¦å·",ref:a})}),e(g.Item,{name:"password",label:"å¯†ç ",rules:[{required:!t,message:"è¯·è¾“å…¥å¯†ç "}],children:e(M.Password,{placeholder:t?"ä¸ä¿®æ”¹å¯†ç è¯·ç•™ç©º!":"è¯·è¾“å…¥å¯†ç "})}),e(g.Item,{name:"nickname",label:"æ˜µç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ˜µç§°"}],children:e(M,{placeholder:"è¯·è¾“å…¥æ˜µç§°"})}),e(g.Item,{name:"gender",label:"æ€§åˆ«",children:d(J.Group,{children:[e(J,{value:1,children:"ç”·"}),e(J,{value:2,children:"å¥³"})]})}),e(g.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(M,{placeholder:"è¯·è¾“å…¥æ‰‹æœºå·"})}),e(g.Item,{name:"email",label:"é‚®ç®±",children:e(M,{placeholder:"è¯·è¾“å…¥é‚®ç®±"})})]})})}),mr=({refreshList:t})=>{const[n,r]=s.useState(!1),{run:a,loading:i}=Y(Pn,{manual:!0,debounceWait:100,onSuccess:()=>{var l;r(!1),(l=o.current)==null||l.form.resetFields(),t==null||t()}}),o=s.useRef(null);return d("div",{children:[e(S,{type:"primary",icon:e(ce,{}),onClick:()=>{r(!0),setTimeout(()=>{var l,m;(m=(l=o.current)==null?void 0:l.input)==null||m.focus()},100)},children:"æ–°å¢ç”¨æˆ·"}),e(Ze,{open:n,title:"æ·»åŠ ç”¨æˆ·",okText:"æ·»åŠ ",cancelText:"å–æ¶ˆ",confirmLoading:i,onCancel:()=>r(!1),onOk:()=>{var l;(l=o.current)==null||l.form.validateFields().then(m=>{a(m)}).catch(m=>console.log(m))},children:e(ht,{ref:o})})]})},hr=({search:t,form:n})=>e(g,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:d(j,{gutter:24,children:[e(I,{span:6,children:e(g.Item,{name:"username",label:"è´¦å·",children:e(M,{placeholder:"è´¦å·"})})}),e(I,{span:6,children:e(g.Item,{name:"mobile",label:"æ‰‹æœºå·",children:e(M,{placeholder:"æ‰‹æœºå·"})})}),e(I,{span:6,children:e(g.Item,{name:"email",label:"é‚®ç®±",children:e(M,{placeholder:"é‚®ç®±"})})}),d(I,{span:6,style:{textAlign:"right"},children:[e(S,{onClick:t.reset,children:"é‡ç½®"}),e(S,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})}),pt=(t,n)=>{const r=zt(t,n),{tableProps:a}=r,i={...a.pagination,showTotal:(l,m)=>`ç¬¬${m[0]}-${m[1]} æ¡/å…± ${l} æ¡`,hideOnSinglePage:!0};a.pagination=i;const o=a.onChange,u=(...l)=>{var v;let[m,c,f,b]=l,C=m,y,p;Object.keys(f).length>0&&(Array.isArray(f)?(p={},f.map(x=>{var T;p[(T=x.column)==null?void 0:T.dataIndex]=x.order})):p={[(v=f.column)==null?void 0:v.dataIndex]:f.order}),Object.keys(c).length>0&&(y=c,console.log("filterrrrrrrrrrrrr",c)),o(C,y,p)};return a.onChange=u,r.tableProps.size="small",r},pr=({state:t,refreshList:n})=>{const[r,a]=s.useState(!1),{runAsync:i,loading:o}=Y(Nn,{manual:!0,debounceWait:100}),u=s.useRef(null);return d(R,{children:[e(S,{icon:e(Pe,{}),size:"small",onClick:()=>{a(!0),setTimeout(()=>{var m,c;(c=(m=u.current)==null?void 0:m.input)==null||c.focus()},100)},children:"ç¼–è¾‘"}),e(Ze,{open:r,title:"æ›´æ–°ç”¨æˆ·ä¿¡æ¯",okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",confirmLoading:o,onCancel:()=>a(!1),onOk:()=>{var m;(m=u.current)==null||m.form.validateFields().then(c=>{i({...c,id:t.id}).then(()=>{var f;a(!1),(f=u.current)==null||f.form.resetFields(),n==null||n()}).catch(st)}).catch(c=>console.log(c))},children:e(ht,{ref:u,state:t})})]})};const B=t=>{const{children:n,className:r="",style:a={},...i}=t,{colorBgContainer:o}=ue(),u="content-box",l={backgroundColor:o};return e("div",{className:`${u} ${r}`,style:{...l,...a},...i,children:n})},gr=()=>{var v;console.log("render ExampleUserListPage");const[t]=g.useForm(),[n,r]=s.useState([]),a=s.useRef();s.useEffect(()=>{a.current=new Map},[]);const{runAsync:i,loading:o}=Y(Ln,{manual:!0,debounceWait:100}),{refresh:u,tableProps:l,search:m}=pt(Mn,{form:t}),c=()=>{m.reset(),m.submit()},f=x=>{var T;typeof x=="number"&&((T=a==null?void 0:a.current)==null||T.set(x,!0)),i({id:x}).then(()=>{typeof x=="object"&&r([]),u()}).finally(()=>{var h;return typeof x=="number"&&((h=a==null?void 0:a.current)==null?void 0:h.delete(x))})},b=s.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"è´¦å·",dataIndex:"username",render:(x,{avatar:T,username:h})=>d(R,{children:[" ",e(Me,{src:T})," ",h]})},{title:"æ˜µç§°",dataIndex:"nickname"},{title:"æ€§åˆ«",dataIndex:"gender",render:x=>x===it.male?e(Ue,{color:"blue",children:"ç”·"}):e(Ue,{color:"error",children:"å¥³"})},{title:"é‚®ç®±",dataIndex:"email"},{title:"æ‰‹æœºå·",dataIndex:"mobile",sorter:!0},{title:"æ³¨å†Œæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(x,T)=>{var k;const{id:h}=T;return d(A,{children:[e(ve,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>f(h),children:e(S,{loading:(k=a==null?void 0:a.current)==null?void 0:k.has(h),icon:e(Le,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(pr,{state:T,refreshList:u})]})}}],[]),y={selectedRowKeys:n,onChange:x=>{console.log("selectedRowKeys changed: ",x),r(x)}},p=n.length>0;return d(R,{children:[d(B,{children:[e("div",{children:e(N.Title,{level:5,children:"æœç´¢"})}),e(hr,{search:m,form:t})]}),e("br",{}),d(B,{children:[d("div",{className:"table-header",children:[e("div",{className:"left",children:e(N.Title,{level:5,children:"ç”¨æˆ·åˆ—è¡¨"})}),e("div",{className:"right",children:d(A,{size:"middle",children:[e(ve,{title:`ç¡®å®šè¦åˆ é™¤è¿™${n.length}æ¡æ•°æ®å—?`,onConfirm:()=>f(n),children:e(S,{type:"primary",danger:!0,disabled:!p,loading:o&&((v=a.current)==null?void 0:v.size)===0,children:"æ‰¹é‡åˆ é™¤"})}),e(mr,{refreshList:c}),e(S,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:u,icon:e(et,{})})]})})]}),e(Ne,{rowKey:"id",rowSelection:y,columns:b,...l})]})]})},_e=({title:t="ç©ºç™½é¡µ"})=>e(B,{style:{height:"500px"},children:e(N.Title,{level:4,children:t})}),fr=({search:t,form:n})=>e(g,{form:n,name:"advanced_search",style:{paddingTop:16},onFinish:a=>{console.log("Received values of form: ",a)},children:d(j,{gutter:24,children:[e(I,{span:6,children:e(g.Item,{name:"title",label:"ä¸»é¢˜",children:e(M,{placeholder:"æ ‡é¢˜"})})}),e(I,{span:6,children:e(g.Item,{name:"ahthor",label:"ä½œè€…",children:e(M,{placeholder:"ä½œè€…"})})}),e(I,{span:6,children:e(g.Item,{name:"create_time",label:"å‘å¸ƒæ—¶é—´",children:e(Et.RangePicker,{})})}),d(I,{span:6,style:{textAlign:"right"},children:[e(S,{onClick:t.reset,children:"é‡ç½®"}),e(S,{style:{margin:"0 8px"},type:"primary",onClick:t.submit,children:"æŸ¥è¯¢"})]})]})});const ze=()=>{console.log("render ArticleIndexPage");const[t]=g.useForm(),n=s.useRef();_(),s.useEffect(()=>{n.current=new Map},[]);const{runAsync:r}=Y(Un,{manual:!0,debounceWait:100}),{refresh:a,tableProps:i,search:o}=pt(An,{form:t}),u=m=>{var c;(c=n==null?void 0:n.current)==null||c.set(m,!0),r({id:m}).then(a).finally(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.delete(m)})},l=s.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"å°é¢",dataIndex:"cover",render:m=>e(Vt,{width:80,height:45,style:{borderRadius:4},src:m})},{title:"æ ‡é¢˜",dataIndex:"title"},{title:"ç®€ä»‹",dataIndex:"description"},{title:"ä½œè€…",dataIndex:"author"},{title:"å‘å¸ƒæ—¶é—´",dataIndex:"create_time",sorter:!0},{title:"æ“ä½œ",key:"operation",fixed:"right",render:(m,c)=>{var b;const{id:f}=c;return d(A,{children:[e(ve,{title:"ç¡®è®¤è¦åˆ é™¤è¿™æ¡æ•°æ®å—?",onConfirm:()=>u(f),children:e(S,{loading:(b=n==null?void 0:n.current)==null?void 0:b.has(f),icon:e(Le,{}),size:"small",danger:!0,children:"åˆ é™¤"})}),e(Z,{to:`/article/update/${f}`,children:e(S,{icon:e(Pe,{}),size:"small",children:"ç¼–è¾‘"})})]})}}],[]);return d(R,{children:[d(B,{children:[e("div",{children:e(N.Title,{level:5,children:"æœç´¢"})}),e(fr,{search:o,form:t})]}),e("br",{}),d(B,{children:[d("div",{className:"table-header",children:[e("div",{className:"left",children:e(N.Title,{level:5,children:"æ–‡ç« åˆ—è¡¨"})}),e("div",{className:"right",children:d(A,{size:"middle",children:[e(Z,{to:"/article/create",children:e(S,{type:"primary",icon:e(ce,{}),children:"å‘å¸ƒæ–‡ç« "})}),e(S,{type:"link",title:"ç‚¹å‡»åˆ·æ–°",onClick:a,icon:e(et,{})})]})})]}),e(Ne,{rowKey:"id",columns:l,...i})]})]})},yr=()=>{const[t]=g.useForm(),n=_(),r="articleDraft",{loading:a,run:i}=Y($n,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{w.remove(r),n("/article/list")},200)}),o=w.getObject(r)||{},u=async()=>{const c=await t.validateFields();i(c)},l=()=>{const{cover:c,...f}=t.getFieldsValue();w.set(r,f),H.success("å·²ä¿å­˜åˆ°è‰ç¨¿ç®±")},m=c=>(console.log("Upload event:",c),Array.isArray(c)?c:c&&c.fileList);return d(B,{children:[e(N.Title,{level:3,children:"å‘å¸ƒæ–‡ç« "}),e(oe,{}),e(g,{form:t,name:"createForm",labelCol:{span:3},initialValues:o,children:d(j,{gutter:36,children:[d(I,{span:16,children:[e(g.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(M,{})}),e(g.Item,{label:"ç®€ä»‹",name:"description",children:e(M,{})}),e(g.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(M.TextArea,{rows:20})}),e(g.Item,{wrapperCol:{offset:3},children:d(A,{children:[e(S,{icon:e(tt,{}),onClick:u,loading:a,type:"primary",children:"å‘å¸ƒæ–‡ç« "}),e(S,{icon:e(jt,{}),onClick:l,children:"ä¿å­˜ä¸ºè‰ç¨¿"})]})})]}),d(I,{span:8,children:[e(g.Item,{label:"å°é¢",name:"cover",getValueFromEvent:m,valuePropName:"fileList",children:e(nt,{maxCount:1,listType:"picture-card",children:d("div",{children:[e(ce,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(g.Item,{label:"æ ‡ç­¾",name:"tags",children:e(rt,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(g.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(M,{})})]})]})})]})},br=()=>{const[t]=g.useForm(),n=_(),r=Yt(),{loading:a,run:i}=Y(wn,{manual:!0,debounceWait:10,onSuccess:c=>t.setFieldsValue(c)});s.useEffect(()=>{i({id:r.id})},[r.id]);const{loading:o,run:u}=Y(Fn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{n("/article/list")},200)}),l=async()=>{const c=await t.validateFields();u(c)},m=c=>(console.log("Upload event:",c),Array.isArray(c)?c:c&&c.fileList);return d(B,{children:[e(N.Title,{level:3,children:"æ›´æ–°æ–‡ç« "}),e(oe,{}),e(Ie,{spinning:a,children:e(g,{form:t,name:"createForm",labelCol:{span:3},children:d(j,{gutter:36,children:[d(I,{span:16,children:[e(g.Item,{name:"title",label:"æ–‡ç« æ ‡é¢˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ ‡é¢˜"}],children:e(M,{})}),e(g.Item,{label:"ç®€ä»‹",name:"description",children:e(M,{})}),e(g.Item,{label:"å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥å†…å®¹"}],children:e(M.TextArea,{rows:20})}),e(g.Item,{wrapperCol:{offset:3},children:e(A,{children:e(S,{icon:e(tt,{}),onClick:l,loading:o,type:"primary",children:"ä¿å­˜"})})})]}),d(I,{span:8,children:[e(g.Item,{label:"å°é¢",name:"cover",getValueFromEvent:m,valuePropName:"fileList",children:e(nt,{maxCount:1,listType:"picture-card",children:d("div",{children:[e(ce,{}),e("div",{style:{marginTop:8},children:"é€‰æ‹©å›¾ç‰‡"})]})})}),e(g.Item,{label:"æ ‡ç­¾",name:"tags",children:e(rt,{mode:"tags",placeholder:"æ–‡ç« æ ‡ç­¾"})}),e(g.Item,{label:"ä½œè€…",name:"author",rules:[{required:!0,message:"è¯·è¾“å…¥ä½œè€…"}],children:e(M,{})})]})]})})})]})},kr=()=>{const t=ne();return d(B,{style:{},children:[e(N.Title,{children:"404"}),e(N.Paragraph,{children:"é¡µé¢ä¸å­˜åœ¨"}),d(N.Paragraph,{children:["è·¯ç”±: ",t.pathname]}),e(Z,{to:"/",children:"å›åˆ°é¦–é¡µ"})]})};const vr=t=>{const{title:n="Iframe Page",name:r="internal-iframe"}=t,a=s.useRef(null),[i,o]=s.useState(!0),[u]=se();s.useEffect(()=>{o(!0)},[u]);const l=u.get("url"),m=()=>{o(!1)};return l?e(R,{children:e(B,{style:{height:"100%",padding:0},children:e(Ie,{wrapperClassName:"iframeSpin",spinning:i,tip:"æ­£åœ¨åŠ è½½ç¬¬ä¸‰æ–¹é¡µé¢, è¯·ç¨å...",children:e("iframe",{ref:a,width:"100%",height:"100%",onLoad:m,title:n,name:r,src:l})})})}):e(B,{children:e(qt,{message:"æ— æ•ˆçš„urlåœ°å€",type:"error"})})};function gt(){return console.log("routerrrrrrrrrrr"),Wt([{path:"/",element:e(Ke,{})},{path:"/dashboard",element:e(Ke,{})},{path:"/user",children:[{index:!0,element:e(He,{})},{path:"/user/center/index",element:e(He,{})},{path:"/user/center/update",element:e(ur,{})}]},{path:"/example/userList",element:e(gr,{})},{path:"/article",children:[{index:!0,element:e(ze,{})},{path:"/article/list",element:e(ze,{})},{path:"/article/create",element:e(yr,{})},{path:"/article/update/:id",element:e(br,{})}]},{path:"/blank",element:e(_e,{})},{path:$e,element:e(vr,{})},{path:"/multilevel/menu/2/3",element:e(_e,{title:"ä¸‰çº§èœå•"})},{path:"*",element:e(kr,{})}])}const Cr=()=>(console.log("MultitabLayout render..."),e(Kn,{children:d(O,{children:[e(ut,{}),d(O,{children:[e(ar,{}),d(O,{className:"content-layout",children:[e(lr,{}),e(mt,{}),e(_n,{children:e(gt,{})}),e(ct,{})]})]})]})}));const xr=({children:t})=>(console.log("Content render..."),console.log("childdddddddd",t),e(O.Content,{className:"content",children:t})),Sr=G.memo(xr),Tr=()=>{var C;const t=_(),n=ne(),{menuList:r,mapKeyToMenu:a,mapPathToMenu:i}=s.useContext(K);let o=((C=i.get("/dashboard"))==null?void 0:C.key)||"",u=[],l=!1;const{pathname:m}=n,[c]=se(),f=y=>{const p=a.get(y.key);if(console.log("mapKeyToMenu",a),console.log("clicked menu",y,p),!p){console.warn("æœªè·å–åˆ°èœå•ä¿¡æ¯");return}if(p.path!==m){if((p==null?void 0:p.type)==="url"){window.open(p.path,"_blank");return}if(document.title=`${D.pageTitlePrefix} - ${p.label}`,(p==null?void 0:p.type)==="iframe"){console.log("æ‰“å¼€iframeé¡µé¢"),t(Fe(p.path));return}t(p.path)}},b=s.useMemo(()=>{const y=v=>v.badge?v.badge==="dot"?e(le,{className:"menu-item-badge",offset:[6,0],dot:!0,children:v.label}):e(le,{className:"menu-item-badge",offset:[15,0],count:v.badge,children:v.label}):v.label,p=(v,x)=>{const T=[];return!l&&x&&u.push(x.key),v.map(h=>{var re;if(fe(h)&&(h.parent&&m.indexOf(h.path)===0&&(o=((re=i.get(h.parent))==null?void 0:re.key)||"",l=!0),h.type==="iframe"&&(c.get("url")||"")===h.path&&(l=!0,o=h.key),h.hideInMenu))return;let k;if(at(h))k={...h};else if(de(h))k={...h},h.children&&h.children.length>0&&(k.children=p(h.children));else if(ee(h)||Ae(h)){let{icon:L}=h;typeof L=="string"&&L.includes("icon-")&&(L=e($,{type:L})),k={key:"",...h,icon:L,label:y(h),children:ee(h)?p(h.children,h):void 0},!l&&h.path===m&&(o=h.key,l=!0)}k&&(k.key=k.key,T.push(k))}),!l&&u.pop(),T};return p(r)},[r]);return e(Ge,{style:{height:"100%"},onClick:f,mode:"inline",defaultSelectedKeys:[o],items:b,defaultOpenKeys:u})},Ir=G.memo(Tr),Mr=()=>{const{menuCollapsed:t}=s.useContext(K),{colorBgContainer:n}=ue();return e(O.Sider,{style:{background:n},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(Ir,{})})},Pr=()=>(console.log("SingleLaylut render..."),d(O,{children:[e(ut,{}),d(O,{children:[e(Mr,{}),d(O,{className:"content-layout",children:[e(mt,{}),e(Sr,{children:e(gt,{})}),e(ct,{})]})]})]})),Nr=()=>{const[t,n]=s.useState(!0),{setIsLogin:r,setUserInfo:a}=s.useContext(ye),{colorBgContainer:i}=ue(),{settings:{multitabMode:o,fixedMenu:u,fixedHeader:l,theme:m}}=s.useContext(W),{menuCollapsed:c}=s.useContext(K),f=_(),[b]=se();return console.log("global layout render..."),s.useEffect(()=>{if(!Ce()){f("/login");return}Tn().then(C=>{if(n(!1),r(!0),a(C),b.has("ghpage")){const y=decodeURIComponent(b.get("ghpage"));f(y);return}}).catch(C=>{C instanceof Jt&&Ye.error({message:"ç½‘ç»œé”™è¯¯",description:"è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥, æ— æ³•æ‰“å¼€é¡µé¢",duration:null,closeIcon:null})})},[]),Ce()?t?e(Rn,{title:"é¡µé¢åŠ è½½ä¸­",loading:t}):d("div",{"data-fixed-menu":u?1:0,"data-menu-collapsed":c?1:0,"data-fixed-header":l?1:0,style:{background:i},className:`global-layout theme-${m}`,children:[o?e(Cr,{}):e(Pr,{}),e(Dn,{})]}):(f("/login"),null)};function Lr(){return s.useEffect(()=>{},[]),e(yn,{children:e("div",{className:"App",children:d(Gt,{children:[e(Oe,{element:e(On,{}),path:"/login"}),e(Oe,{path:"*",element:e(Nr,{})})]})})})}function Ee(t){const n=JSON.stringify({type:"JWT",alg:"HS256"}),r=Number((new Date().getTime()/1e3).toFixed(0)),a=JSON.stringify({iss:"github.com/xstnet",sub:"react-admin",iat:r,exp:r+86400*14,data:t}),i="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Re(n)}.${Re(a)}.${i}`}P.mock(/api\/login/,"post",({body:t})=>{const{username:n,password:r}=JSON.parse(t);return n==="admin"?r!=="123456"?{code:-1,message:"å¯†ç é”™è¯¯"}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Ee({uid:1})}}:{code:0,message:"ç™»å½•æˆåŠŸ",data:{token:Ee({uid:Q.Random.natural(2,1e4)})}}});P.setup({timeout:100});P.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"é†‰ä¸¶æ˜¥é£",avatar:"https://www.xstnet.com/static/images/head.gif",password:"",gender:Q.Random.natural(1,2),email:"shantongxu@qq.com",mobile:"133xxxx3333"}}));P.mock(/api\/user\/logout/,"post",t=>({code:0,message:"é€€å‡ºæˆåŠŸ"}));P.mock(/api\/user\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,username:"@first@last",nickname:"@cname",avatar:()=>Q.Random.dataImage("200x200"),email:"@email",mobile:()=>P.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return P.mock(a)});P.mock(/api\/user\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:Q.Random.natural(100,9999)}}));P.mock(/api\/user\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));P.mock(/api\/user\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));P.setup({timeout:100});P.mock(/api\/article\/detail/,"get",t=>(console.log("ğŸš€ ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"ä¸»é¢˜",description:"é†‰ä¸¶æ˜¥é£",author:"é†‰ä¸¶æ˜¥é£",tags:[1,2],content:"content",create_time:Q.Random.datetime()}}));P.mock(/api\/article\/list/,"get",t=>{const n=new URLSearchParams(t.url);let r=Number(n.has("pageSize")?n.get("pageSize"):10);const a={code:0,message:"ok",data:{total:100,[`list|${r}`]:[{"id|+1":r,author:"@first@last",title:()=>P.Random.ctitle(5,20),description:"@cname",cover:()=>Q.Random.dataImage("480x270","å°é¢"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return P.mock(a)});P.mock(/api\/article\/create/,"post",t=>({code:0,message:"åˆ›å»ºæˆåŠŸ",data:{id:Q.Random.natural(100,9999)}}));P.mock(/api\/article\/update/,"post",t=>({code:0,message:"æ›´æ–°æˆåŠŸ"}));P.mock(/api\/article\/delete/,"post",t=>({code:0,message:"åˆ é™¤æˆåŠŸ"}));Qt.createRoot(document.getElementById("root")).render(e(Xt,{basename:"/react-admin-template/",children:e(Lr,{})}));
